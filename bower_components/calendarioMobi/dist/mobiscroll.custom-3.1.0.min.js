!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):e.mobiscroll=t(e.angular)}(this,function(e){"use strict";e="default"in e?e.default:e;var t=t||{};!function(e,s,a){function n(e){return"function"==typeof e}function i(e){return"object"==typeof e}function r(e){return"number"==typeof e.length}function l(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function o(e,t,s){for(var n in t)s&&(b.isPlainObject(t[n])||b.isArray(t[n]))?((b.isPlainObject(t[n])&&!b.isPlainObject(e[n])||b.isArray(t[n])&&!b.isArray(e[n]))&&(e[n]={}),o(e[n],t[n],s)):t[n]!==a&&(e[n]=t[n])}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e,t){return"number"!=typeof t||d[c(e)]?t:t+"px"}var d={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},m={readonly:"readOnly"},h=[],f=Array.prototype.slice,p=function(){var t=function(e){var t=this,s=0;for(s=0;s<e.length;s++)t[s]=e[s];return t.length=e.length,o(this)},o=function(a,i){var r=[],l=0;if(a&&!i&&a instanceof t)return a;if(n(a))return o(s).ready(a);if(a)if("string"==typeof a){var c,u,d;if(a=d=a.trim(),d.indexOf("<")>=0&&d.indexOf(">")>=0){var m="div";for(0===d.indexOf("<li")&&(m="ul"),0===d.indexOf("<tr")&&(m="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(m="tr"),0===d.indexOf("<tbody")&&(m="table"),0===d.indexOf("<option")&&(m="select"),u=s.createElement(m),u.innerHTML=d,l=0;l<u.childNodes.length;l++)r.push(u.childNodes[l])}else for(i||"#"!==a[0]||a.match(/[ .<>:~]/)?(i instanceof t&&(i=i[0]),c=(i||s).querySelectorAll(a)):c=[s.getElementById(a.split("#")[1])],l=0;l<c.length;l++)c[l]&&r.push(c[l])}else if(a.nodeType||a===e||a===s)r.push(a);else if(a.length>0&&a[0].nodeType)for(l=0;l<a.length;l++)r.push(a[l]);else o.isArray(a)&&(r=a);return new t(r)};return t.prototype={ready:function(e){return(s.attachEvent?"complete"==s.readyState:"loading"!=s.readyState)?e(o):s.addEventListener("DOMContentLoaded",function(){e(o)},!1),this},concat:h.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(e){return o(o.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return o(f.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&""!==t[s]&&this[a].classList.add(t[s]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&""!==t[s]&&this[a].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&this[a].classList.toggle(t[s]);return this},closest:function(e,t){var s=this[0],a=!1;for(i(e)&&(a=o(e));s&&!(a?a.indexOf(s)>=0:o.matches(s,e));)s=s!==t&&s.nodeType!==s.DOCUMENT_NODE&&s.parentNode;return o(s)},attr:function(e,t){var s;if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this}if(this.length)return s=this[0].getAttribute(e),s||""===s?s:a},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=m[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:a;for(var s=0;s<this.length;s++)this[s][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?o.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:a;if(this.length&&this[0].multiple)o.each(this[0].options,function(){this.selected=e.indexOf(this.value)!=-1});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,t,s,a){function i(e){var a,n,i=e.target;if(o(i).is(t))s.call(i,e);else for(n=o(i).parents(),a=0;a<n.length;a++)o(n[a]).is(t)&&s.call(n[a],e)}function r(e,t,s,a){var n=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:n[1],event:n[0],listener:s,capture:a}),e.addEventListener(n[0],s,a)}var l,c,u=e.split(" ");for(l=0;l<this.length;l++)if(n(t)||t===!1)for(n(t)&&(a=s||!1,s=t),c=0;c<u.length;c++)u[c].indexOf(".")!=-1?r(this[l],u[c],s,a):this[l].addEventListener(u[c],s,a);else for(c=0;c<u.length;c++)this[l].DomLiveListeners||(this[l].DomLiveListeners=[]),this[l].DomLiveListeners.push({listener:s,liveListener:i}),u[c].indexOf(".")!=-1?r(this[l],u[c],i,a):this[l].addEventListener(u[c],i,a);return this},off:function(e,t,s,a){function i(e){var t,s,a,n=e.split("."),i=n[0],r=n[1];for(t=0;t<u.length;++t)if(u[t].DomNameSpaces){for(s=0;s<u[t].DomNameSpaces.length;++s)a=u[t].DomNameSpaces[s],a.namespace!=r||a.event!=i&&i||(u[t].removeEventListener(a.event,a.listener,a.capture),a.removed=!0);for(s=u[t].DomNameSpaces.length-1;s>=0;--s)u[t].DomNameSpaces[s].removed&&u[t].DomNameSpaces.splice(s,1)}}var r,l,o,c,u=this;for(r=e.split(" "),l=0;l<r.length;l++)for(o=0;o<this.length;o++)if(n(t)||t===!1)n(t)&&(a=s||!1,s=t),0===r[l].indexOf(".")?i(r[l].substr(1)):this[o].removeEventListener(r[l],s,a);else{if(this[o].DomLiveListeners)for(c=0;c<this[o].DomLiveListeners.length;c++)this[o].DomLiveListeners[c].listener===s&&this[o].removeEventListener(r[l],this[o].DomLiveListeners[c].liveListener,a);this[o].DomNameSpaces&&this[o].DomNameSpaces.length&&r[l]&&i(r[l])}return this},trigger:function(e,t){for(var a=e.split(" "),n=0;n<a.length;n++)for(var i=0;i<this.length;i++){var r;try{r=new CustomEvent(a[n],{detail:t,bubbles:!0,cancelable:!0})}catch(e){r=s.createEvent("Event"),r.initEvent(a[n],!0,!0),r.detail=t}this[i].dispatchEvent(r)}return this},width:function(t){return t!==a?this.css("width",t):this[0]===e?e.innerWidth:this[0]===s?s.documentElement.scrollWidth:this.length>0?parseFloat(this.css("width")):null},height:function(t){if(t!==a)return this.css("height",t);if(this[0]===e)return e.innerHeight;if(this[0]===s){var n=s.body,i=s.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}return this.length>0?parseFloat(this.css("height")):null},innerWidth:function(){var e=this;if(this.length>0){if(this[0].innerWidth)return this[0].innerWidth;var t=this[0].offsetWidth;return["left","right"].forEach(function(s){t-=parseInt(e.css(l("border-"+s+"-width"))||0,10)}),t}},innerHeight:function(){var e=this;if(this.length>0){if(this[0].innerHeight)return this[0].innerHeight;var t=this[0].offsetHeight;return["top","bottom"].forEach(function(s){t-=parseInt(e.css(l("border-"+s+"-width"))||0,10)}),t}},offset:function(){if(this.length>0){var t=this[0],a=t.getBoundingClientRect(),n=s.documentElement;return{top:a.top+e.pageYOffset-n.clientTop,left:a.left+e.pageXOffset-n.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?e.getComputedStyle(this[0],null):a},css:function(e,t){var s,a,n=this[0],i="";if(arguments.length<2){if(!n)return;if("string"==typeof e)return n.style[e]||getComputedStyle(n,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?i=c(e)+":"+u(e,t):this.each(function(){this.style.removeProperty(c(e))});else for(a in e)if(e[a]||0===e[a])i+=c(a)+":"+u(a,e[a])+";";else for(s=0;s<this.length;s++)this[s].style.removeProperty(c(a));return this.each(function(){this.style.cssText+=";"+i})},each:function(e){for(var t=0;t<this.length&&e.apply(this[t],[t,this[t]])!==!1;t++);return this},filter:function(e){for(var s=[],a=0;a<this.length;a++)n(e)?e.call(this[a],a,this[a])&&s.push(this[a]):o.matches(this[a],e)&&s.push(this[a]);return new t(s)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:a;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return this.length>0&&o.matches(this[0],e)},not:function(e){var t=[];if(n(e)&&e.call!==a)this.each(function(s){e.call(this,s)||t.push(this)});else{var s="string"==typeof e?this.filter(e):r(e)&&n(e.item)?f.call(e):o(e);i(s)&&(s=o.map(s,function(e){return e})),this.each(function(e,a){s.indexOf(a)<0&&t.push(a)})}return o(t)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(o(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return e===a?f.call(this):this[e>=0?e:e+this.length]},eq:function(e){if(void 0===e)return this;var s,a=this.length;return e>a-1?new t([]):e<0?(s=a+e,new t(s<0?[]:[this[s]])):new t([this[e]])},append:function(e){var a,n;for(a=0;a<this.length;a++)if("string"==typeof e){var i=s.createElement("div");for(i.innerHTML=e;i.firstChild;)this[a].appendChild(i.firstChild)}else if(e instanceof t)for(n=0;n<e.length;n++)this[a].appendChild(e[n]);else this[a].appendChild(e);return this},appendTo:function(e){return o(e).append(this),this},prepend:function(e){var a,n;for(a=0;a<this.length;a++)if("string"==typeof e){var i=s.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n--)this[a].insertBefore(i.childNodes[n],this[a].childNodes[0])}else if(e instanceof t)for(n=0;n<e.length;n++)this[a].insertBefore(e[n],this[a].childNodes[0]);else this[a].insertBefore(e,this[a].childNodes[0]);return this},prependTo:function(e){return o(e).prepend(this),this},insertBefore:function(e){for(var t=o(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a]);return this},insertAfter:function(e){for(var t=o(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(t.length>1)for(var a=0;a<t.length;a++)t[a].parentNode.insertBefore(this[s].cloneNode(!0),t[a].nextSibling);return this},next:function(e){return new t(this.length>0?e?this[0].nextElementSibling&&o(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var s=[],a=this[0];if(!a)return new t([]);for(;a.nextElementSibling;){var n=a.nextElementSibling;e?o(n).is(e)&&s.push(n):s.push(n),a=n}return new t(s)},prev:function(e){return new t(this.length>0?e?this[0].previousElementSibling&&o(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var s=[],a=this[0];if(!a)return new t([]);for(;a.previousElementSibling;){var n=a.previousElementSibling;e?o(n).is(e)&&s.push(n):s.push(n),a=n}return new t(s)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?o(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return o(o.unique(t))},parents:function(e){for(var t=[],s=0;s<this.length;s++)for(var a=this[s].parentNode;a;)e?o(a).is(e)&&t.push(a):t.push(a),a=a.parentNode;return o(o.unique(t))},find:function(e){for(var s=[],a=0;a<this.length;a++)for(var n=this[a].querySelectorAll(e),i=0;i<n.length;i++)s.push(n[i]);return new t(s)},children:function(e){for(var s=[],a=0;a<this.length;a++)for(var n=this[a].childNodes,i=0;i<n.length;i++)e?1===n[i].nodeType&&o(n[i]).is(e)&&s.push(n[i]):1===n[i].nodeType&&s.push(n[i]);return new t(o.unique(s))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var a=o(arguments[e]);for(t=0;t<a.length;t++)s[s.length]=a[t],s.length++}return s},before:function(e){return o(e).insertBefore(this),this},after:function(e){return o(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===a?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===a?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return f.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return o(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!o(t).filter(e).length;)s.push(t[0]),t=t.prev();return o(s)},detach:function(){return this.remove()}},o.fn=t.prototype,o}(),b=p;t.$=p,b.inArray=function(e,t,s){return h.indexOf.call(t,e,s)},b.extend=function(e){var t,s=f.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),e=e||{},s.forEach(function(s){o(e,s,t)}),e},b.isFunction=n,b.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},b.isPlainObject=function(e){return i(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},b.each=function(e,t){var s,a;if(i(e)&&t){if(b.isArray(e)||e instanceof p)for(s=0;s<e.length&&t.call(e[s],s,e[s])!==!1;s++);else for(a in e)if(e.hasOwnProperty(a)&&"length"!==a&&t.call(e[a],a,e[a])===!1)break;return this}},b.unique=function(e){for(var t=[],s=0;s<e.length;s++)t.indexOf(e[s])===-1&&t.push(e[s]);return t},b.map=function(e,t){var s,a,n,i=[];if(r(e))for(a=0;a<e.length;a++)null!==(s=t(e[a],a))&&i.push(s);else for(n in e)null!==(s=t(e[n],n))&&i.push(s);return i.length>0?b.fn.concat.apply([],i):i},b.matches=function(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)}}(window,document),function(e,s,a){function n(e){var t;for(t in e)if(b[e[t]]!==a)return!0;return!1}function i(e){if(r.tapped&&!e.tap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}var r,l,o,c=function(){},u=t.$,d=+new Date,m={},h=u.extend,f=navigator.userAgent,p=f.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),b=s.createElement("modernizr").style,v=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(n([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),g=v.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz"),y=b.animation!==a?"animationend":"webkitAnimationEnd",x=[];/Android/i.test(p)?(l="android",(o=navigator.userAgent.match(/Android\s+([\d\.]+)/i))&&(x=o[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(p)?(l="ios",(o=navigator.userAgent.match(/OS\s+([\d\_]+)/i))&&(x=o[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(p)?l="wp":/Windows|MSIE/i.test(p)&&(l="windows"),r=h(t,{$:u,version:"3.1.0",util:{prefix:v,jsPrefix:g,animEnd:y,preventClick:function(){r.tapped++,setTimeout(function(){r.tapped--},500)},testTouch:function(e,t){if("touchstart"==e.type)u(t).attr("data-touch","1");else if(u(t).attr("data-touch"))return u(t).removeAttr("data-touch"),!1;return!0},objectToArray:function(e){var t,s=[];for(t in e)s.push(e[t]);return s},arrayToObject:function(e){var t,s={};if(e)for(t=0;t<e.length;t++)s[e[t]]=e[t];return s},isNumeric:function(e){return e-parseFloat(e)>=0},isString:function(e){return"string"==typeof e},getCoord:function(e,t,s){var a=e.originalEvent||e,n=(s?"page":"client")+t;return a.targetTouches&&a.targetTouches[0]?a.targetTouches[0][n]:a.changedTouches&&a.changedTouches[0]?a.changedTouches[0][n]:e[n]},getPosition:function(e,t){var s,n=getComputedStyle(e[0]);return u.each(["t","webkitT","MozT","OT","msT"],function(e,t){if(n[t+"ransform"]!==a)return s=n[t+"ransform"],!1}),s=s.split(")")[0].split(", "),t?s[13]||s[5]:s[12]||s[4]},constrain:function(e,t,s){return Math.max(t,Math.min(e,s))},vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)},throttle:function(e,t){var s,a;return t=t||100,function(){var n=this,i=+new Date,r=arguments;s&&i<s+t?(clearTimeout(a),a=setTimeout(function(){s=i,e.apply(n,r)},t)):(s=i,e.apply(n,r))}}},tapped:0,autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},page:{},frame:{},scroller:{},listview:{},menustrip:{},progress:{}},platform:{name:l,majorVersion:x[0],minorVersion:x[1]},i18n:{},instances:m,classes:{},components:{},settings:{},setDefaults:function(e){h(this.settings,e)},customTheme:function(e,s){var a,n=t.themes,i=["frame","scroller","listview","menustrip","form","progress"];for(a=0;a<i.length;a++)n[i[a]][e]=t.$.extend({},n[i[a]][s],{baseTheme:s})}}),r.presetShort=r.presetShort||function(){},r.classes.Base=function(e,t){var s,a,n,i,l,o,f,p=r.util,b=p.getCoord,v=this;v.settings={},v._init=c,v._destroy=c,v._processSettings=c,v.init=function(c){var u;for(u in v.settings)delete v.settings[u];n=v.settings,h(t,c),v._hasDef&&(f=r.settings),h(n,v._defaults,f,t),v._hasTheme&&(l=n.theme,"auto"!=l&&l||(l=r.autoTheme),"default"==l&&(l="mobiscroll"),t.theme=l,i=r.themes[v._class]?r.themes[v._class][l]:{}),v._hasLang&&(s=r.i18n[n.lang]),v._hasTheme&&o("onThemeLoad",{lang:s,settings:t}),h(n,i,s,f,t),v._processSettings(),v._hasPreset&&(a=r.presets[v._class][n.preset])&&(a=a.call(e,v),h(n,a,t)),v._init(c),o("onInit")},v.destroy=function(){v&&(v._destroy(),o("onDestroy"),delete m[e.id],v=null)},v.tap=function(e,t,s,a,i){function r(e){h||(s&&e.preventDefault(),h=this,d=b(e,"X"),m=b(e,"Y"),f=!1,g=new Date)}function l(e){h&&!f&&(Math.abs(b(e,"X")-d)>a||Math.abs(b(e,"Y")-m)>a)&&(f=!0)}function o(e){h&&((i&&new Date-g<100||!f)&&(e.preventDefault(),t.call(h,e,v)),h=!1,p.preventClick())}function c(){h=!1}var d,m,h,f,g,y=u(e);a=a||9,n.tap&&y.on("touchstart.mbsc",r).on("touchcancel.mbsc",c).on("touchmove.mbsc",l).on("touchend.mbsc",o),y.on("click.mbsc",function(e){e.preventDefault(),t.call(this,e,v)})},v.trigger=function(s,n){var r,l,o,c=[f,i,a,t];for(l=0;l<4;l++)(o=c[l])&&o[s]&&(r=o[s].call(e,n||{},v));return r},v.option=function(e,t){var s={};"object"==typeof e?s=e:s[e]=t,v.init(s)},v.getInst=function(){return v},t=t||{},o=v.trigger,u(e).addClass("mbsc-comp"),e.id?m[e.id]&&m[e.id].destroy():e.id="mobiscroll"+ ++d,m[e.id]=v},s.addEventListener&&u.each(["mouseover","mousedown","mouseup","click"],function(e,t){s.addEventListener(t,i,!0)})}(window,document),t.ng={},function(){var s=t.$,a=t.instances;t.ng={getDDO:function(a,n,i,r,l,o,c,u){return l=l||t.ng.read,r=r||t.ng.render,o=o||t.ng.parse,c=c||t.ng.format,{restrict:"A",require:"?ngModel",priority:e.version&&1==e.version.major&&2==e.version.minor?1:void 0,link:function(d,m,h,f){var p,b=s(m[0]);t.ng.addWatch(a,d,f,b,h,n,r,l,o,c),p=new t.classes[i.component||"Scroller"](m[0],e.extend(t.ng.getOpt(d,h,n,f,u,b),i||{})),h.mobiscrollInstance&&a(h.mobiscrollInstance).assign(d,p)}}},getOpt:function(s,a,n,i,r,l){var o=s.$eval(a.mobiscrollOptions||"{}"),c=r?l.closest("[mbsc-form-opt]"):null;return r&&(o=e.extend({},t.ng.formOptions[c.attr("id")]||{},o)),i&&e.extend(o,s.$eval(a[n]||"{}")),o},read:function(e,t,s,n,i,r,l){var o,c=a[s.attr("id")];c&&(o=l(s,c.getVal()),r?r.$setViewValue(o):i[t]&&e(i[t]).assign(n,o))},render:function(t,s){var n=a[t.attr("id")];n&&!e.equals(n.getVal(),s)&&n.setVal(s,!0,!1)},parse:function(e){var t,n=a[e.attr("id")];return n&&(t=n.getVal()),s.isArray(t)&&!t.length?null:t},format:function(e,t){return s.isArray(t)&&!t.length?null:t},addWatch:function(e,s,a,n,i,r,l,o,c,u){l=l||t.ng.render,o=o||t.ng.read,c=c||t.ng.parse,u=u||t.ng.format,a&&(a.$render=function(){},a.$parsers.unshift(function(e){return c(n,e)}),a.$formatters.push(function(e){return u(n,e)})),s.$watch(function(){return a?a.$modelValue:e(i[r])(s)},function(e){l(n,e)},!0),n.on("change",function(){s.$$phase?o(e,r,n,s,i,a,u):s.$apply(function(){o(e,r,n,s,i,a,u)})})},formOptions:{}}}(),function(e){function s(e,t){var s=document.createElement("script"),a="mbscjsonp"+ ++n;window[a]=function(e){s.parentNode.removeChild(s),delete window[a],e&&t(e)},s.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(s)}function a(e,t){var s=new XMLHttpRequest;s.open("GET",e,!0),s.onload=function(){this.status>=200&&this.status<400&&t(JSON.parse(this.response))},s.onerror=function(){},s.send()}var n=0;t.util.getJson=function(e,t,n){"jsonp"==n?s(e,t):a(e,t)}}();var s=t.util.getJson;!function(e,s,a){var n,i,r=t,l=r.$,o=r.platform,c=r.util,u=c.constrain,d=c.isString,m=c.getCoord,h=c.animEnd,f=/(iphone|ipod)/i.test(navigator.userAgent)&&o.majorVersion>=7,p="ios"==o.name&&8==o.majorVersion,b=function(){},v=function(e){e.preventDefault()};r.classes.Frame=function(t,o,p){function g(e){W&&W.removeClass("mbsc-fr-btn-a"),W=l(this),W.hasClass("mbsc-fr-btn-d")||W.hasClass("mbsc-fr-btn-nhl")||W.addClass("mbsc-fr-btn-a"),"mousedown"===e.type?l(s).on("mouseup",y):"pointerdown"===e.type&&l(s).on("pointerup",y)}function y(e){W&&(W.removeClass("mbsc-fr-btn-a"),W=null),"mouseup"===e.type?l(s).off("mouseup",y):"pointerup"===e.type&&l(s).off("pointerup",y)}function x(e){13==e.keyCode?ue.select():27==e.keyCode&&ue.cancel()}function w(e){e||Z.focus(),ue.ariaMessage(se.ariaMessage)}function C(e){var t=n,s=se.focusOnClose;ue._markupRemove(),L.remove(),r.activeInstance||(j&&(O.removeClass(U),J&&(I.css({top:"",left:""}),H.scrollLeft(ae),H.scrollTop(ie))),e||(t||(t=de),setTimeout(function(){s===a||s===!0?(i=!0,t[0].focus()):s&&l(s)[0].focus()},200))),n=null,ue._isVisible=!1,B=!1,le("onHide")}function _(e){clearTimeout(he[e.type]),he[e.type]=setTimeout(function(){var t="scroll"==e.type;t&&!ne||(ue.position(!t),"orientationchange"==e.type&&(Q.style.display="none",Q.offsetHeight,Q.style.display=""))},200)}function T(e){e.target.nodeType&&!Q.contains(e.target)&&Q.focus()}function M(){l(s.activeElement).is("input,textarea")&&s.activeElement.blur()}function D(e,t){e&&e(),ue.show()!==!1&&(n=t,setTimeout(function(){i=!1},300))}function S(){ue._fillValue(),le("onSet",{valueText:ue._value})}function k(){le("onCancel",{valueText:ue._value})}function V(){ue.setVal(null,!0)}var A,I,$,O,L,N,F,E,H,Y,P,W,R,q,j,B,U,X,z,K,G,J,Z,Q,ee,te,se,ae,ne,ie,re,le,oe,ce,ue=this,de=l(t),me=[],he={};r.classes.Base.call(this,t,o,!0),ue.position=function(e){var t,n,i,o,c,d,m,h,f,p,b,v,g,y,x,w,C={},_=0,T=0,M=0,D=0;!te&&B&&(ue._position(L),v=X.offsetHeight,g=X.offsetWidth,oe===g&&ce===v&&e||(ue._isFullScreen||/top|bottom/.test(se.display)?E.width(g):Y.width(""),le("onPosition",{target:X,windowWidth:g,windowHeight:v})!==!1&&j&&(l(".mbsc-comp",L).each(function(){var e=r.instances[this.id];e&&e!==ue&&e.position&&e.position()}),!ue._isFullScreen&&/center|bubble/.test(se.display)&&(l(".mbsc-w-p",L).each(function(){y=this.getBoundingClientRect().width,D+=y,M=y>M?y:M}),Y.css({width:ue._isLiquid?Math.min(se.maxPopupWidth,g-16):Math.ceil(D>g?M:D),"white-space":D>g?"":"nowrap"})),z=Q.offsetWidth,K=Q.offsetHeight,ue.scrollLock=ne=K<=v&&z<=g,G&&(_=H.scrollLeft(),T=H.scrollTop()),"center"==se.display?(w=Math.max(0,_+(g-z)/2),x=Math.max(0,T+(v-K)/2)):"bubble"==se.display?(t=se.anchor===a?de:l(se.anchor),m=l(".mbsc-fr-arr-i",L)[0],o=t.offset(),c=o.top+(q?T-I.offset().top:0),d=o.left+(q?_-I.offset().left:0),n=t[0].offsetWidth,i=t[0].offsetHeight,h=m.offsetWidth,f=m.offsetHeight,w=u(d-(z-n)/2,_+8,_+g-z-8),x=c-K-f/2,x<T||c>T+v?(E.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),x=c+i+f/2):E.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),l(".mbsc-fr-arr",L).css({left:u(d+n/2-(w+(z-h)/2),0,h)})):(w=_,x="top"==se.display?T:Math.max(0,T+v-K)),G&&(p=Math.max(x+K,q?I[0].scrollHeight:l(s).height()),b=Math.max(w+z,q?I[0].scrollWidth:l(s).width()),F.css({width:b,height:p}),se.scroll&&"bubble"==se.display&&(x+K+8>T+v||c>T+v||c+i<T)&&(te=!0,setTimeout(function(){te=!1},300),H.scrollTop(Math.min(c,x+K-v+8,p-v)))),C.top=Math.floor(x),C.left=Math.floor(w),E.css(C),oe=g,ce=v)))},ue.attachShow=function(e,t){var s,a=l(e),n=a.prop("readonly");if("inline"!==se.display){if((se.showOnFocus||se.showOnTap)&&a.is("input,select")&&(a.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){ue._isVisible&&this.blur()}),s=l('label[for="'+a.attr("id")+'"]'),s.length||(s=a.closest("label"))),a.is("select"))return;se.showOnFocus&&a.on("focus.mbsc",function(){i||D(t,a)}),se.showOnTap&&(a.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),D(t,a))}),ue.tap(a,function(){D(t,a)}),s&&s.length&&ue.tap(s,function(){D(t,a)})),me.push({readOnly:n,el:a,lbl:s})}},ue.select=function(){j?ue.hide(!1,"set",!1,S):S()},ue.cancel=function(){j?ue.hide(!1,"cancel",!1,k):k()},ue.clear=function(){ue._clearValue(),le("onClear"),j&&ue._isVisible&&!ue.live?ue.hide(!1,"clear",!1,V):V()},ue.enable=function(){se.disabled=!1,ue._isInput&&de.prop("disabled",!1)},ue.disable=function(){se.disabled=!0,ue._isInput&&de.prop("disabled",!0)},ue.show=function(t,s){var n,i;if(!se.disabled&&!ue._isVisible){if(ue._readValue(),le("onBeforeShow")===!1)return!1;if(R=se.animate,P=se.buttons||[],G=q||"bubble"==se.display,J=f&&!G,n=P.length>0,R!==!1&&("top"==se.display?R="slidedown":"bottom"==se.display?R="slideup":"center"!=se.display&&"bubble"!=se.display||(R=se.animate||"pop")),j&&(U="mbsc-fr-lock"+(J?" mbsc-fr-lock-ios":"")+(q?" mbsc-fr-lock-ctx":""),ie=Math.max(0,H.scrollTop()),ae=Math.max(0,H.scrollLeft()),oe=0,ce=0,J&&!O.hasClass("mbsc-fr-lock")&&I.css({top:-ie+"px",left:-ae+"px"}),O.addClass(U),M(),r.activeInstance&&r.activeInstance.hide(),r.activeInstance=ue),i='<div lang="'+se.lang+'" class="mbsc-fr mbsc-no-touch mbsc-'+se.theme+(se.baseTheme?" mbsc-"+se.baseTheme:"")+" mbsc-fr-"+se.display+" "+(se.cssClass||"")+" "+(se.compClass||"")+(ue._isLiquid?" mbsc-fr-liq":"")+(J?" mbsc-platform-ios":"")+(n?P.length>=3?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(j?'<div class="mbsc-fr-persp"><div class="mbsc-fr-overlay"></div><div role="dialog" tabindex="-1" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(se.rtl?" mbsc-rtl":" mbsc-ltr")+(se.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===se.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(se.headerText?'<div class="mbsc-fr-hdr">'+(d(se.headerText)?se.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',i+=ue._generateContent(),i+="</div>",n&&(i+='<div class="mbsc-fr-btn-cont">',l.each(P,function(e,t){t=d(t)?ue.buttons[t]:t,"set"===t.handler&&(t.parentClass="mbsc-fr-btn-s"),"cancel"===t.handler&&(t.parentClass="mbsc-fr-btn-c"),i+="<div"+(se.btnWidth?' style="width:'+100/P.length+'%"':"")+' class="mbsc-fr-btn-w '+(t.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+e+" mbsc-fr-btn-e "+(t.cssClass===a?se.btnClass:t.cssClass)+(t.icon?" mbsc-ic mbsc-ic-"+t.icon:"")+'">'+(t.text||"")+"</div></div>"}),i+="</div>"),i+="</div></div></div></div>"+(j?"</div></div>":""),L=l(i),F=l(".mbsc-fr-persp",L),N=l(".mbsc-fr-scroll",L),Y=l(".mbsc-fr-w",L),$=l(".mbsc-fr-hdr",L),E=l(".mbsc-fr-popup",L),A=l(".mbsc-fr-aria",L),X=L[0],Z=N[0],Q=E[0],ue._markup=L,ue._header=$,ue._isVisible=!0,ee="orientationchange resize",ue._markupReady(L),le("onMarkupReady",{target:X}),j){if(l(e).on("keydown",x),se.scrollLock&&L.on("touchmove mousewheel wheel",function(e){ne&&e.preventDefault()}),se.focusTrap&&H.on("focusin",T),se.closeOnOverlayTap){var o,u,p,b;N.on("touchstart mousedown",function(e){u||e.target!=N[0]||(u=!0,o=!1,p=m(e,"X"),b=m(e,"Y"))}).on("touchmove mousemove",function(e){u&&!o&&(Math.abs(m(e,"X")-p)>9||Math.abs(m(e,"Y")-b)>9)&&(o=!0)}).on("touchcancel",function(){u=!1}).on("touchend touchcancel mouseup",function(e){u&&!o&&(ue.cancel(),"mouseup"!=e.type&&c.preventClick()),u=!1})}G&&(ee+=" scroll")}setTimeout(function(){if(j)L.appendTo(I);else if(de.is("div")&&!ue._hasContent)de.empty().append(L);else if(de.hasClass("mbsc-control")){var e=de.closest(".mbsc-control-w");L.insertAfter(e),e.hasClass("mbsc-select")&&e.addClass("mbsc-select-inline")}else L.insertAfter(de);B=!0,ue._markupInserted(L),le("onMarkupInserted",{target:X}),L.on("selectstart mousedown",v).on("click",".mbsc-fr-btn-e",v).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32==e.keyCode)e.preventDefault();else if(9==e.keyCode&&j&&se.focusTrap){var t=L.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),s=t.index(l(":focus",L)),a=t.length-1,n=0;e.shiftKey&&(a=0,n=-1),s===a&&(t.eq(n)[0].focus(),e.preventDefault())}}).on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",g).on("touchend",".mbsc-fr-btn-e",y),l("input,select,textarea",L).on("selectstart mousedown",function(e){e.stopPropagation()}).on("keydown",function(e){32==e.keyCode&&e.stopPropagation()}),X.addEventListener("touchstart",function(){re||(re=!0,I.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},!0),l.each(P,function(e,t){ue.tap(l(".mbsc-fr-btn"+e,L),function(e){t=d(t)?ue.buttons[t]:t,(d(t.handler)?ue.handlers[t.handler]:t.handler).call(this,e,ue)},!0)}),ue._attachEvents(L),ue.position(),H.on(ee,_),j&&(R&&!t?L.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+R).on(h,function(){L.off(h).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+R).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+R),w(s)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+R):w(s)),le("onShow",{target:X,valueText:ue._tempValue})},J?100:0)}},ue.hide=function(t,s,a,n){if(!ue._isVisible||!a&&!ue._isValid&&"set"==s||!a&&le("onBeforeClose",{valueText:ue._tempValue,button:s})===!1)return!1;j&&(M(),l(e).off("keydown",x),delete r.activeInstance),L&&(j&&R&&!t&&!L.hasClass("mbsc-anim-trans")?L.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+R).on(h,function(){L.off(h),C(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+R):C(t),ue._detachEvents(L),H.off(ee,_).off("focusin",T)),n&&n(),le("onClose",{valueText:ue._value})},ue.ariaMessage=function(e){A.html(""),setTimeout(function(){A.html(e)},100)},ue.isVisible=function(){return ue._isVisible},ue.setVal=b,ue.getVal=b,ue._generateContent=b,ue._attachEvents=b,ue._detachEvents=b,ue._readValue=b,ue._clearValue=b,ue._fillValue=b,ue._markupReady=b,ue._markupInserted=b,ue._markupRemove=b,ue._position=b,ue.__processSettings=b,ue.__init=b,ue.__destroy=b,ue._destroy=function(){ue.hide(!0,!1,!0),de.off(".mbsc"),l.each(me,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),t.lbl&&t.lbl.off(".mbsc")}),ue.__destroy()},ue._processSettings=function(){var t,s;for(ue.__processSettings(),se.buttons=se.buttons||("inline"!==se.display?["set","cancel"]:[]),se.headerText=se.headerText===a?"inline"!==se.display&&"{value}":se.headerText,P=se.buttons||[],j="inline"!==se.display,q="body"!=se.context,I=l(se.context),O=q?I:l("body,html"),ue._window=H=l(q?se.context:e),ue.live=!0,s=0;s<P.length;s++)"ok"!=(t=P[s])&&"set"!=t&&"set"!=t.handler||(ue.live=!1);ue.buttons.set={text:se.setText,icon:se.setIcon,handler:"set"},ue.buttons.cancel={text:se.cancelText,icon:se.cancelIcon,handler:"cancel"},ue.buttons.close={text:se.closeText,icon:se.closeIcon,handler:"cancel"},ue.buttons.clear={text:se.clearText,icon:se.clearIcon,handler:"clear"},ue._isInput=de.is("input")},ue._init=function(){ue._isVisible&&ue.hide(!0,!1,!0),de.off(".mbsc"),ue.__init(),ue._isLiquid="liquid"==se.layout,j?(ue._readValue(),ue._hasContent||ue.attachShow(de)):ue.show(),de.on("change.mbsc",function(){ue._preventChange||ue.setVal(de.val(),!0,!1),ue._preventChange=!1})},ue.buttons={},ue.handlers={set:ue.select,cancel:ue.cancel,clear:ue.clear},ue._value=null,
ue._isValid=!0,ue._isVisible=!1,se=ue.settings,le=ue.trigger,p||ue.init(o)},r.classes.Frame.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:!1,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!p},r.themes.frame.mobiscroll={headerText:!1,btnWidth:!1},r.themes.scroller.mobiscroll=l.extend({},r.themes.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),l(e).on("focus",function(){n&&(i=!0)})}(window,document),function(e){var s=t,a=s.$,n=s.classes,i=s.util,r=i.constrain,l=i.jsPrefix,o=i.prefix,c=i.getCoord,u=i.getPosition,d=i.testTouch,m=i.isNumeric,h=i.isString,f=/(iphone|ipod|ipad)/i.test(navigator.userAgent),p=function(){},b=window.requestAnimationFrame||function(e){e()},v=window.cancelAnimationFrame||p;n.ScrollView=function(e,t,s){function i(e){ae("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),(ce.prevDef||"mousedown"==e.type)&&e.preventDefault(),ce.readonly||ce.lock&&W||d(e,this)&&!P&&(_&&_.removeClass("mbsc-btn-a"),N=!1,W||(_=a(e.target).closest(".mbsc-btn-e",this),_.length&&!_.hasClass("mbsc-btn-d")&&(N=!0,T=setTimeout(function(){_.addClass("mbsc-btn-a")},100))),P=!0,B=!1,R=!1,re.scrolled=W,Z=c(e,"X"),Q=c(e,"Y"),$=F=Z,D=0,S=0,k=0,J=new Date,G=+u(te,ne)||0,W&&C(G,f?0:1),"mousedown"===e.type&&a(document).on("mousemove",p).on("mouseup",y))}function p(e){P&&(ce.stopProp&&e.stopPropagation(),$=c(e,"X"),O=c(e,"Y"),D=$-Z,S=O-Q,k=ne?S:D,N&&(Math.abs(S)>5||Math.abs(D)>5)&&(clearTimeout(T),_.removeClass("mbsc-btn-a"),N=!1),(re.scrolled||!R&&Math.abs(k)>5)&&(B||ae("onGestureStart",L),re.scrolled=B=!0,j||(j=!0,q=b(g))),ne||ce.scrollLock?e.preventDefault():re.scrolled?e.preventDefault():Math.abs(S)>7&&(R=!0,re.scrolled=!0,ue.trigger("touchend")))}function g(){H&&(k=r(k,-z*H,z*H)),C(r(G+k,Y-I,E+I)),j=!1}function y(e){if(P){var t,s=new Date-J;ce.stopProp&&e.stopPropagation(),v(q),j=!1,!R&&re.scrolled&&(ce.momentum&&s<300&&(t=k/s,k=Math.max(Math.abs(k),t*t/ce.speedUnit)*(k<0?-1:1)),w(k)),N&&(clearTimeout(T),_.addClass("mbsc-btn-a"),setTimeout(function(){_.removeClass("mbsc-btn-a")},100),R||re.scrolled||ae("onBtnTap",{target:_[0]})),"mouseup"==e.type&&a(document).off("mousemove",p).off("mouseup",y),P=!1}}function x(e){if(e=e.originalEvent||e,k=ne?e.deltaY||e.wheelDelta||e.detail:e.deltaX,ae("onStart",{domEvent:e}),ce.stopProp&&e.stopPropagation(),k){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(k*=5),k=r(-k,-20,20),G=ie,ce.readonly||G+k<Y||G+k>E)return;B||(L={posX:ne?0:ie,posY:ne?ie:0,originX:ne?0:G,originY:ne?G:0,direction:k>0?ne?270:360:ne?90:180},ae("onGestureStart",L)),j||(j=!0,q=b(g)),B=!0,clearTimeout(U),U=setTimeout(function(){v(q),j=!1,B=!1,w(k)},200)}}function w(e){var t,s,a;if(H&&(e=r(e,-z*H,z*H)),a=r(Math.round((G+e)/z)*z,Y,E),le=Math.round(a/z),K){if(e<0){for(t=K.length-1;t>=0;t--)if(Math.abs(a)+M>=K[t].breakpoint){le=t,oe=2,a=K[t].snap2;break}}else if(e>=0)for(t=0;t<K.length;t++)if(Math.abs(a)<=K[t].breakpoint){le=t,oe=1,a=K[t].snap1;break}a=r(a,Y,E)}s=ce.time||(ie<Y||ie>E?1e3:Math.max(1e3,Math.abs(a-ie)*ce.timeUnit)),L.destinationX=ne?0:a,L.destinationY=ne?a:0,L.duration=s,L.transitionTiming=A,ae("onGestureEnd",L),C(a,s)}function C(e,t,s,a){var n=e!=ie,i=t>1,r=function(){clearInterval(X),clearTimeout(se),W=!1,ie=e,L.posX=ne?0:e,L.posY=ne?e:0,n&&ae("onMove",L),i&&ae("onAnimationEnd",L),a&&a()};L={posX:ne?0:ie,posY:ne?ie:0,originX:ne?0:G,originY:ne?G:0,direction:e-ie>0?ne?270:360:ne?90:180},ie=e,i&&(L.destinationX=ne?0:e,L.destinationY=ne?e:0,L.duration=t,L.transitionTiming=A,ae("onAnimationStart",L)),ee[l+"Transition"]=t?o+"transform "+Math.round(t)+"ms "+A:"",ee[l+"Transform"]="translate3d("+(ne?"0,"+e+"px,":e+"px,0,")+"0)",!n&&!W||!t||t<=1?r():t&&(W=!s,clearInterval(X),X=setInterval(function(){var t=+u(te,ne)||0;L.posX=ne?0:t,L.posY=ne?t:0,ae("onMove",L),Math.abs(t-e)<2&&r()},100),clearTimeout(se),se=setTimeout(function(){r()},t)),ce.sync&&ce.sync(e,t,A)}var _,T,M,D,S,k,V,A,I,$,O,L,N,F,E,H,Y,P,W,R,q,j,B,U,X,z,K,G,J,Z,Q,ee,te,se,ae,ne,ie,re=this,le=0,oe=1,ce=t,ue=a(e);n.Base.call(this,e,t,!0),re.scrolled=!1,re.scroll=function(t,s,n,i){t=m(t)?Math.round(t/z)*z:Math.ceil((a(t,e).length?Math.round(te.offset()[V]-a(t,e).offset()[V]):ie)/z)*z,t=r(t,Y,E),le=Math.round(t/z),G=ie,C(t,s,n,i)},re.refresh=function(e){var t;M=void 0===ce.contSize?ne?ue.height():ue.width():ce.contSize,Y=void 0===ce.minScroll?Math.min(0,ne?M-te.height():M-te.width()):ce.minScroll,E=void 0===ce.maxScroll?0:ce.maxScroll,K=null,!ne&&ce.rtl&&(t=E,E=-Y,Y=-t),h(ce.snap)&&(K=[],te.find(ce.snap).each(function(){var e=ne?this.offsetTop:this.offsetLeft,t=ne?this.offsetHeight:this.offsetWidth;K.push({breakpoint:e+t/2,snap1:-e,snap2:M-e-t})})),z=m(ce.snap)?ce.snap:1,H=ce.snap?ce.maxSnapScroll:0,A=ce.easing,I=ce.elastic?m(ce.snap)?z:m(ce.elastic)?ce.elastic:0:0,void 0===ie&&(ie=ce.initialPos,le=Math.round(ie/z)),e||re.scroll(ce.snap?K?K[le]["snap"+oe]:le*z:ie)},re._processSettings=function(){ne="Y"==ce.axis,V=ne?"top":"left",te=ce.moveElement||ue.children().eq(0),ee=te[0].style},re._init=function(){re.refresh(),ue.on("touchstart mousedown",i).on("touchmove",p).on("touchend touchcancel",y),ce.mousewheel&&ue.on("wheel mousewheel",x),e.addEventListener&&e.addEventListener("click",function(e){re.scrolled&&(re.scrolled=!1,e.stopPropagation(),e.preventDefault())},!0)},re._destroy=function(){clearInterval(X),ue.off("touchstart mousedown",i).off("touchmove",p).off("touchend touchcancel",y).off("wheel mousewheel",x)},ce=re.settings,ae=re.trigger,s||re.init(t)},n.ScrollView.prototype={_class:"scrollview",_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}},s.presetShort("scrollview","ScrollView",!1)}(),function(e,s,a){var n=t,i=n.$,r=i.extend,l=n.classes,o=n.platform,c=n.util,u=c.jsPrefix,d=c.prefix,m=c.getCoord,h=c.testTouch,f=e.CSS,p=f&&f.supports&&f.supports("(transform-style: preserve-3d)"),b=!p||"wp"==o.name||"android"==o.name;n.presetShort("scroller","Scroller",!1),l.Scroller=function(e,t,o){function f(e){var t=+i(this).attr("data-index");e.stopPropagation(),"mousedown"===e.type&&e.preventDefault(),h(e,this)&&!V(t)&&(Y=i(this).addClass("mbsc-sc-btn-a"),z=m(e,"X"),K=m(e,"Y"),U=!0,X=!1,setTimeout(function(){D(t,"inc"==Y.attr("data-dir")?1:-1)},100),"mousedown"===e.type&&i(s).on("mousemove",p).on("mouseup",v))}function p(e){(Math.abs(z-m(e,"X"))>7||Math.abs(K-m(e,"Y"))>7)&&S(!0)}function v(e){S(),e.preventDefault(),"mouseup"===e.type&&i(s).off("mousemove",p).off("mouseup",v)}function g(e){var t,s,a=i(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,x(a,ae[a]._$markup.find('.mbsc-sc-itm[data-val="'+G[a]+'"]'))),t&&(e.stopPropagation(),e.preventDefault(),s&&!U&&(U=!0,X=!1,D(a,s)))}function y(){S()}function x(e,t){var s=ae[e],n=t.attr("data-index"),i=M(s,n),r=le._tempSelected[e],l=c.isNumeric(s.multiple)?s.multiple:1/0;te("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})!==!1&&(s.multiple&&!s._disabled[i]&&(r[i]!==a?(t.removeClass(q).removeAttr("aria-selected"),delete r[i]):(1==l&&(le._tempSelected[e]=r={},s._$markup.find(".mbsc-sc-itm-sel").removeClass(q).removeAttr("aria-selected")),c.objectToArray(r).length<l&&(t.addClass(q).attr("aria-selected","true"),r[i]=i))),F(s,e,n,re,!0,!0,s.multiple),!le.live||s.multiple||ee.setOnTap!==!0&&!ee.setOnTap[e]||setTimeout(function(){le.select()},200))}function w(e,t){return(e._array?e._map[t]:e.getIndex(t,le))||0}function C(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?i(s).get(t%e._length):s[t]:i.isFunction(s)?s(t,le):""}function _(e){return i.isPlainObject(e)?e.value!==a?e.value:e.display:e}function T(e){var t=i.isPlainObject(e)?e.display:e;return t===a?"":t}function M(e,t){return _(C(e,t))}function D(e,t){X||k(e,t),U&&(clearInterval(B),B=setInterval(function(){k(e,t)},ee.delay))}function S(e){clearInterval(B),X=e,U=!1,Y&&Y.removeClass("mbsc-sc-btn-a")}function k(e,t){var s=ae[e];F(s,e,s._current+t,re,1==t?1:2)}function V(e){return i.isArray(ee.readonly)?ee.readonly[e]:ee.readonly}function A(e,t,s){var n=e._index-e._batch;return e.data=e.data||[],e.key=e.key!==a?e.key:t,e.label=e.label!==a?e.label:t,e._map={},e._array=i.isArray(e.data),e._array&&(e._length=e.data.length,i.each(e.data,function(t,s){e._map[_(s)]=t})),e.circular=ee.circular===a?e.circular===a?e._array&&e._length>ee.rows:e.circular:i.isArray(ee.circular)?ee.circular[t]:ee.circular,e.min=e._array?e.circular?-(1/0):0:e.min===a?-(1/0):e.min,e.max=e._array?e.circular?1/0:e._length-1:e.max===a?1/0:e.max,e._nr=t,e._index=w(e,G[t]),e._disabled={},e._batch=0,e._current=e._index,e._first=e._index-ie,e._last=e._index+ie,e._offset=e._first,s?(e._offset-=e._margin/J+(e._index-n),e._margin+=(e._index-n)*J):e._margin=0,e._refresh=function(t){var s=-(e.min-e._offset+(e.multiple&&!R?Math.floor(ee.rows/2):0))*J,a=Math.min(s,-(e.max-e._offset-(e.multiple&&!R?Math.floor(ee.rows/2):0))*J);r(e._scroller.settings,{minScroll:a,maxScroll:s}),e._scroller.refresh(t)},ne[e.key]=e,e}function I(e,t,s,n,i){var r,l,o,c,u,m,h,f,p="",b=le._tempSelected[t],v=e._disabled||{};for(r=s;r<=n;r++)o=C(e,r),u=T(o),c=_(o),l=o&&o.cssClass!==a?o.cssClass:"",m=o&&o.label!==a?o.label:"",h=o&&o.invalid,f=c!==a&&c==G[t]&&!e.multiple,p+='<div role="option" aria-selected="'+!!b[c]+'" class="mbsc-sc-itm '+(i?"mbsc-sc-itm-3d ":"")+l+" "+(f?"mbsc-sc-itm-sel ":"")+(b[c]?q:"")+(c===a?" mbsc-sc-itm-ph":" mbsc-btn-e")+(h?" mbsc-sc-itm-inv-h mbsc-btn-d":"")+(v[c]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+r+'" data-val="'+c+'"'+(m?' aria-label="'+m+'"':"")+(f?' aria-selected="true"':"")+' style="height:'+J+"px;line-height:"+J+"px;"+(i?d+"transform:rotateX("+(e._offset-r)*W%360+"deg) translateZ("+J*ee.rows/2+"px);":"")+'">'+(se>1?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(J/se)+"px;font-size:"+Math.round(J/se*.8)+'px;">':"")+u+(se>1?"</div>":"")+"</div>";return p}function $(t){var s=ee.headerText;return s?"function"==typeof s?s.call(e,t):s.replace(/\{value\}/i,t):""}function O(e,t,s){var a=Math.round(-s/J)+e._offset,n=a-e._current,r=e._first,l=e._last,o=r+ie-P+1,c=l-ie+P;n&&(e._first+=n,e._last+=n,e._current=a,n>0?(e._$scroller.append(I(e,t,Math.max(l+1,r+n),l+n)),i(".mbsc-sc-itm",e._$scroller).slice(0,Math.min(n,l-r+1)).remove(),R&&(e._$3d.append(I(e,t,Math.max(c+1,o+n),c+n,!0)),i(".mbsc-sc-itm",e._$3d).slice(0,Math.min(n,c-o+1)).attr("class","mbsc-sc-itm-del"))):n<0&&(e._$scroller.prepend(I(e,t,r+n,Math.min(r-1,l+n))),i(".mbsc-sc-itm",e._$scroller).slice(Math.max(n,r-l-1)).remove(),R&&(e._$3d.prepend(I(e,t,o+n,Math.min(o-1,c+n),!0)),i(".mbsc-sc-itm",e._$3d).slice(Math.max(n,o-c-1)).attr("class","mbsc-sc-itm-del"))),e._margin+=n*J,e._$scroller.css("margin-top",e._margin+"px"))}function L(e,t,s,n){var i,r=ae[e],l=n||r._disabled,o=w(r,t),c=t,u=t,d=0,m=0;if(t===a&&(t=M(r,o)),l[t]===!0){for(i=0;o-d>=r.min&&l[c]&&i<100;)i++,d++,c=M(r,o-d);for(i=0;o+m<r.max&&l[u]&&i<100;)i++,m++,u=M(r,o+m);t=(m<d&&m&&2!==s||!d||o-d<0||1==s)&&!l[u]?u:c}return t}function N(t,s,n,r,l,o){var c,u,d,m,h=le._isVisible;Q=!0,m=ee.validate.call(e,{values:G.slice(0),index:s,direction:n},le)||{},Q=!1,m.valid&&(le._tempWheelArray=G=m.valid.slice(0)),o||i.each(ae,function(e,r){if(h&&r._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-btn-d"),r._disabled={},m.disabled&&m.disabled[e]&&i.each(m.disabled[e],function(e,t){r._disabled[t]=!0,h&&r._$markup.find('.mbsc-sc-itm[data-val="'+t+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")}),G[e]=r.multiple?G[e]:L(e,G[e],n),h){if(r.multiple&&s!==a||r._$markup.find(".mbsc-sc-itm-sel").removeClass(q).removeAttr("aria-selected"),r.multiple){if(s===a)for(var o in le._tempSelected[e])r._$markup.find('.mbsc-sc-itm[data-val="'+o+'"]').addClass(q).attr("aria-selected","true")}else r._$markup.find('.mbsc-sc-itm[data-val="'+G[e]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");u=w(r,G[e]),c=u-r._index+r._batch,Math.abs(c)>2*ie+1&&(d=c+(2*ie+1)*(c>0?-1:1),r._offset+=d,r._margin-=d*J,r._refresh()),r._index=u+r._batch,r._scroller.scroll(-(u-r._offset+r._batch)*J,s===e||s===a?t:re,l)}}),te("onValidated"),le._tempValue=ee.formatValue(G,le),h&&le._header.html($(le._tempValue)),le.live&&(le._hasValue=r||le._hasValue,E(r,r,0,!0),r&&te("onSet",{valueText:le._value})),r&&te("onChange",{valueText:le._tempValue})}function F(e,t,s,n,i,r,l){var o=M(e,s);o!==a&&(G[t]=o,e._batch=e._array?Math.floor(s/e._length)*e._length:0,setTimeout(function(){N(n,t,i,!0,r,l)},10))}function E(e,t,s,a,n){if(a?le._tempValue=ee.formatValue(le._tempWheelArray,le):N(s),!n){le._wheelArray=[];for(var i=0;i<G.length;i++)le._wheelArray[i]=ae[i]&&ae[i].multiple?Object.keys(le._tempSelected[i])[0]:G[i];le._value=le._hasValue?le._tempValue:null,le._selected=r(!0,{},le._tempSelected)}e&&(le._isInput&&oe.val(le._hasValue?le._tempValue:""),te("onFill",{valueText:le._hasValue?le._tempValue:"",change:t}),t&&(le._preventChange=!0,oe.trigger("change")))}var H,Y,P,W,R,q,j,B,U,X,z,K,G,J,Z,Q,ee,te,se,ae,ne,ie=40,re=1e3,le=this,oe=i(e);l.Frame.call(this,e,t,!0),le.setVal=le._setVal=function(t,s,n,r,l){le._hasValue=null!==t&&t!==a,le._tempWheelArray=G=i.isArray(t)?t.slice(0):ee.parseValue.call(e,t,le)||[],E(s,n===a?s:n,l,!1,r)},le.getVal=le._getVal=function(e){var t=le._hasValue||e?le[e?"_tempValue":"_value"]:null;return c.isNumeric(t)?+t:t},le.setArrayVal=le.setVal,le.getArrayVal=function(e){return e?le._tempWheelArray:le._wheelArray},le.changeWheel=function(e,t,s){var n,l;i.each(e,function(e,t){l=ne[e],n=l._nr,l&&(r(l,t),A(l,n,!0),le._isVisible&&(R&&l._$3d.html(I(l,n,l._first+ie-P+1,l._last-ie+P,!0)),l._$scroller.html(I(l,n,l._first,l._last)).css("margin-top",l._margin+"px"),l._refresh(Q)))}),!le._isVisible||le._isLiquid||Q||le.position(),Q||N(t,a,a,s)},le.getValidValue=L,le._generateContent=function(){var e,t=0,s="",n=R?d+"transform: translateZ("+(J*ee.rows/2+3)+"px);":"",l='<div class="mbsc-sc-whl-l" style="'+n+"height:"+J+"px;margin-top:-"+(J/2+(ee.selectedLineBorder||0))+'px;"></div>',o=0;return i.each(ee.wheels,function(c,u){s+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(ee.showLabel?" mbsc-sc-lbl-v":"")+'">'+l+'<div class="mbsc-sc-whl-gr'+(R?" mbsc-sc-whl-gr-3d":"")+(j?" mbsc-sc-cp":"")+(ee.width||ee.maxWidth?'"':'" style="max-width:'+ee.maxPopupWidth+'px;"')+">",i.each(u,function(i,c){le._tempSelected[o]=r({},le._selected[o]),ae[o]=A(c,o),t+=ee.maxWidth?ee.maxWidth[o]||ee.maxWidth:ee.width?ee.width[o]||ee.width:0,e=c.label!==a?c.label:i,s+='<div class="mbsc-sc-whl-w '+(c.cssClass||"")+(c.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(ee.width?"width:"+(ee.width[o]||ee.width)+"px;":(ee.minWidth?"min-width:"+(ee.minWidth[o]||ee.minWidth)+"px;":"")+(ee.maxWidth?"max-width:"+(ee.maxWidth[o]||ee.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o" style="'+n+'"></div>'+l+'<div tabindex="0" aria-live="off" aria-label="'+e+'"'+(c.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+o+'" class="mbsc-sc-whl" style="height:'+ee.rows*J*(R?1.1:1)+'px;">'+(j?'<div data-index="'+o+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(ee.btnPlusClass||"")+'" style="height:'+J+"px;line-height:"+J+'px;"></div><div data-index="'+o+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(ee.btnMinusClass||"")+'" style="height:'+J+"px;line-height:"+J+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+e+'</div><div class="mbsc-sc-whl-c" style="height:'+Z+"px;margin-top:-"+(Z/2+1)+"px;"+n+'"><div class="mbsc-sc-whl-sc" style="top:'+(Z-J)/2+'px;">',s+=I(c,o,c._first,c._last)+"</div></div>",R&&(s+='<div class="mbsc-sc-whl-3d" style="height:'+J+"px;margin-top:-"+J/2+'px;">',s+=I(c,o,c._first+ie-P+1,c._last-ie+P,!0),s+="</div>"),s+="</div></div>",o++}),s+="</div></div>"}),t&&(ee.maxPopupWidth=t),s},le._attachEvents=function(e){i(".mbsc-sc-btn",e).on("touchstart mousedown",f).on("touchmove",p).on("touchend touchcancel",v),i(".mbsc-sc-whl",e).on("keydown",g).on("keyup",y)},le._detachEvents=function(){for(var e=0;e<ae.length;e++)ae[e]._scroller.destroy()},le._markupReady=function(e){H=e,i(".mbsc-sc-whl",H).each(function(e){var t,s=i(this),a=ae[e],r=-(a.min-a._offset+(a.multiple&&!R?Math.floor(ee.rows/2):0))*J,l=Math.min(r,-(a.max-a._offset-(a.multiple&&!R?Math.floor(ee.rows/2):0))*J);a._$markup=s,a._$scroller=i(".mbsc-sc-whl-sc",this),a._$3d=i(".mbsc-sc-whl-3d",this),a._scroller=new n.classes.ScrollView(this,{mousewheel:ee.mousewheel,moveElement:a._$scroller,initialPos:(a._first-a._index)*J,contSize:0,snap:J,minScroll:l,maxScroll:r,maxSnapScroll:ie,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){R&&(a._$3d[0].style[u+"Transition"]=t?d+"transform "+Math.round(t)+"ms "+s:"",a._$3d[0].style[u+"Transform"]="rotateX("+-e/J*W+"deg)")},onStart:function(t,s){s.settings.readonly=V(e)},onGestureStart:function(){s.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),te("onWheelGestureStart",{index:e})},onGestureEnd:function(s){var n=90==s.direction?1:2,i=s.duration,r=s.destinationY;t=Math.round(-r/J)+a._offset,F(a,e,t,i,n)},onAnimationStart:function(){s.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){s.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),te("onWheelAnimationEnd",{index:e}),a._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(t){O(a,e,t.posY)},onBtnTap:function(t){x(e,i(t.target))}})}),N()},le._fillValue=function(){le._hasValue=!0,E(!0,!0,0,!0)},le._clearValue=function(){i(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",H).removeClass(q).removeAttr("aria-selected")},le._readValue=function(){var t=oe.val()||"",s=0;""!==t&&(le._hasValue=!0),le._tempWheelArray=G=le._hasValue&&le._wheelArray?le._wheelArray.slice(0):ee.parseValue.call(e,t,le)||[],le._tempSelected=r(!0,{},le._selected),i.each(ee.wheels,function(e,t){i.each(t,function(e,t){ae[s]=A(t,s),s++})}),E(!1,!1,0,!0),te("onRead")},le.__processSettings=function(){ee=le.settings,te=le.trigger,se=ee.multiline,q="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+ee.checkIcon,ae=[],ne={}},le.__init=function(){j=ee.showScrollArrows,R=ee.scroll3d&&!b&&!j,J=ee.height,Z=R?2*Math.round((J-.03*(J*ee.rows/2+3))/2):J,P=Math.round(1.8*ee.rows),W=360/(2*P),j&&(ee.rows=Math.max(3,ee.rows)),ee.cssClass=(ee.cssClass||"")+" mbsc-sc"},le._getItemValue=_,le._tempSelected={},le._selected={},o||le.init(t)},l.Scroller.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:r({},l.Frame.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,t){var s,n,r=[],l=[],o=0;return null!==e&&e!==a&&(r=(e+"").split(" ")),i.each(t.settings.wheels,function(e,a){i.each(a,function(e,a){n=a.data,s=t._getItemValue(n[0]),i.each(n,function(e,a){if(r[o]==t._getItemValue(a))return s=t._getItemValue(a),!1}),l.push(s),o++})}),l}})}}(window,document),function(e){var a=t,n=a.$,i=a.util,r=i.isString,l={inputClass:"",invalid:[],rtl:!1,showInput:!0,groupLabel:"Groups",dataHtml:"html",dataText:"text",dataValue:"value",dataGroup:"group",dataDisabled:"disabled",filterPlaceholderText:"Type to filter",filterEmptyText:"No results",filterClearIcon:"material-close"};a.presetShort("select"),a.presets.scroller.select=function(t){function a(t){var s,a,i,r,l,o,c=0,u=0,d={};if(P={},S={},I=[],D=[],te.length=0,z)n.each(w,function(n,c){l=c[E.dataText],a=c[E.dataHtml],o=c[E.dataValue],i=c[E.dataGroup],r={value:o,html:a,text:l,index:n},P[o]=r,t&&!v(l,t)||(I.push(r),K&&(d[i]===e?(s={text:i,value:u,options:[],index:u},S[u]=s,d[i]=u,D.push(s),u++):s=S[d[i]],Z&&(r.index=s.options.length),r.group=d[i],s.options.push(r)),c[E.dataDisabled]&&te.push(o))});else if(K){var m=!0;n("optgroup",N).each(function(e){S[e]={text:this.label,value:e,options:[],index:e},m=!0,n("option",this).each(function(s){r={value:this.value,text:this.text,index:Z?s:c++,group:e},P[this.value]=r,t&&!v(this.text,t)||(m&&(D.push(S[e]),m=!1),I.push(r),S[e].options.push(r),this.disabled&&te.push(this.value))})})}else n("option",N).each(function(e){r={value:this.value,text:this.text,index:e},P[this.value]=r,t&&!v(this.text,t)||(I.push(r),this.disabled&&te.push(this.value))});I.length&&(C=I[0].value),Q&&(I=[],c=0,n.each(S,function(e,t){t.options.length&&(o="__group"+e,r={text:t.text,value:o,group:e,index:c++,cssClass:"mbsc-sel-gr"},P[o]=r,I.push(r),te.push(r.value),n.each(t.options,function(e,t){t.index=c++,I.push(t)}))})),H&&(I.length?H.removeClass("mbsc-sel-empty-v"):H.addClass("mbsc-sel-empty-v"))}function o(e,t,s){var a,n=[];for(a=0;a<e.length;a++)n.push({value:e[a].value,display:e[a].html||e[a].text,cssClass:e[a].cssClass});return{circular:!1,multiple:t,data:n,label:s}}function c(){return o(D,!1,E.groupLabel)}function u(){return o(Z?S[M].options:I,j,X)}function d(){var e,t,s=[[]];return J&&(e=c(),R?s[0][k]=e:s[k]=[e]),t=u(),R?s[0][$]=t:s[$]=[t],s}function m(t){q&&(t&&r(t)&&(t=t.split(",")),n.isArray(t)&&(t=t[0])),A=t!==e&&null!==t&&""!==t&&P[t]?t:C,J&&(M=P[A]?P[A].group:null)}function h(e,s){var a=e?t._tempWheelArray:t._hasValue?t._wheelArray:null;return a?E.group&&s?a:a[$]:null}function f(e){var s,a,n=[];if(j){for(s in t._tempSelected[$])n.push(L[s]||(P[s]?P[s].text:""));return n.join(", ")}return a=e[$],P[a]?P[a].text:""}function p(){var e=t.getVal(),s=t._tempValue;E.filter&&"inline"==E.display||x.val(s),N.val(e)}function b(){var e={};e[$]=u(),O=!0,t.changeWheel(e)}function v(e,t){return t=t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.match(new RegExp(t,"ig"))}function g(e){return E.data.dataField?e[E.data.dataField]:E.data.processResponse?E.data.processResponse(e):e}function y(e){var s={};a(e),E.wheels=d(),m(A),s[$]=u(),t._tempWheelArray[$]=A,J&&(s[k]=c(),t._tempWheelArray[k]=M),t._isVisible&&t.changeWheel(s,0,!0)}var x,w,C,_,T,M,D,S,k,V,A,I,$,O,L={},N=n(this),F=n.extend({},t.settings),E=n.extend(t.settings,l,F),H=n('<div class="mbsc-sel-empty">'+E.filterEmptyText+"</div>"),Y=E.readonly,P={},W=E.layout||(/top|bottom|inline/.test(E.display)||E.filter?"liquid":""),R="liquid"==W,q=i.isNumeric(E.select)?E.select:"multiple"==E.select||N.prop("multiple"),j=q||!!E.filter&&1,B=this.id+"_dummy",U=n('label[for="'+this.id+'"]').attr("for",B),X=E.label!==e?E.label:U.length?U.text():N.attr("name"),z=!!E.data,K=z?!!E.group:n("optgroup",N).length,G=E.group,J=K&&G&&G.groupWheel!==!1,Z=K&&G&&J&&G.clustered===!0,Q=K&&(!G||G.header!==!1&&!Z),ee=N.val()||(q?[]:[""]),te=[];return t.setVal=function(e,s,a,n,l){j&&(e&&!q&&(e=[e]),e&&r(e)&&(e=e.split(",")),t._tempSelected[$]=i.arrayToObject(e),n||(t._selected[$]=i.arrayToObject(e)),e=e?e[0]:null),t._setVal(e,s,a,n,l)},t.getVal=function(e,s){if(j){var a=i.objectToArray(e?t._tempSelected[$]:t._selected[$]);return q?a:a.length?a[0]:null}return h(e,s)},t.refresh=function(t,a){t&&(w=t),!t&&V&&a===e?s(E.data.url,function(e){w=g(e),y()},E.data.dataType):y(a)},E.invalid.length||(E.invalid=te),J?(k=0,$=1):(k=-1,$=0),j&&(q&&N.prop("multiple",!0),ee&&r(ee)&&(ee=ee.split(",")),t._selected[$]=i.arrayToObject(ee)),t._dummyInput&&t._dummyInput.remove(),N.next().is("input.mbsc-control")?x=N.off(".mbsc-form").next().removeAttr("tabindex"):(E.filter&&"inline"==E.display?t._dummyInput=n('<div class="mbsc-sel-input-wrap"><input type="text" id="'+B+'" class="mbsc-control mbsc-control-ev '+E.inputClass+'" readonly /></div>'):(x=n('<input type="text" id="'+B+'" class="mbsc-control mbsc-control-ev '+E.inputClass+'" readonly />'),t._dummyInput=x),E.showInput&&(t._dummyInput.insertBefore(N),x||(x=t._dummyInput.find("#"+B)))),t.attachShow(x.attr("placeholder",E.placeholder||"")),N.addClass("mbsc-sel-hdn").attr("tabindex",-1),E.filter&&(_=E.filter.minLength||0),V=E.data&&E.data.url,V?t.refresh():(z&&(w=E.data),a(),m(N.val())),{layout:W,headerText:!1,anchor:x,compClass:"mbsc-sel"+(J?" mbsc-sel-gr-whl":"")+(j?" mbsc-sel-multi":""),setOnTap:!J||[!1,!0],formatValue:f,parseValue:function(t){return m(t===e?N.val():t),J?[M,A]:[A]},validate:function(t){var s=t.index,a=[];return a[$]=E.invalid,Z&&!O&&s===e&&b(),O=!1,{disabled:a}},onRead:p,onFill:p,onMarkupReady:function(t,a){if(E.filter){var i,r,l,o=n(".mbsc-fr-w",t.target),c=n('<span class="mbsc-sel-filter-clear mbsc-ic mbsc-ic-'+E.filterClearIcon+'"></span>');"inline"==E.display?(i=x,x.parent().find(".mbsc-sel-filter-clear").remove()):(o.prepend('<div class="mbsc-input mbsc-sel-filter-cont mbsc-control-w"><span class="mbsc-input-wrap"><input type="text" class="mbsc-sel-filter-input mbsc-control mbsc-control-ev"/></span></div>'),i=o.find(".mbsc-sel-filter-input")),T="",l=i[0],i.prop("readonly",!1).attr("placeholder",E.filterPlaceholderText).parent().append(c),o.find(".mbsc-fr-c").prepend(H),a.tap(c,function(){l.value="",a.refresh(),c.removeClass("mbsc-sel-filter-show-clear")}),i.on("keydown",function(e){13!=e.keyCode&&27!=e.keyCode||(e.stopPropagation(),l.blur())}).on("keyup",function(){clearTimeout(r),l.value.length?c.addClass("mbsc-sel-filter-show-clear"):c.removeClass("mbsc-sel-filter-show-clear"),r=setTimeout(function(){T!==l.value&&a.trigger("onFilter",{filterText:l.value})!==!1&&(T=l.value,(T.length>=_||!T.length)&&(V&&E.data.remoteFilter?s(E.data.url+encodeURIComponent(T),function(e){a.refresh(g(e))},E.data.dataType):a.refresh(e,T)))},500)})}},onBeforeShow:function(){q&&E.counter&&(E.headerText=function(){var e=0;return n.each(t._tempSelected[$],function(){e++}),(e>1?E.selectedPluralText||E.selectedText:E.selectedText).replace(/{count}/,e)}),m(N.val()),E.filter&&a(e),t.settings.wheels=d(),O=!0},onWheelGestureStart:function(e){e.index==k&&(E.readonly=[!1,!0])},onWheelAnimationEnd:function(e){var s=t.getArrayVal(!0);e.index==k?(E.readonly=Y,s[k]!=M&&(M=s[k],A=S[M].options[0].value,s[$]=A,Z?b():t.setArrayVal(s,!1,!1,!0,1e3))):e.index==$&&s[$]!=A&&(A=s[$],J&&P[A]&&P[A].group!=M&&(M=P[A].group,s[k]=M,t.setArrayVal(s,!1,!1,!0,1e3)))},onItemTap:function(e){if(e.index==$&&(L[e.value]=P[e.value].text,j&&!q&&e.selected))return!1},onClose:function(){V&&E.data.remoteFilter&&T&&t.refresh()},onDestroy:function(){t._dummyInput&&t._dummyInput.remove(),N.removeClass("mbsc-sel-hdn").removeAttr("tabindex")}}}}(),function(){var s=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"],a=t.$;e.module("mobiscroll-select",[]).directive("mobiscrollSelectOption",function(){return{link:function(e,t,s){var n=a(t[0]).closest("select");e.$watch(s.ngValue,function(){e.$emit("mbscSelectRefresh",n)}),e.$on("$destroy",function(){e.$emit("mbscSelectRefresh",n)})}}}).directive("mobiscrollSelect",["$parse",function(n){var i=t.ng.getDDO(n,"mobiscrollSelect",{preset:"select"});return i.link=void 0,i.compile=function(i){var r,l;return a(i[0]).find("option").each(function(){for(l=0;l<s.length;l++)if(a(this).attr(s[l]))return a(this).attr("mobiscroll-select-option",""),r=!0,!1}),function(s,i,l,o){var c,u,d=a(i[0]),m=t.ng.getOpt(s,l,"mobiscrollSelect",o);e.extend(m,{preset:"select"}),l.mobiscrollData&&(e.extend(m,{data:s.$eval(l.mobiscrollData)||[]}),s.$watchCollection(l.mobiscrollData,function(){u&&u.refresh(s.$eval(l.mobiscrollData))})),t.ng.addWatch(n,s,o,d,l,"mobiscrollSelect"),r?s.$on("mbscSelectRefresh",function(e,a){d[0]==a[0]&&(clearTimeout(c),c=setTimeout(function(){u=new t.classes.Scroller(i[0],m),t.ng.render(d,o?o.$modelValue:n(l.mobiscrollSelect)(s)),l.mobiscrollInstance&&n(l.mobiscrollInstance).assign(s,u)},10))}):(u=new t.classes.Scroller(i[0],m),l.mobiscrollInstance&&n(l.mobiscrollInstance).assign(s,u))}},i}])}(),function(e){function s(e,t,s,a,n,i,r){var l=new Date(e,t,s,a||0,n||0,i||0,r||0);return 23==l.getHours()&&0===(a||0)&&l.setHours(l.getHours()+2),l}var a=t,n=a.$;a.util.datetime={defaults:{shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:s,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}},adjustedDate:s,formatDate:function(e,t,s){if(!t)return null;var i,r,l=n.extend({},a.util.datetime.defaults,s),o=function(t){for(var s=0;i+1<e.length&&e.charAt(i+1)==t;)s++,i++;return s},c=function(e,t,s){var a=""+t;if(o(e))for(;a.length<s;)a="0"+a;return a},u=function(e,t,s,a){return o(e)?a[t]:s[t]},d="",m=!1;for(i=0;i<e.length;i++)if(m)"'"!=e.charAt(i)||o("'")?d+=e.charAt(i):m=!1;else switch(e.charAt(i)){case"d":d+=c("d",l.getDay(t),2);break;case"D":d+=u("D",t.getDay(),l.dayNamesShort,l.dayNames);break;case"o":d+=c("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":d+=c("m",l.getMonth(t)+1,2);break;case"M":d+=u("M",l.getMonth(t),l.monthNamesShort,l.monthNames);break;case"y":r=l.getYear(t),d+=o("y")?r:(r%100<10?"0":"")+r%100;break;case"h":var h=t.getHours();d+=c("h",h>12?h-12:0===h?12:h,2);break;case"H":d+=c("H",t.getHours(),2);break;case"i":d+=c("i",t.getMinutes(),2);break;case"s":d+=c("s",t.getSeconds(),2);break;case"a":d+=t.getHours()>11?l.pmText:l.amText;break;case"A":d+=t.getHours()>11?l.pmText.toUpperCase():l.amText.toUpperCase();break;case"'":o("'")?d+="'":m=!0;break;default:d+=e.charAt(i)}return d},parseDate:function(e,t,s){var i=n.extend({},a.util.datetime.defaults,s),r=i.defaultValue&&i.defaultValue.getTime?i.defaultValue:new Date;if(!e||!t)return r;if(t.getTime)return t;t="object"==typeof t?t.toString():t+"";var l,o=i.shortYearCutoff,c=i.getYear(r),u=i.getMonth(r)+1,d=i.getDay(r),m=-1,h=r.getHours(),f=r.getMinutes(),p=0,b=-1,v=!1,g=function(t){var s=l+1<e.length&&e.charAt(l+1)==t;return s&&l++,s},y=function(e){g(e);var s="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,a=new RegExp("^\\d{1,"+s+"}"),n=t.substr(C).match(a);return n?(C+=n[0].length,parseInt(n[0],10)):0},x=function(e,s,a){var n,i=g(e)?a:s;for(n=0;n<i.length;n++)if(t.substr(C,i[n].length).toLowerCase()==i[n].toLowerCase())return C+=i[n].length,n+1;return 0},w=function(){C++},C=0;for(l=0;l<e.length;l++)if(v)"'"!=e.charAt(l)||g("'")?w():v=!1;else switch(e.charAt(l)){case"d":d=y("d");break;case"D":x("D",i.dayNamesShort,i.dayNames);break;case"o":m=y("o");break;case"m":u=y("m");break;case"M":u=x("M",i.monthNamesShort,i.monthNames);break;case"y":c=y("y");break;case"H":h=y("H");break;case"h":h=y("h");break;case"i":f=y("i");break;case"s":p=y("s");break;case"a":b=x("a",[i.amText,i.pmText],[i.amText,i.pmText])-1;break;case"A":b=x("A",[i.amText,i.pmText],[i.amText,i.pmText])-1;break;case"'":g("'")?w():v=!0;break;default:w()}if(c<100&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=("string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10))?0:-100)),m>-1)for(u=1,d=m;;){var _=32-new Date(c,u-1,32,12).getDate();if(d<=_)break;u++,d-=_}h=b==-1?h:b&&h<12?h+12:b||12!=h?h:0;var T=i.getDate(c,u-1,d,h,f,p);return i.getYear(T)!=c||i.getMonth(T)+1!=u||i.getDay(T)!=d?r:T}}}();var a=t.util.datetime;return function(e){var s=t,n=s.$,i=a.adjustedDate,r={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",
todayText:"Today"},l=function(t){function l(e){return e<10?"0"+e:e}function o(e){var t,s,a,n=[];if(e){for(t=0;t<e.length;t++)if(s=e[t],s.start&&s.start.getTime)for(a=new Date(s.start);a<=s.end;)n.push(i(a.getFullYear(),a.getMonth(),a.getDate())),a.setDate(a.getDate()+1);else n.push(s);return n}return e}function c(e,t,s,a){return Math.min(a,Math.floor(e/t)*t+s)}function u(e,t,s){return Math.floor((s-t)/e)*e+t}function d(e){return R.getYear(e)}function m(e){return R.getMonth(e)}function h(e){return R.getDay(e)}function f(e){var t=e.getHours();return t=se&&t>=12?t-12:t,c(t,ie,ce,me)}function p(e){return c(e.getMinutes(),re,ue,he)}function b(e){return c(e.getSeconds(),le,de,fe)}function v(e){return e.getMilliseconds()}function g(e){return e.getHours()>11?1:0}function y(e){return e.getFullYear()+"-"+l(e.getMonth()+1)+"-"+l(e.getDate())}function x(e){return c(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),L,0,86400)}function w(t,s,a,n){var i;return E[s]===e||(i=+t[E[s]],isNaN(i))?a?ye[s](a):H[s]!==e?H[s]:ye[s](n):i}function C(t){var s,a=new Date((new Date).setHours(0,0,0,0));if(null===t)return t;E.dd!==e&&(s=t[E.dd].split("-"),s=new Date(s[0],s[1]-1,s[2])),E.tt!==e&&(s=s||a,s=new Date(s.getTime()+t[E.tt]%86400*1e3));var n=w(t,"y",s,a),i=w(t,"m",s,a),r=Math.min(w(t,"d",s,a),R.getMaxDayOfMonth(n,i)),l=w(t,"h",s,a);return R.getDate(n,i,r,se&&w(t,"a",s,a)?l+12:l,w(t,"i",s,a),w(t,"s",s,a),w(t,"u",s,a))}function _(t,s){var a,n,i=["y","m","d","a","h","i","s","u","dd","tt"],r=[];if(null===t||t===e)return t;for(a=0;a<i.length;a++)n=i[a],E[n]!==e&&(r[E[n]]=ye[n](t)),s&&(H[n]=ye[n](t));return r}function T(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function M(e){return{value:e,display:(/yy/i.test(G)?e:(e+"").substr(2,2))+(R.yearSuffix||"")}}function D(e){return e}function S(t){var s=/d/i.test(t);return{label:"",cssClass:"mbsc-dt-whl-date",min:Q?T(y(Q),s):e,max:ee?T(y(ee),s):e,data:function(e){var n=new Date((new Date).setHours(0,0,0,0)),i=s?new Date(864e5*e):new Date(1970,e,1);return s&&(i=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())),{invalid:s&&!A(i,!0),value:y(i),display:n.getTime()==i.getTime()?R.todayText:a.formatDate(t,i,R)}},getIndex:function(e){return T(e,s)}}}function k(e){var t,s,n,i=[];for(/s/i.test(e)?s=le:/i/i.test(e)?s=60*re:/h/i.test(e)&&(s=3600*ie),L=ve.tt=s,t=0;t<86400;t+=s)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),i.push({value:t,display:a.formatDate(e,n,R)});return{label:"",cssClass:"mbsc-dt-whl-time",data:i}}function V(e,t){var s,a,n=!1,i=!1,r=0,l=0,o=Q?C(_(Q)):-(1/0),c=ee?C(_(ee)):1/0;if(A(e))return e;if(e<o&&(e=o),e>c&&(e=c),s=e,a=e,2!==t)for(n=A(s);!n&&s<c;)s=new Date(s.getTime()+864e5),n=A(s),r++;if(1!==t)for(i=A(a);!i&&a>o;)a=new Date(a.getTime()-864e5),i=A(a),l++;return 1===t&&n?s:2===t&&i?a:l<=r&&i?a:s}function A(e,t){return!(!t&&e<Q)&&(!(!t&&e>ee)&&(!!I(e,j)||!I(e,q)))}function I(e,t){var s,a,n;if(t)for(a=0;a<t.length;a++)if(s=t[a],n=s+"",!s.start)if(s.getTime){if(e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0}else if(n.match(/w/i)){if((n=+n.replace("w",""))==e.getDay())return!0}else if(n=n.split("/"),n[1]){if(n[0]-1==e.getMonth()&&n[1]==e.getDate())return!0}else if(n[0]==e.getDate())return!0;return!1}function $(e,t,s,a,n,i,r){var l,o,c,u;if(e)for(o=0;o<e.length;o++)if(l=e[o],u=l+"",!l.start)if(l.getTime)R.getYear(l)==t&&R.getMonth(l)==s&&(i[R.getDay(l)]=r);else if(u.match(/w/i))for(u=+u.replace("w",""),c=u-a;c<n;c+=7)c>=0&&(i[c+1]=r);else u=u.split("/"),u[1]?u[0]-1==s&&(i[u[1]]=r):i[u[0]]=r}function O(t,s,a,n,i,r,l,o){var u,d,m,h,f,p,b,v,g,y,x,w,C,_,T,M,D,S,k,V,A={},I=R.getDate(n,i,r),$=["a","h","i","s"];if(t){for(b=0;b<t.length;b++)x=t[b],x.start&&(x.apply=!1,m=x.d,D=m+"",S=D.split("/"),m&&(m.getTime&&n==R.getYear(m)&&i==R.getMonth(m)&&r==R.getDay(m)||!D.match(/w/i)&&(S[1]&&r==S[1]&&i==S[0]-1||!S[1]&&r==S[0])||D.match(/w/i)&&I.getDay()==+D.replace("w",""))&&(x.apply=!0,A[I]=!0));for(b=0;b<t.length;b++)if(x=t[b],u=0,M=0,v=pe[a],g=be[a],_=!0,T=!0,d=!1,x.start&&(x.apply||!x.d&&!A[I])){for(w=x.start.split(":"),C=x.end.split(":"),y=0;y<3;y++)w[y]===e&&(w[y]=0),C[y]===e&&(C[y]=59),w[y]=+w[y],C[y]=+C[y];if("tt"==a)v=c(Math.round((new Date(I).setHours(w[0],w[1],w[2])-new Date(I).setHours(0,0,0,0))/1e3),L,0,86400),g=c(Math.round((new Date(I).setHours(C[0],C[1],C[2])-new Date(I).setHours(0,0,0,0))/1e3),L,0,86400);else{for(w.unshift(w[0]>11?1:0),C.unshift(C[0]>11?1:0),se&&(w[1]>=12&&(w[1]=w[1]-12),C[1]>=12&&(C[1]=C[1]-12)),y=0;y<s;y++)Y[y]!==e&&(k=c(w[y],ve[$[y]],pe[$[y]],be[$[y]]),V=c(C[y],ve[$[y]],pe[$[y]],be[$[y]]),h=0,f=0,p=0,se&&1==y&&(h=w[0]?12:0,f=C[0]?12:0,p=Y[0]?12:0),_||(k=0),T||(V=be[$[y]]),(_||T)&&k+h<Y[y]+p&&Y[y]+p<V+f&&(d=!0),Y[y]!=k&&(_=!1),Y[y]!=V&&(T=!1));if(!o)for(y=s+1;y<4;y++)w[y]>0&&(u=ve[a]),C[y]<be[$[y]]&&(M=ve[a]);d||(k=c(w[s],ve[a],pe[a],be[a])+u,V=c(C[s],ve[a],pe[a],be[a])-M,_&&(v=k),T&&(g=V))}if(_||T||d)for(y=v;y<=g;y+=ve[a])l[y]=!o}}}var L,N,F,E={},H={},Y=[],P=function(e){var t,s,n,i={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",i.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}i.format=t,s=e.attr("min"),n=e.attr("max"),s&&(i.min=a.parseDate(t,s)),n&&(i.max=a.parseDate(t,n))}return i}(n(this)),W=n.extend({},t.settings),R=n.extend(t.settings,s.util.datetime.defaults,r,P,W),q=o(R.invalid),j=o(R.valid),B=R.preset,U="datetime"==B?R.dateFormat+R.separator+R.timeFormat:"time"==B?R.timeFormat:R.dateFormat,X=P.format||U,z=R.dateWheels||R.dateFormat,K=R.timeWheels||R.timeFormat,G=R.dateWheels||R.dateDisplay,J=K,Z=R.baseTheme||R.theme,Q=R.min,ee=R.max,te=/time/i.test(B),se=/h/.test(J),ae=/D/.test(G),ne=R.steps||{},ie=ne.hour||R.stepHour||1,re=ne.minute||R.stepMinute||1,le=ne.second||R.stepSecond||1,oe=ne.zeroBased,ce=oe||!Q?0:Q.getHours()%ie,ue=oe||!Q?0:Q.getMinutes()%re,de=oe||!Q?0:Q.getSeconds()%le,me=u(ie,ce,se?11:23),he=u(re,ue,59),fe=u(re,ue,59),pe={y:Q?Q.getFullYear():-(1/0),m:0,d:1,h:ce,i:ue,s:de,a:0,tt:0},be={y:ee?ee.getFullYear():1/0,m:11,d:31,h:me,i:he,s:fe,a:1,tt:86400},ve={y:1,m:1,d:1,h:ie,i:re,s:le,a:1,tt:1},ge={"android-holo":40,bootstrap:46,ios:50,jqm:46,material:46,mobiscroll:46,wp:50},ye={y:d,m:m,d:h,h:f,i:p,s:b,u:v,a:g,dd:y,tt:x};return t.getDate=t.getVal=function(e){return t._hasValue||e?C(t.getArrayVal(e)):null},t.setDate=function(e,s,a,n,i){t.setArrayVal(_(e),s,i,n,a)},F=function(){var t,s,a,n,i,r,o,c,u=0,d=[],m=[],h=[];if(B.match(/date/i)){for(t=z.split(/\|/.test(z)?"|":""),n=0;n<t.length;n++)if(a=t[n],r=0,a.length)if(/y/i.test(a)&&r++,/m/i.test(a)&&r++,/d/i.test(a)&&r++,r>1&&E.dd===e)E.dd=u,u++,m.push(S(a)),h=m,N=!0;else if(/y/i.test(a)&&E.y===e)E.y=u,u++,m.push({cssClass:"mbsc-dt-whl-y",label:R.yearText,min:Q?R.getYear(Q):e,max:ee?R.getYear(ee):e,data:M,getIndex:D});else if(/m/i.test(a)&&E.m===e){for(E.m=u,o=[],u++,i=0;i<12;i++)c=G.replace(/[dy]/gi,"").replace(/mm/,l(i+1)+(R.monthSuffix||"")).replace(/m/,i+1+(R.monthSuffix||"")),o.push({value:i,display:/MM/.test(c)?c.replace(/MM/,'<span class="mbsc-dt-month">'+R.monthNames[i]+"</span>"):c.replace(/M/,'<span class="mbsc-dt-month">'+R.monthNamesShort[i]+"</span>")});m.push({cssClass:"mbsc-dt-whl-m",label:R.monthText,data:o})}else if(/d/i.test(a)&&E.d===e){for(E.d=u,o=[],u++,i=1;i<32;i++)o.push({value:i,display:(/dd/i.test(G)?l(i):i)+(R.daySuffix||"")});m.push({cssClass:"mbsc-dt-whl-d",label:R.dayText,data:o})}d.push(m)}if(B.match(/time/i)){for(s=K.split(/\|/.test(K)?"|":""),n=0;n<s.length;n++)if(a=s[n],r=0,a.length&&(/h/i.test(a)&&r++,/i/i.test(a)&&r++,/s/i.test(a)&&r++,/a/i.test(a)&&r++),r>1&&E.tt===e)E.tt=u,u++,h.push(k(a));else if(/h/i.test(a)&&E.h===e){for(o=[],E.h=u,u++,i=ce;i<(se?12:24);i+=ie)o.push({value:i,display:se&&0===i?12:/hh/i.test(J)?l(i):i});h.push({cssClass:"mbsc-dt-whl-h",label:R.hourText,data:o})}else if(/i/i.test(a)&&E.i===e){for(o=[],E.i=u,u++,i=ue;i<60;i+=re)o.push({value:i,display:/ii/i.test(J)?l(i):i});h.push({cssClass:"mbsc-dt-whl-i",label:R.minuteText,data:o})}else if(/s/i.test(a)&&E.s===e){for(o=[],E.s=u,u++,i=de;i<60;i+=le)o.push({value:i,display:/ss/i.test(J)?l(i):i});h.push({cssClass:"mbsc-dt-whl-s",label:R.secText,data:o})}else/a/i.test(a)&&E.a===e&&(E.a=u,u++,h.push({cssClass:"mbsc-dt-whl-a",label:R.ampmText,data:/A/.test(a)?[{value:0,display:R.amText.toUpperCase()},{value:1,display:R.pmText.toUpperCase()}]:[{value:0,display:R.amText},{value:1,display:R.pmText}]}));h!=m&&d.push(h)}return d}(),t.format=U,t.order=E,t.handlers.now=function(){t.setDate(new Date,t.live,1e3,!0,!0)},t.buttons.now={text:R.nowText,icon:R.nowIcon,handler:"now"},{minWidth:N&&te?ge[Z]:e,compClass:"mbsc-dt",wheels:F,headerText:!!R.headerText&&function(){return a.formatDate(U,C(t.getArrayVal(!0)),R)},formatValue:function(e){return a.formatDate(X,C(e),R)},parseValue:function(e){return e||(H={}),_(e?a.parseDate(X,e,R):R.defaultValue&&R.defaultValue.getTime?R.defaultValue:new Date,!!e&&!!e.getTime)},validate:function(s){var a,i,r,l,o=s.values,c=s.index,u=s.direction,d=t.settings.wheels[0][E.d],m=V(C(o),u),h=_(m),f=[],p={},b=ye.y(m),v=ye.m(m),g=R.getMaxDayOfMonth(b,v),y=!0,x=!0;if(n.each(["dd","y","m","d","tt","a","h","i","s"],function(t,s){if(E[s]!==e){var a=pe[s],r=be[s],l=ye[s](m);if(f[E[s]]=[],y&&Q&&(a=ye[s](Q)),x&&ee&&(r=ye[s](ee)),"y"!=s&&"dd"!=s)for(i=pe[s];i<=be[s];i+=ve[s])(i<a||i>r)&&f[E[s]].push(i);if(l<a&&(l=a),l>r&&(l=r),y&&(y=l==a),x&&(x=l==r),"d"==s){var o=R.getDate(b,v,1).getDay(),c={};$(q,b,v,o,g,c,1),$(j,b,v,o,g,c,0),n.each(c,function(e,t){t&&f[E[s]].push(e)})}}}),te&&n.each(["a","h","i","s","tt"],function(s,a){var i=ye[a](m),r=ye.d(m),l={};E[a]!==e&&(O(q,s,a,b,v,r,l,0),O(j,s,a,b,v,r,l,1),n.each(l,function(e,t){t&&f[E[a]].push(e)}),Y[s]=t.getValidValue(E[a],i,u,l))}),d&&(d._length!==g||ae&&(c===e||c===E.y||c===E.m))){for(p[E.d]=d,d.data=[],a=1;a<=g;a++)l=R.getDate(b,v,a).getDay(),r=G.replace(/[my]/gi,"").replace(/dd/,(a<10?"0"+a:a)+(R.daySuffix||"")).replace(/d/,a+(R.daySuffix||"")),d.data.push({value:a,display:r.match(/DD/)?r.replace(/DD/,'<span class="mbsc-dt-day">'+R.dayNames[l]+"</span>"):r.replace(/D/,'<span class="mbsc-dt-day">'+R.dayNamesShort[l]+"</span>")});t._tempWheelArray[E.d]=h[E.d],t.changeWheel(p)}return{disabled:f,valid:h}}}};n.each(["date","time","datetime"],function(e,t){s.presets.scroller[t]=l})}(),function(){t.$.each(["date","time","datetime"],function(e,s){t.presetShort(s)})}(),e.module("mobiscroll-datetime",[]).directive("mobiscrollDatetime",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollDatetime",{preset:"datetime"})}]).directive("mobiscrollDate",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollDate",{preset:"date"})}]).directive("mobiscrollTime",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollTime",{preset:"time"})}]),function(e){var s=t,a=s.$,n={inputClass:"",values:5,order:"desc",style:"icon",invalid:[],icon:{filled:"star3",empty:"star3"}};s.presetShort("rating"),s.presets.scroller.rating=function(e){var t,i,r,l,o,c,u,d,m,h,f=a.extend({},e.settings),p=a.extend(e.settings,n,f),b=a(this),v=this.id+"_dummy",g=a('label[for="'+this.id+'"]').attr("for",v),y=void 0!==p.label?p.label:g.length?g.text():b.attr("name"),x=p.defaultValue,w=[[]],C={data:[],label:y,circular:!1},_={},T=[],M=!1,D="grade"===p.style?"circle":"icon";if(b.is("select")&&(p.values={},a("option",b).each(function(){p.values[a(this).val()]=a(this).text()}),a("#"+v).remove()),a.isArray(p.values))for(i=0;i<p.values.length;i++)d=+p.values[i],isNaN(d)&&(d=i+1,M=!0),T.push({order:d,key:p.values[i],value:p.values[i]});else if(a.isPlainObject(p.values)){i=1,M=!0;for(m in p.values)d=+m,isNaN(d)&&(d=i),T.push({order:d,key:m,value:p.values[m]}),i++}else for(i=1;i<=p.values;i++)T.push({order:i,key:i,value:i});for(void 0===p.showText&&M&&(p.showText=!0),void 0===p.icon.empty&&(p.icon.empty=p.icon.filled),T.sort(function(e,t){return"desc"==p.order?t.order-e.order:e.order-t.order}),h="desc"==p.order?T[0].order:T[T.length-1].order,i=0;i<T.length;i++){for(u=T[i].order,o=T[i].key,c=T[i].value,l="",r=1;r<u+1;r++)l+='<span class="mbsc-rating-'+D+("circle"===D?"":" mbsc-ic mbsc-ic-"+p.icon.filled)+' ">'+("circle"==D?r:" ")+"</span>";for(r=u+1;r<=h;r++)l+='<span class="mbsc-rating-'+D+("circle"===D?" mbsc-rating-circle-unf":" mbsc-ic mbsc-ic-"+(p.icon.empty?p.icon.empty+" mbsc-rating-icon-unf":"")+(p.icon.empty===p.icon.filled?" mbsc-rating-icon-same":""))+'"></span>';void 0===x&&(x=o),l+=p.showText?'<span class="mbsc-rating-txt">'+c+"</span>":"",C.data.push({value:o,display:l,label:c}),_[o]=c}return b.is("select")&&(t=a('<input type="text" id="'+v+'" value="'+_[b.val()]+'" class="'+p.inputClass+'" placeholder="'+(p.placeholder||"")+'" readonly />').insertBefore(b)),w[0].push(C),t&&e.attachShow(t),b.is("select")&&b.hide().closest(".ui-field-contain").trigger("create"),e.getVal=function(t){var a=e._hasValue?e[t?"_tempWheelArray":"_wheelArray"][0]:null;return s.util.isNumeric(a)?+a:a},{anchor:t,wheels:w,headerText:!1,compClass:"mbsc-rating",setOnTap:!0,formatValue:function(e){return _[e[0]]},parseValue:function(e){var s;for(s in _)if(t&&s==e||!t&&_[s]==e)return[s];return[x]},validate:function(){return{disabled:[p.invalid]}},onFill:function(s){t&&(t.val(s.valueText),b.val(e._tempWheelArray[0]))},onDestroy:function(){t&&t.remove(),b.show()}}}}(),e.module("mobiscroll-rating",[]).directive("mobiscrollRating",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollRating",{preset:"rating"})}]),function(e){var s=t,a=s.$,n={invalid:[],showInput:!0,inputClass:""};s.presets.scroller.list=function(t){function s(e,t,s){for(var a=0,n=[];a<e;)n[a]=i(s,a,t),a++;return n}function i(e,t,s){for(var a,n=0,i=s,r=[];n<t;){var l=e[n];for(a in i)if(i[a].key==l){i=i[a].children;break}n++}for(n=0;n<i.length;)i[n].invalid&&r.push(i[n].key),n++;return r}function r(e,t){for(var s=[];e;)s[--e]=!0;return s[t]=!1,s}function l(t,s,a){var n,i,r,l=0,u=[[]],d=S;if(s)for(n=0;n<s;n++)x?u[0][n]={}:u[n]=[{}];for(;l<t.length;){for(x?u[0][l]=c(d,k[l]):u[l]=[c(d,k[l])],n=0,r=e;n<d.length&&r===e;)d[n].key==t[l]&&(a!==e&&l<=a||a===e)&&(r=n),n++;if(r!==e&&d[r].children)l++,d=d[r].children;else{if(!(i=o(d))||!i.children)return u;l++,d=i.children}}return u}function o(e,t){if(!e)return!1;for(var s,a=0;a<e.length;)if(!(s=e[a++]).invalid)return t?a-1:s;return!1}function c(e,t){for(var s={data:[],label:t},a=0;a<e.length;)s.data.push({value:e[a].key,display:e[a].value}),a++;return s}function u(e){t._isVisible&&a(".mbsc-sc-whl-w",t._markup).css("display","").slice(e).hide()}function d(t,s){var a,n,i,r=[],l=S,c=0,u=!1;if(t[c]!==e&&c<=s)for(a=0,n=t[c],i=e;a<l.length&&i===e;)l[a].key!=t[c]||l[a].invalid||(i=a),a++;else i=o(l,!0),n=l[i].key;for(u=i!==e&&l[i].children,r[c]=n;u;){if(l=l[i].children,c++,u=!1,i=e,t[c]!==e&&c<=s)for(a=0,n=t[c],i=e;a<l.length&&i===e;)l[a].key!=t[c]||l[a].invalid||(i=a),a++;else i=o(l,!0),i=i===!1?e:i,n=l[i].key;u=!(i===e||!o(l[i].children))&&l[i].children,r[c]=n}return{lvl:c+1,nVector:r}}function m(s){var n=[];return T=T>M++?T:M,s.children("li").each(function(s){var i=a(this),r=i.clone();r.children("ul,ol").remove();var l=t._processMarkup?t._processMarkup(r):r.html().replace(/^\s\s*/,"").replace(/\s\s*$/,""),o=!!i.attr("data-invalid"),c={key:i.attr("data-val")===e||null===i.attr("data-val")?s:i.attr("data-val"),value:l,invalid:o,children:null},u=i.children("ul,ol");u.length&&(c.children=m(u)),n.push(c)}),M--,n}function h(e,s,a){var n,i=(s||0)+1,r=[],o={},c={};for(o=l(e,null,s),n=0;n<e.length;n++)t._tempWheelArray[n]=e[n]=a.nVector[n]||0;for(;i<a.lvl;)c[i]=x?o[0][i]:o[i][0],r.push(i++);u(a.lvl),D=e.slice(0),r.length&&(p=!0,t.changeWheel(c))}var f,p,b,v=a.extend({},t.settings),g=a.extend(t.settings,n,v),y=g.layout||(/top|bottom/.test(g.display)?"liquid":""),x="liquid"==y,w=g.readonly,C=a(this),_=this.id+"_dummy",T=0,M=0,D=[],S=g.wheelArray||m(C),k=function(e){var t,s=[];for(t=0;t<e;t++)s[t]=g.labels&&g.labels[t]?g.labels[t]:t;return s}(T),V=function(e){for(var t,s=[],a=e,n=!0,i=0;n;)t=o(a),s[i++]=t.key,(n=t.children)&&(a=n);return s}(S),A=l(V,T);return a("#"+_).remove(),g.showInput&&(f=a('<input type="text" id="'+_+'" value="" class="'+g.inputClass+'" placeholder="'+(g.placeholder||"")+'" readonly />').insertBefore(C),g.anchor=f,t.attachShow(f)),g.wheelArray||C.hide(),{wheels:A,layout:y,headerText:!1,setOnTap:1==T,formatValue:function(t){return b===e&&(b=d(t,t.length).lvl),t.slice(0,b).join(" ")},parseValue:function(e){return e?(e+"").split(" "):(g.defaultValue||V).slice(0)},onBeforeShow:function(){var e=t.getArrayVal(!0);D=e.slice(0),g.wheels=l(e,T,T),p=!0},onWheelGestureStart:function(e){g.readonly=r(T,e.index)},onWheelAnimationEnd:function(e){var s=e.index,a=t.getArrayVal(!0),n=d(a,s);b=n.lvl,g.readonly=w,a[s]!=D[s]&&h(a,s,n)},onFill:function(t){b=e,f&&f.val(t.valueText)},validate:function(t){var a=t.values,n=t.index,i=d(a,a.length);return b=i.lvl,n===e&&(u(i.lvl),p||h(a,n,i)),p=!1,{disabled:s(b,S,a)}},onDestroy:function(){f&&f.remove(),C.show()}}}}(),function(){var e=t,s=e.$,a=e.presets.scroller;e.presetShort("image"),a.image=function(e){return e.settings.enhance&&(e._processMarkup=function(e){var t=e.attr("data-icon");return e.children().each(function(e,t){t=s(t),t.is("img")?s('<div class="mbsc-img-c"></div>').insertAfter(t).append(t.addClass("mbsc-img")):t.is("p")&&t.addClass("mbsc-img-txt")}),t&&e.prepend('<div class="mbsc-ic mbsc-ic-'+t+'"></div'),e.html('<div class="mbsc-img-w">'+e.html()+"</div>"),e.html()}),a.list.call(this,e)}}(),function(){var s=t.$,a="mobiscrollImage",n=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"],i=+new Date;e.module("mobiscroll-image",[]).directive("mobiscrollRepeatRender",function(){return function(e,t,s){function a(){e.$emit("mbscRepeatRender"+s.mobiscrollRepeatRender)}a(),e.$on("$destroy",a)}}).directive(a,["$parse",function(r){var l=t.ng.getDDO(r,a,{preset:"image"});return l.link=void 0,l.compile=function(l){var o,c,u=""+i++,d=s(l[0]);return d.find("li").each(function(){for(c=0;c<n.length;c++)if(s(this).attr(n[c]))return o=!0,!1}),o&&d.children().attr("mobiscroll-repeat-render",u),function(n,i,l,c){var d,m,h=s(i[0]),f=t.ng.getOpt(n,l,a,c);e.extend(f,{preset:"image"}),t.ng.addWatch(r,n,c,h,l,a),o?n.$on("mbscRepeatRender"+u,function(){clearTimeout(m),m=setTimeout(function(){d=new t.classes.Scroller(i[0],f),l.mobiscrollInstance&&r(l.mobiscrollInstance).assign(n,d)},1)}):h.children().length&&(d=new t.classes.Scroller(i[0],f),l.mobiscrollInstance&&r(l.mobiscrollInstance).assign(n,d))}},l}])}(),function(){var e=t,s=e.presets.scroller;s.treelist=s.list,e.presetShort("list"),e.presetShort("treelist")}(),function(){var s=t.$,a="mobiscrollList",n=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"];e.module("mobiscroll-list",[]).directive("mobiscrollRepeatRender",function(){return function(e){e.$emit("mbscRepeatRender")}}).directive(a,["$parse",function(i){var r=t.ng.getDDO(i,a,{preset:"list"});return r.link=void 0,r.compile=function(r){var l,o,c=s(r[0]);return c.find("li").each(function(){for(o=0;o<n.length;o++)if(s(this).attr(n[o]))return l=!0,!1}),l&&c.children().attr("mobiscroll-repeat-render",""),function(n,r,o,c){var u,d,m=s(r[0]),h=t.ng.getOpt(n,o,a,c);e.extend(h,{preset:"treelist"}),t.ng.addWatch(i,n,c,m,o,a),l?n.$on("mbscRepeatRender",function(){clearTimeout(d),d=setTimeout(function(){u=new t.classes.Scroller(r[0],h),o.mobiscrollInstance&&i(o.mobiscrollInstance).assign(n,u)},1)}):m.children().length&&(u=new t.classes.Scroller(r[0],h),o.mobiscrollInstance&&i(o.mobiscrollInstance).assign(n,u))}},r}])}(),function(e,s,a){var n=t,i=n.$,r=n.presets.scroller,l=n.util,o=l.datetime.adjustedDate,c=l.jsPrefix,u=l.testTouch,d=l.getCoord,m=l.animEnd,h=new Date,f={min:new Date(h.getFullYear()-100,0,1),max:new Date(h.getFullYear()+1,11,31,23,59,59),controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,outerMonthChange:!0,quickNav:!0,yearChange:!0,todayClass:"mbsc-cal-today",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",nextYearText:"Next Year"};r.calbase=function(e){function t(e){var t;Le=i(this),Ne=!1,"keydown"!=e.type?($e=d(e,"X"),Oe=d(e,"Y"),t=u(e,this)):t=32===e.keyCode,Fe||!t||Le.hasClass("mbsc-fr-btn-d")||(Fe=!0,setTimeout(b,100),"mousedown"==e.type&&i(s).on("mousemove",h).on("mouseup",p))}function h(e){(Math.abs($e-d(e,"X"))>7||Math.abs(Oe-d(e,"Y"))>7)&&(Fe=!1,Le.removeClass("mbsc-fr-btn-a"))}function p(e){"touchend"==e.type&&e.preventDefault(),Le&&!Ne&&b(),Fe=!1,"mouseup"==e.type&&i(s).off("mousemove",h).off("mouseup",p)}function b(){Ne=!0,Le.hasClass("mbsc-cal-prev-m")?N():Le.hasClass("mbsc-cal-next-m")?L():Le.hasClass("mbsc-cal-prev-y")?E(Le):Le.hasClass("mbsc-cal-next-y")&&F(Le)}function v(e){return!(e<o(xe.getFullYear(),xe.getMonth(),xe.getDate()))&&(!(e>we)&&(ke[e]===a||Se[e]!==a))}function g(e,t,s){var a,n,r,l,c={},u=mt+Ye;return e&&i.each(e,function(e,i){if(a=i.d||i.start||i,n=a+"",i.start&&i.end)for(l=new Date(i.start);l<=i.end;)r=o(l.getFullYear(),l.getMonth(),l.getDate()),c[r]=c[r]||[],c[r].push(i),l.setDate(l.getDate()+1);else if(a.getTime)r=o(a.getFullYear(),a.getMonth(),a.getDate()),c[r]=c[r]||[],c[r].push(i);else if(n.match(/w/i)){var d=+n.replace("w",""),m=0,h=tt.getDate(t,s-mt-Pe,1).getDay();for(tt.firstDay-h+1>1&&(m=7),B=0;B<5*He;B++)r=tt.getDate(t,s-mt-Pe,7*B-m-h+1+d),c[r]=c[r]||[],c[r].push(i)}else if(n=n.split("/"),n[1])s+u>=11&&(r=tt.getDate(t+1,n[0]-1,n[1]),c[r]=c[r]||[],c[r].push(i)),s-u<=1&&(r=tt.getDate(t-1,n[0]-1,n[1]),c[r]=c[r]||[],c[r].push(i)),r=tt.getDate(t,n[0]-1,n[1]),c[r]=c[r]||[],c[r].push(i);else for(B=0;B<He;B++)r=tt.getDate(t,s-mt-Pe+B,n[0]),tt.getDay(r)==n[0]&&(c[r]=c[r]||[],c[r].push(i))}),c}function y(t,s){ke=g(tt.invalid,t,s),Se=g(tt.valid,t,s),e.onGenMonth(t,s)}function x(e,t,s,a,n,i,r){var l='<div class="mbsc-cal-h mbsc-cal-sc-c mbsc-cal-'+e+"-c "+(tt.calendarClass||"")+'"><div class="mbsc-cal-sc"><div class="mbsc-cal-sc-p"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">';for(j=1;j<=t;j++)l+=j<=12||j>s?'<div class="mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-sc-empty"><div class="mbsc-cal-sc-cell-i">&nbsp;</div></div>':'<div tabindex="0" role="button"'+(i?' aria-label="'+i[j-13]+'"':"")+' class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-sc-m-cell mbsc-cal-sc-cell mbsc-cal-'+e+'-s" data-val='+(a+j-13)+'><div class="mbsc-cal-sc-cell-i mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-cell">'+(r?r[j-13]:a+j-13+n)+"</div></div></div>",j<t&&(j%12==0?l+='</div></div></div><div class="mbsc-cal-sc-p" style="'+(ut?"top":lt?"right":"left")+":"+100*Math.round(j/12)+'%"><div class="mbsc-cal-sc-tbl"><div class="mbsc-cal-sc-row">':j%3==0&&(l+='</div><div class="mbsc-cal-sc-row">'));return l+="</div></div></div></div></div>"}function w(t,s){var a,n,r,l,o,c,u,d,m,h,f,p,b,g,y,x,w=1,C=0,_=tt.getDate(t,s,1),T=tt.getYear(_),M=tt.getMonth(_),D=null!==tt.defaultValue||e._hasValue?e.getDate(!0):null,S=tt.getDate(T,M,1).getDay(),k='<div class="mbsc-cal-table">',V='<div class="mbsc-cal-week-nr-c">';for(tt.firstDay-S+1>1&&(C=7),x=0;x<42;x++)y=x+tt.firstDay-C,a=tt.getDate(T,M,y-S+1),r=a.getFullYear(),l=a.getMonth(),o=a.getDate(),c=tt.getMonth(a),u=tt.getDay(a),g=tt.getMaxDayOfMonth(r,l),d=r+"-"+l+"-"+o,m=i.extend({valid:v(a),selected:D&&D.getFullYear()===r&&D.getMonth()===l&&D.getDate()===o},e.getDayProps(a,D)),h=m.valid,f=m.selected,n=m.cssClass,p=new Date(a).setHours(12,0,0,0)===(new Date).setHours(12,0,0,0),b=c!==M,Ze[d]=m,x%7==0&&(k+=(x?"</div>":"")+'<div class="mbsc-cal-row'+(tt.highlight&&D&&D-a>=0&&D-a<6048e5?" mbsc-cal-week-hl":"")+'">'),at&&1==a.getDay()&&("month"==at&&b&&w>1?w=1==o?1:2:"year"==at&&(w=tt.getWeekNumber(a)),V+='<div class="mbsc-cal-week-nr"><div class="mbsc-cal-week-nr-i">'+w+"</div></div>",w++),k+='<div role="button" tabindex="-1" aria-label="'+(p?tt.todayText+", ":"")+tt.dayNames[a.getDay()]+", "+tt.monthNames[c]+" "+u+" "+(m.ariaLabel?", "+m.ariaLabel:"")+'"'+(b&&!Re?' aria-hidden="true"':"")+(f?' aria-selected="true"':"")+(h?"":' aria-disabled="true"')+' data-day="'+y%7+'" data-full="'+d+'"class="mbsc-cal-day '+(tt.dayClass||"")+(f?" mbsc-cal-day-sel":"")+(p?" "+tt.todayClass:"")+(n?" "+n:"")+(1==u?" mbsc-cal-day-first":"")+(u==g?" mbsc-cal-day-last":"")+(b?" mbsc-cal-day-diff":"")+(h?" mbsc-cal-day-v mbsc-fr-btn-e mbsc-fr-btn-nhl":" mbsc-cal-day-inv")+'"><div class="mbsc-cal-day-i '+(f?gt:"")+" "+(tt.innerDayClass||"")+'"><div class="mbsc-cal-day-fg">'+u+"</div>"+(m.markup||"")+'<div class="mbsc-cal-day-frame"></div></div></div>';return k+="</div></div>"+V+"</div>"}function C(e,t,s){var a=tt.getDate(e,t,1),n=tt.getYear(a),r=tt.getMonth(a),l=n+vt;if(dt){if(Be&&Be.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),Ue&&Ue.removeClass("mbsc-cal-sc-sel").removeAttr("aria-selected").find(".mbsc-cal-sc-cell-i").removeClass(gt),Be=i('.mbsc-cal-year-s[data-val="'+n+'"]',z).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Ue=i('.mbsc-cal-month-s[data-val="'+r+'"]',z).addClass("mbsc-cal-sc-sel").attr("aria-selected","true"),Be.find(".mbsc-cal-sc-cell-i").addClass(gt),Ue.find(".mbsc-cal-sc-cell-i").addClass(gt),je&&je.scroll(Be,s),i(".mbsc-cal-month-s",z).removeClass("mbsc-fr-btn-d"),n===fe)for(j=0;j<be;j++)i('.mbsc-cal-month-s[data-val="'+j+'"]',z).addClass("mbsc-fr-btn-d");if(n===pe)for(j=ve+1;j<=12;j++)i('.mbsc-cal-month-s[data-val="'+j+'"]',z).addClass("mbsc-fr-btn-d")}for(1==me.length&&me.attr("aria-label",n).html(l),j=0;j<Ee;++j)a=tt.getDate(e,t-Pe+j,1),n=tt.getYear(a),r=tt.getMonth(a),l=n+vt,i(ue[j]).attr("aria-label",tt.monthNames[r]+(ht?"":" "+n)).html((!ht&&he<de?l+" ":"")+le[r]+(!ht&&he>de?" "+l:"")),me.length>1&&i(me[j]).html(l);tt.getDate(e,t-Pe-1,1)<ge?T(i(".mbsc-cal-prev-m",z)):_(i(".mbsc-cal-prev-m",z)),tt.getDate(e,t+Ee-Pe,1)>ye?T(i(".mbsc-cal-next-m",z)):_(i(".mbsc-cal-next-m",z)),tt.getDate(e,t,1).getFullYear()<=ge.getFullYear()?T(i(".mbsc-cal-prev-y",z)):_(i(".mbsc-cal-prev-y",z)),tt.getDate(e,t,1).getFullYear()>=ye.getFullYear()?T(i(".mbsc-cal-next-y",z)):_(i(".mbsc-cal-next-y",z))}function _(e){e.removeClass(wt).find(".mbsc-cal-btn-txt").removeAttr("aria-disabled")}function T(e){e.addClass(wt).find(".mbsc-cal-btn-txt").attr("aria-disabled","true")}function M(t){e.trigger("onDayHighlight",{date:t}),tt.highlight&&(i(".mbsc-cal-day-sel .mbsc-cal-day-i",G).removeClass(gt),i(".mbsc-cal-day-sel",G).removeClass("mbsc-cal-day-sel").removeAttr("aria-selected"),i(".mbsc-cal-week-hl",G).removeClass("mbsc-cal-week-hl"),(null!==tt.defaultValue||e._hasValue)&&i('.mbsc-cal-day[data-full="'+t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()+'"]',G).addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(gt).closest(".mbsc-cal-row").addClass("mbsc-cal-week-hl"))}function D(t,s){if(te&&("calendar"===Ae||s)){var a,n,i=tt.getDate(_e,Te,1),r=Math.abs(12*(tt.getYear(t)-tt.getYear(i))+tt.getMonth(t)-tt.getMonth(i));e.needsSlide&&r&&(_e=tt.getYear(t),Te=tt.getMonth(t),t>i?(n=r>mt-Pe+Ee-1,Te-=n?0:r-mt,a="next"):t<i&&(n=r>mt+Pe,Te+=n?0:r-mt,a="prev"),A(_e,Te,a,Math.min(r,mt),n,!0)),s||(Ce=t,M(t)),e.needsSlide=!0}}function S(t,s,n){for(n||e.trigger("onMonthLoading",{year:t,month:s}),y(t,s),j=0;j<He;j++)Ke[j].html(w(t,s-Pe-mt+j));V(),We=a,e.trigger("onMonthLoaded",{year:t,month:s})}function k(e,t){for(var s=mt,a=mt;a&&tt.getDate(e,t+a+Ee-Pe-1,1)>ye;)a--;for(;s&&tt.getDate(e,t-s-Pe,1)<ge;)s--;i.extend(oe.settings,{contSize:Ee*Z,snap:Z,minScroll:Q-(lt?s:a)*Z,maxScroll:Q+(lt?a:s)*Z}),oe.refresh()}function V(){at&&ne.html(i(".mbsc-cal-week-nr-c",Ke[mt]).html()),i(".mbsc-cal-slide-a .mbsc-cal-day",J).attr("tabindex",0)}function A(t,s,n,r,l,o,c){if(t&&Ge.push({y:t,m:s,dir:n,slideNr:r,load:l,active:o,callback:c}),!Ie){var u,d=Ge.shift();if(t=d.y,s=d.m,n="next"===d.dir,r=d.slideNr,l=d.load,o=d.active,c=d.callback||Qe,u=tt.getDate(t,s,1),t=tt.getYear(u),s=tt.getMonth(u),Ie=!0,e.changing=!0,e.trigger("onMonthChange",{year:t,month:s}),e.trigger("onMonthLoading",{year:t,month:s}),y(t,s),l)for(j=0;j<Ee;j++)Ke[n?He-Ee+j:j].html(w(t,s-Pe+j));o&&ze.addClass("mbsc-cal-slide-a"),setTimeout(function(){e.ariaMessage(tt.monthNames[s]+" "+t),C(t,s,200),Q=n?Q-Z*r*ot:Q+Z*r*ot,oe.scroll(Q,o?200:0,!1,function(){var o;if(Ke.length){if(ze.removeClass("mbsc-cal-slide-a").attr("aria-hidden","true"),n)for(o=Ke.splice(0,r),j=0;j<r;j++)Ke.push(o[j]),$(Ke[Ke.length-1],+Ke[Ke.length-2].attr("data-curr")+100*ot);else for(o=Ke.splice(He-r,r),j=r-1;j>=0;j--)Ke.unshift(o[j]),$(Ke[0],+Ke[1].attr("data-curr")-100*ot);for(j=0;j<r;j++)Ke[n?He-r+j:j].html(w(t,s-Pe-mt+j+(n?He-r:0))),l&&Ke[n?j:He-r+j].html(w(t,s-Pe-mt+j+(n?0:He-r)));for(j=0;j<Ee;j++)Ke[mt+j].addClass("mbsc-cal-slide-a").removeAttr("aria-hidden");k(t,s),Ie=!1}Ge.length?setTimeout(function(){A()},10):(_e=t,Te=s,e.changing=!1,i(".mbsc-cal-day",J).attr("tabindex",-1),V(),We!==a?S(t,s,We):e.trigger("onMonthLoaded",{year:t,month:s}),c())})},10)}}function I(){var t=i(this),s=e.live,a=e.getDate(!0),n=t.attr("data-full"),r=n.split("-"),l=o(r[0],r[1],r[2]),c=o(l.getFullYear(),l.getMonth(),l.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),u=t.hasClass("mbsc-cal-day-sel");!Re&&t.hasClass("mbsc-cal-day-diff")||e.trigger("onDayChange",i.extend(Ze[n],{date:c,target:this,selected:u}))!==!1&&(e.needsSlide=!1,ee=!0,e.setDate(c,s,.2,!s,!0),tt.outerMonthChange&&(Fe=!0,l<tt.getDate(_e,Te-Pe,1)?N():l>tt.getDate(_e,Te-Pe+Ee,0)&&L(),Fe=!1),e.live&&e.trigger("onSet",{valueText:e._value}))}function $(e,t){e.attr("data-curr",t),e[0].style[c+"Transform"]="translate3d("+(ut?"0,"+t+"%,":t+"%,0,")+"0)"}function O(t){e.isVisible()&&te&&(e.changing?We=t:S(_e,Te,t))}function L(){Fe&&tt.getDate(_e,Te+Ee-Pe,1)<=ye&&A(_e,++Te,"next",1,!1,!0,L)}function N(){Fe&&tt.getDate(_e,Te-Pe-1,1)>=ge&&A(_e,--Te,"prev",1,!1,!0,N)}function F(e){Fe&&tt.getDate(_e,Te,1)<=tt.getDate(tt.getYear(ye)-1,tt.getMonth(ye)-Ye,1)?A(++_e,Te,"next",mt,!0,!0,function(){F(e)}):Fe&&!e.hasClass("mbsc-fr-btn-d")&&A(tt.getYear(ye),tt.getMonth(ye)-Ye,"next",mt,!0,!0)}function E(e){Fe&&tt.getDate(_e,Te,1)>=tt.getDate(tt.getYear(ge)+1,tt.getMonth(ge)+Pe,1)?A(--_e,Te,"prev",mt,!0,!0,function(){E(e)}):Fe&&!e.hasClass("mbsc-fr-btn-d")&&A(tt.getYear(ge),tt.getMonth(ge)+Pe,"prev",mt,!0,!0)}function H(t,s){t.hasClass("mbsc-cal-v")||(t.addClass("mbsc-cal-v"+(s?"":" mbsc-cal-p-in")).removeClass("mbsc-cal-p-out mbsc-cal-h"),e.trigger("onSelectShow"))}function Y(e,t){e.hasClass("mbsc-cal-v")&&e.removeClass("mbsc-cal-v mbsc-cal-p-in").addClass("mbsc-cal-h"+(t?"":" mbsc-cal-p-out"))}function P(e,t){(t||e).hasClass("mbsc-cal-v")?Y(e):H(e)}function W(){i(this).removeClass("mbsc-cal-p-out mbsc-cal-p-in")}function R(e){return e[0].innerWidth||e.innerWidth()}var q,j,B,U,X,z,K,G,J,Z,Q,ee,te,se,ae,ne,ie,re,le,oe,ce,ue,de,me,he,fe,pe,be,ve,ge,ye,xe,we,Ce,_e,Te,Me,De,Se,ke,Ve,Ae,Ie,$e,Oe,Le,Ne,Fe,Ee,He,Ye,Pe,We,Re,qe,je,Be,Ue,Xe=this,ze=[],Ke=[],Ge=[],Je={},Ze={},Qe=function(){},et=i.extend({},e.settings),tt=i.extend(e.settings,f,et),st="full"==tt.weekDays?"":"min"==tt.weekDays?"Min":"Short",at=tt.weekCounter,nt=tt.layout||(/top|bottom|inline/.test(tt.display)?"liquid":""),it="liquid"==nt&&"bubble"!==tt.display,rt="center"==tt.display,lt=tt.rtl,ot=lt?-1:1,ct=it?null:tt.calendarWidth,ut="vertical"==tt.calendarScroll,dt=tt.quickNav,mt=tt.preMonths,ht=tt.yearChange,ft=tt.controls.join(","),pt=(tt.tabs===!0||tt.tabs!==!1&&it)&&tt.controls.length>1,bt=!pt&&tt.tabs===a&&!it&&tt.controls.length>1,vt=tt.yearSuffix||"",gt=tt.activeClass||"",yt="mbsc-cal-tab-sel "+(tt.activeTabClass||""),xt=tt.activeTabInnerClass||"",wt="mbsc-fr-btn-d "+(tt.disabledClass||""),Ct="",_t="";return ft.match(/calendar/)?te=!0:dt=!1,ft.match(/date/)&&(Je.date=1),ft.match(/time/)&&(Je.time=1),te&&Je.date&&(pt=!0,bt=!1),tt.layout=nt,tt.preset=(Je.date||te?"date":"")+(Je.time?"time":""),
"inline"==tt.display&&i(this).closest('[data-role="page"]').on("pageshow",function(){e.position()}),e.changing=!1,e.needsSlide=!0,e.getDayProps=Qe,e.onGenMonth=Qe,e.prepareObj=g,e.refresh=function(){O(!1)},e.redraw=function(){O(!0)},e.navigate=function(t,s){var a,n,i=e.isVisible();s&&i?D(t,!0):(a=tt.getYear(t),n=tt.getMonth(t),!i||a==_e&&n==Te||(e.trigger("onMonthChange",{year:a,month:n}),C(a,n),S(a,n),k(t.getFullYear(),t.getMonth())),_e=a,Te=n)},e.showMonthView=function(){dt&&!re&&(Y(_t,!0),Y(Ct,!0),H(ie,!0),re=!0)},e.changeTab=function(t){e._isVisible&&Je[t]&&Ae!=t&&(Ae=t,i(".mbsc-cal-pnl",z).removeClass("mbsc-cal-p-in").addClass("mbsc-cal-pnl-h"),i(".mbsc-cal-tab",z).removeClass(yt).removeAttr("aria-selected").find(".mbsc-cal-tab-i").removeClass(xt),i('.mbsc-cal-tab[data-control="'+t+'"]',z).addClass(yt).attr("aria-selected","true").find(".mbsc-cal-tab-i").addClass(xt),Je[Ae].removeClass("mbsc-cal-pnl-h").addClass("mbsc-cal-p-in"),"calendar"==Ae&&(q=e.getDate(!0),q.getFullYear()===Ce.getFullYear()&&q.getMonth()===Ce.getMonth()&&q.getDate()===Ce.getDate()||D(q)),e.showMonthView(),e.trigger("onTabChange",{tab:Ae}))},U=r.datetime.call(this,e),de=(tt.dateWheels||tt.dateFormat).search(/m/i),he=(tt.dateWheels||tt.dateFormat).search(/y/i),i.extend(U,{ariaMessage:tt.calendarText,onMarkupReady:function(s){var r,c,d="";if(z=i(s.target),K="inline"==tt.display?i(this).is("div")?i(this):i(this).parent():e._window,Ce=e.getDate(!0),_e||(_e=tt.getYear(Ce),Te=tt.getMonth(Ce)),Q=0,ae=!0,Ie=!1,le=tt.monthNames,Ae="calendar",tt.min&&(ge=o(tt.min.getFullYear(),tt.min.getMonth(),1),xe=tt.min),tt.max&&(ye=o(tt.max.getFullYear(),tt.max.getMonth(),1),we=tt.max),z.addClass("mbsc-calendar"),X=i(".mbsc-fr-popup",z),Ve=i(".mbsc-fr-c",z),Je.date?Je.date=i(".mbsc-sc-whl-gr-c",z).eq(0):te&&i(".mbsc-sc-whl-gr-c",z).eq(0).addClass("mbsc-cal-hdn"),Je.time&&(Je.time=i(".mbsc-sc-whl-gr-c",z).eq(1)),te){for(Ee="auto"==tt.months?Math.max(1,Math.min(3,Math.floor((ct||R(K))/280))):tt.months,He=Ee+2*mt,Ye=Math.floor(Ee/2),Pe=Math.round(Ee/2)-1,Re=tt.showOuterDays===a?Ee<2:tt.showOuterDays,ut=ut&&Ee<2,c='<div class="mbsc-cal-btnw"><div class="'+(lt?"mbsc-cal-next-m":"mbsc-cal-prev-m")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalPrevClass||"")+'" aria-label="'+tt.prevMonthText+'"></div></div>',j=0;j<Ee;++j)c+='<div class="mbsc-cal-btnw-m" style="width: '+100/Ee+'%"><span role="button" class="mbsc-cal-month"></span></div>';for(c+='<div class="'+(lt?"mbsc-cal-prev-m":"mbsc-cal-next-m")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalNextClass||"")+'" aria-label="'+tt.nextMonthText+'"></div></div></div>',ht&&(d='<div class="mbsc-cal-btnw"><div class="'+(lt?"mbsc-cal-next-y":"mbsc-cal-prev-y")+' mbsc-cal-prev mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalPrevClass||"")+'" aria-label="'+tt.prevYearText+'"></div></div><span role="button" class="mbsc-cal-year"></span><div class="'+(lt?"mbsc-cal-prev-y":"mbsc-cal-next-y")+' mbsc-cal-next mbsc-cal-btn mbsc-fr-btn mbsc-fr-btn-e"><div role="button" tabindex="0" class="mbsc-cal-btn-txt '+(tt.btnCalNextClass||"")+'" aria-label="'+tt.nextYearText+'"></div></div></div>'),dt&&(fe=tt.getYear(ge),pe=tt.getYear(ye),be=tt.getMonth(ge),ve=tt.getMonth(ye),De=Math.ceil((pe-fe+1)/12)+2,Ct=x("month",36,24,0,"",tt.monthNames,tt.monthNamesShort),_t=x("year",12*De,pe-fe+13,fe,vt)),se='<div class="mbsc-w-p mbsc-cal-c"><div class="mbsc-cal mbsc-cal-hl-now '+(Ee>1?" mbsc-cal-multi ":"")+(at?" mbsc-cal-weeks ":"")+(ut?" mbsc-cal-vertical":"")+(Re?"":" mbsc-cal-hide-diff ")+(tt.calendarClass||"")+'"><div class="mbsc-cal-header"><div class="mbsc-cal-btnc '+(ht?"mbsc-cal-btnc-ym":"mbsc-cal-btnc-m")+'">'+(he<de||Ee>1?d+c:c+d)+'</div></div><div class="mbsc-cal-body"><div class="mbsc-cal-m-c mbsc-cal-v"><div class="mbsc-cal-days-c">',B=0;B<Ee;++B){for(se+='<div aria-hidden="true" class="mbsc-cal-days" style="width: '+100/Ee+'%"><table cellpadding="0" cellspacing="0"><tr>',j=0;j<7;j++)se+="<th>"+tt["dayNames"+st][(j+tt.firstDay)%7]+"</th>";se+="</tr></table></div>"}for(se+='</div><div class="mbsc-cal-week-nrs-c '+(tt.weekNrClass||"")+'"><div class="mbsc-cal-week-nrs"></div></div><div class="mbsc-cal-anim-c '+(tt.calendarClass||"")+'"><div class="mbsc-cal-anim">',j=0;j<Ee+2*mt;j++)se+='<div class="mbsc-cal-slide" aria-hidden="true"></div>';se+="</div></div></div>"+Ct+_t+"</div></div></div>",Je.calendar=i(se)}if(i.each(tt.controls,function(e,t){Je[t]=i('<div class="mbsc-cal-pnl" id="'+Xe.id+"_dw_pnl_"+e+'"></div>').append(i('<div class="mbsc-cal-pnl-i"></div>').append(Je[t])).appendTo(Ve)}),r='<div class="mbsc-cal-tabs"><ul role="tablist">',i.each(tt.controls,function(e,t){Je[t]&&(r+='<li role="tab" aria-controls="'+Xe.id+"_dw_pnl_"+e+'" class="mbsc-cal-tab '+(e?"":yt)+'" data-control="'+t+'"><a href="#" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-cal-tab-i '+(e?"":xt)+'">'+tt[t+"Text"]+"</a></li>")}),r+="</ul></div>",Ve.before(r),G=i(".mbsc-cal-anim-c",z),J=i(".mbsc-cal-anim",G),ne=i(".mbsc-cal-week-nrs",z),te){for(re=!0,ze=i(".mbsc-cal-slide",J).each(function(e,t){Ke.push(i(t))}),ze.slice(mt,mt+Ee).addClass("mbsc-cal-slide-a").removeAttr("aria-hidden"),j=0;j<He;j++)$(Ke[j],100*(j-mt)*ot);S(_e,Te),oe=new n.classes.ScrollView(G[0],{axis:ut?"Y":"X",easing:"",contSize:0,snap:1,maxSnapScroll:mt,moveElement:J,mousewheel:tt.mousewheel,time:200,lock:!0,stopProp:!1,minScroll:-(1/0),maxScroll:1/0,onAnimationEnd:function(e){var t=Math.round(((ut?e.posY:e.posX)-Q)/Z)*ot;t&&A(_e,Te-t,t>0?"prev":"next",t>0?t:-t)}})}ue=i(".mbsc-cal-month",z),me=i(".mbsc-cal-year",z),ie=i(".mbsc-cal-m-c",z),dt&&(ie.on(m,W),Ct=i(".mbsc-cal-month-c",z).on(m,W),_t=i(".mbsc-cal-year-c",z).on(m,W),qe=i(".mbsc-cal-sc-p",z),Me={axis:ut?"Y":"X",contSize:0,snap:1,maxSnapScroll:1,rtl:tt.rtl,mousewheel:tt.mousewheel,time:200,stopProp:!1,minScroll:-(1/0),maxScroll:1/0},je=new n.classes.ScrollView(_t[0],Me),ce=new n.classes.ScrollView(Ct[0],Me)),it?z.addClass("mbsc-cal-liq"):i(".mbsc-cal",z).width(ct||280*Ee),tt.calendarHeight&&i(".mbsc-cal-anim-c",z).height(tt.calendarHeight),e.tap(G,function(e){var t=i(e.target);Ie||oe.scrolled||tt.readonly===!0||(t=t.closest(".mbsc-cal-day",this),t.hasClass("mbsc-cal-day-v")&&I.call(t[0]))}),i(".mbsc-cal-btn",z).on("touchstart mousedown keydown",t).on("touchmove",h).on("touchend touchcancel keyup",p),i(".mbsc-cal-tab",z).on("touchstart click",function(t){u(t,this)&&e.changeTab(i(this).attr("data-control"))}),dt&&(e.tap(i(".mbsc-cal-month",z),function(){_t.hasClass("mbsc-cal-v")||(P(ie),re=ie.hasClass("mbsc-cal-v")),P(Ct),Y(_t)}),e.tap(i(".mbsc-cal-year",z),function(){_t.hasClass("mbsc-cal-v")||je.scroll(Be),Ct.hasClass("mbsc-cal-v")||(P(ie),re=ie.hasClass("mbsc-cal-v")),P(_t),Y(Ct)}),e.tap(i(".mbsc-cal-month-s",z),function(){ce.scrolled||i(this).hasClass("mbsc-fr-btn-d")||e.navigate(tt.getDate(_e,i(this).attr("data-val"),1))}),e.tap(i(".mbsc-cal-year-s",z),function(){je.scrolled||(q=tt.getDate(i(this).attr("data-val"),Te,1),e.navigate(new Date(l.constrain(q,ge,ye))))}),e.tap(_t,function(){je.scrolled||(Y(_t),H(ie),re=!0)}),e.tap(Ct,function(){ce.scrolled||(Y(Ct),H(ie),re=!0)}))},onShow:function(){te&&C(_e,Te)},onPosition:function(t){var s,a,n,r,l,o,c=0,u=0,d=0,m=t.windowHeight;if(it&&(rt&&G.height(""),Ve.height(""),J.width("")),Z&&(l=Z),te&&(Z=Math.round(Math.round(G[0][ut?"offsetHeight":"offsetWidth"])/Ee)),Z&&(z.removeClass("mbsc-cal-m mbsc-cal-l"),Z>1024?z.addClass("mbsc-cal-l"):Z>640&&z.addClass("mbsc-cal-m")),(pt&&(ae||it)||bt)&&(i(".mbsc-cal-pnl",z).removeClass("mbsc-cal-pnl-h"),i.each(Je,function(e,t){s=t[0].offsetWidth,c=Math.max(c,s),u=Math.max(u,t[0].offsetHeight),d+=s}),pt||bt&&d>R(K)?(a=!0,Ae=i(".mbsc-cal-tabs .mbsc-cal-tab-sel",z).attr("data-control"),X.addClass("mbsc-cal-tabbed")):(Ae="calendar",c="",u="",X.removeClass("mbsc-cal-tabbed"),Ve.css({width:"",height:""}))),it&&rt&&te&&(e._isFullScreen=!0,a&&Ve.height(Je.calendar[0].offsetHeight),r=X[0].offsetHeight,m>=r&&G.height(m-r+G[0].offsetHeight),u=Math.max(u,Je.calendar[0].offsetHeight)),a&&(Ve.css({width:it?"":c,height:u}),te&&(Z=Math.round(Math.round(G[0][ut?"offsetHeight":"offsetWidth"])/Ee))),Z){if(J[ut?"height":"width"](Z),Z!==l){if(ht)for(le=tt.maxMonthWidth>i(".mbsc-cal-btnw-m",z).width()?tt.monthNamesShort:tt.monthNames,j=0;j<Ee;++j)i(ue[j]).text(le[tt.getMonth(tt.getDate(_e,Te-Pe+j,1))]);dt&&(o=_t[0][ut?"offsetHeight":"offsetWidth"],i.extend(je.settings,{contSize:o,snap:o,minScroll:(2-De)*o,maxScroll:-o}),i.extend(ce.settings,{contSize:o,snap:o,minScroll:-o,maxScroll:-o}),je.refresh(),ce.refresh(),_t.hasClass("mbsc-cal-v")&&je.scroll(Be)),it&&!ae&&l&&(n=Q/l,Q=n*Z),k(_e,Te)}}else Z=l;a&&(i(".mbsc-cal-pnl",z).addClass("mbsc-cal-pnl-h"),Je[Ae].removeClass("mbsc-cal-pnl-h")),e.trigger("onCalResize"),ae=!1},onHide:function(){Ge=[],Ke=[],Ae=null,_e=null,Te=null,Ie=!0,Z=0,oe&&oe.destroy(),dt&&je&&ce&&(je.destroy(),ce.destroy())},onValidated:function(t){var s,a,n;if(a=e.getDate(!0),ee)s="calendar";else for(n in e.order)n&&e.order[n]===t&&(s=/[mdy]/.test(n)?"date":"time");e.trigger("onSetDate",{date:a,control:s}),D(a),ee=!1}}),U}}(window,document),function(e,s,a){var n=t,i=n.$,r=i.extend,l=n.util,o=l.datetime,c=o.adjustedDate,u=n.presets.scroller,d={};n.presetShort("calendar"),u.calendar=function(t){function s(t){if(t){if(x[t])return x[t];var s=i('<div style="background-color:'+t+';"></div>').appendTo("body"),a=e.getComputedStyle?getComputedStyle(s[0]):s[0].style,n=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),r=.299*n[0]+.587*n[1]+.114*n[2],l=r>130?"#000":"#fff";return s.remove(),x[t]=l,l}}function a(e){return c(e.getFullYear(),e.getMonth(),e.getDate())}function n(e){if(S={},e&&e.length)for(b=0;b<e.length;b++)S[a(e[b])]=e[b]}function m(){t.refresh()}var h,f,p,b,v,g,y,x={},w=r({},t.settings),C=r(t.settings,d,w),_=C.activeClass||"",T="multiple"==C.select||C.select>1||"week"==C.selectType,M=l.isNumeric(C.select)?C.select:1/0,D=!!C.events,S={};if(y=u.calbase.call(this,t),h=r({},y),p=void 0===C.firstSelectDay?C.firstDay:C.firstSelectDay,T&&C.defaultValue&&C.defaultValue.length)for(b=0;b<C.defaultValue.length;b++)S[a(C.defaultValue[b])]=C.defaultValue[b];return t.onGenMonth=function(e,s){v=t.prepareObj(C.events||C.marked,e,s)},t.getDayProps=function(e){var t,a=T?void 0!==S[e]:void 0,n=!!v[e]&&v[e],r=n&&n[0]&&n[0].text,l=n&&n[0]&&n[0].color,o=D&&r?s(l):"",c="",u="";if(n){for(t=0;t<n.length;t++)n[t].icon&&(c+='<span class="mbsc-ic mbsc-ic-'+n[t].icon+'"'+(n[t].text?"":n[t].color?' style="color:'+n[t].color+';"':"")+"></span>\n");for(u='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',t=0;t<n.length;t++)u+='<div class="mbsc-cal-day-m-c"'+(n[t].color?' style="background:'+n[t].color+';"':"")+"></div>";u+="</div></div>"}return{marked:n,selected:a,cssClass:n?"mbsc-cal-day-marked":"",ariaLabel:D?r:"",markup:D&&r?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+i("<div>"+r+"</div>").text()+'"'+(l?' style="background:'+l+";color:"+o+';text-shadow:none;"':"")+">"+c+r+"</div></div>":D&&c?'<div class="mbsc-cal-day-ic-c">'+c+"</div>":n?u:""}},t.addValue=function(e){S[a(e)]=e,m()},t.removeValue=function(e){delete S[a(e)],m()},t.setVal=function(e,s,a,i,r){T&&(n(e),e=e?e[0]:null),t._setVal(e,s,a,i,r),m()},t.getVal=function(e){return T?l.objectToArray(S):t.getDate(e)},r(y,{highlight:!T,outerMonthChange:!T,parseValue:function(e){var s,n;if(T&&e&&"string"==typeof e){for(S={},e=e.split(","),s=0;s<e.length;s++)n=o.parseDate(t.format,e[s].replace(/^\s+|\s+$/g,""),C),S[a(n)]=n;e=e[0]}return T&&C.defaultValue&&C.defaultValue.length&&(C.defaultValue=C.defaultValue[0]),h.parseValue.call(this,e)},formatValue:function(e){var s,a=[];if(T){for(s in S)a.push(o.formatDate(t.format,S[s],C));return a.join(", ")}return h.formatValue.call(this,e)},onClear:function(){T&&(S={},t.refresh())},onBeforeShow:function(){void 0!==C.setOnDayTap||C.buttons&&C.buttons.length||(C.setOnDayTap=!0),C.setOnDayTap&&"inline"!=C.display&&(C.outerMonthChange=!1),C.counter&&T&&(C.headerText=function(){var e=0,t="week"==C.selectType?7:1;return i.each(S,function(){e++}),e=Math.round(e/t),(e>1?C.selectedPluralText||C.selectedText:C.selectedText).replace(/{count}/,e)})},onMarkupReady:function(e){h.onMarkupReady.call(this,e),f=i(e.target),T&&(i(".mbsc-fr-hdr",f).attr("aria-live","off"),g=r({},S)),D&&i(".mbsc-cal",f).addClass("mbsc-cal-ev")},onDayChange:function(e){var s=e.date,n=a(s),r=i(e.target),o=e.selected;if(T)if("week"==C.selectType){var u,d,h=n.getDay()-p;for(h=h<0?7+h:h,"multiple"!=C.select&&(S={}),u=0;u<7;u++)d=c(n.getFullYear(),n.getMonth(),n.getDate()-h+u),o?delete S[d]:l.objectToArray(S).length/7<M&&(S[d]=d);m()}else{var b=i('.mbsc-cal .mbsc-cal-day[data-full="'+r.attr("data-full")+'"]',f);o?(b.removeClass("mbsc-cal-day-sel").removeAttr("aria-selected").find(".mbsc-cal-day-i").removeClass(_),delete S[n]):l.objectToArray(S).length<M&&(b.addClass("mbsc-cal-day-sel").attr("aria-selected","true").find(".mbsc-cal-day-i").addClass(_),S[n]=n)}if(C.setOnDayTap&&"multiple"!=C.select&&"inline"!=C.display)return t.needsSlide=!1,t.setDate(s),t.select(),!1},onCancel:function(){!t.live&&T&&(S=r({},g))}}),y}}(window,document),e.module("mobiscroll-calendar",[]).directive("mobiscrollCalendar",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollCalendar",{preset:"calendar"})}]),function(e){var s=t,a=s.$,n={wheelOrder:"hhiiss",useShortLabels:!1,min:0,max:1/0,labels:["Years","Months","Days","Hours","Minutes","Seconds"],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"]};s.presetShort("timespan"),s.presets.scroller.timespan=function(e){function t(e){var t={};return a(g).each(function(s,a){t[a]=C[a]?Math.floor(e/y[a].limit):0,e-=t[a]*y[a].limit}),t}function i(e){var t=!1,s=w[C[e]-1]||1,a=y[e],n=a.label,i=a.wheel;if(i.data=[],i.label=a.label,b.match(new RegExp(a.re+a.re,"i"))&&(t=!0),e==_)i.min=m[e],i.max=h[e],i.data=function(e){return{value:e,display:r(e*s,t,n)}},i.getIndex=function(e){return Math.round(e/s)};else for(c=0;c<=a.until;c+=s)i.data.push({value:c,display:r(c,t,n)})}function r(e,t,s){return(e<10&&t?"0":"")+e+'<span class="mbsc-ts-lbl">'+s+"</span>"}function l(e){var t=0;return a.each(x,function(s,a){isNaN(+e[0])||(t+=y[a.v].limit*e[s])}),t}function o(e,t){return Math.floor(e/t)*t}var c,u,d,m,h,f=a.extend({},e.settings),p=a.extend(e.settings,n,f),b=p.wheelOrder,v=p.useShortLabels?p.labelsShort:p.labels,g=["years","months","days","hours","minutes","seconds"],y={years:{ord:0,index:6,until:10,limit:31536e6,label:v[0],re:"y",wheel:{}},months:{ord:1,index:5,until:11,limit:2592e6,label:v[1],re:"m",wheel:{}},days:{ord:2,index:4,until:31,limit:864e5,label:v[2],re:"d",wheel:{}},hours:{ord:3,index:3,until:23,limit:36e5,label:v[3],re:"h",wheel:{}},minutes:{ord:4,index:2,until:59,limit:6e4,label:v[4],re:"i",wheel:{}},seconds:{ord:5,index:1,until:59,limit:1e3,label:v[5],re:"s",wheel:{}}},x=[],w=p.steps||[],C={},_="seconds",T=p.defaultValue||Math.max(p.min,Math.min(0,p.max)),M=[[]];return a(g).each(function(e,t){(u=b.search(new RegExp(y[t].re,"i")))>-1&&(x.push({o:u,v:t}),y[t].index>y[_].index&&(_=t))}),x.sort(function(e,t){return e.o>t.o?1:-1}),a.each(x,function(e,t){C[t.v]=e+1,M[0].push(y[t.v].wheel)}),m=t(p.min),h=t(p.max),a.each(x,function(e,t){i(t.v)}),e.getVal=function(t,s){return s?e._getVal(t):e._hasValue||t?l(e.getArrayVal(t)):null},{showLabel:!0,wheels:M,compClass:"mbsc-ts",parseValue:function(e){var n,i=[];return s.util.isNumeric(e)||!e?(d=t(e||T),a.each(x,function(e,t){i.push(d[t.v])})):a.each(x,function(t,s){n=new RegExp("(\\d+)\\s?("+p.labels[y[s.v].ord]+"|"+p.labelsShort[y[s.v].ord]+")","gi").exec(e),i.push(n?n[1]:0)}),a(i).each(function(e,t){i[e]=o(t,w[e]||1)}),i},formatValue:function(e){var t="";return a.each(x,function(s,a){t+=+e[s]?e[s]+" "+y[a.v].label+" ":""}),t?t.replace(/\s+$/g,""):0},validate:function(s){var n,i,r,o,c=s.values,u=s.direction,d=[],f=!0,p=!0;return a(g).each(function(s,b){if(void 0!==C[b]){if(r=C[b]-1,d[r]=[],o={},b!=_){if(f)for(i=h[b]+1;i<=y[b].until;i++)o[i]=!0;if(p)for(i=0;i<m[b];i++)o[i]=!0}c[r]=e.getValidValue(r,c[r],u,o),n=t(l(c)),f=f&&n[b]==h[b],p=p&&n[b]==m[b],a.each(o,function(e){d[r].push(e)})}}),{disabled:d}}}}}(),e.module("mobiscroll-timespan",[]).directive("mobiscrollTimespan",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollTimespan",{preset:"timespan"})}]),function(e){var s=t,a=s.$,n={autostart:!1,step:1,useShortLabels:!1,labels:["Years","Months","Days","Hours","Minutes","Seconds",""],labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs",""],startText:"Start",stopText:"Stop",resetText:"Reset",lapText:"Lap",hideText:"Hide"};s.presetShort("timer"),s.presets.scroller.timer=function(t){function s(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function i(e){var t={};if(H&&S[N].index>S.days.index){var n,i,r,l,o=new Date,c=y?o:E,u=y?E:o;for(u=s(u),c=s(c),t.years=c.getFullYear()-u.getFullYear(),t.months=c.getMonth()-u.getMonth(),t.days=c.getDate()-u.getDate(),t.hours=c.getHours()-u.getHours(),t.minutes=c.getMinutes()-u.getMinutes(),t.seconds=c.getSeconds()-u.getSeconds(),t.fract=(c.getMilliseconds()-u.getMilliseconds())/10,n=D.length;n>0;n--)i=D[n-1],r=S[i],l=D[a.inArray(i,D)-1],S[l]&&t[i]<0&&(t[l]--,t[i]+="months"==l?32-new Date(c.getFullYear(),c.getMonth(),32).getDate():r.until+1);"months"==N&&(t.months+=12*t.years,delete t.years)}else a(D).each(function(s,a){S[a].index<=S[N].index&&(t[a]=Math.floor(e/S[a].limit),e-=t[a]*S[a].limit)});return t}function r(e){var t=1,s=S[e],n=s.wheel,i=s.prefix,r=s.until,o=S[D[a.inArray(e,D)-1]];if(s.index<=S[N].index&&(!o||o.limit>L))if(k[e]||Y[0].push(n),k[e]=1,n.data=[],n.label=s.label||"",n.cssClass="mbsc-timer-whl-"+e,L>=s.limit&&(t=Math.max(Math.round(L/s.limit),1),h=t*s.limit),e==N)n.min=0,n.data=function(e){return{value:e,display:l(e,i,s.label)}},n.getIndex=function(e){return e};else for(d=0;d<=r;d+=t)n.data.push({value:d,display:l(d,i,s.label)})}function l(e,t,s){return(t||"")+(e<10?"0":"")+e+'<span class="mbsc-timer-lbl">'+s+"</span>"}function o(e){var t,s=[],n=i(e);return a(D).each(function(e,a){k[a]&&(t=Math.max(Math.round(L/S[a].limit),1),s.push(Math.round(n[a]/t)*t))}),s}function c(t){H?(v=E-new Date,v<0?(v*=-1,y=!0):y=!1,g=0,O=!0):E!==e?(O=!1,v=1e3*E,y="countdown"!=_.mode,t&&(g=0)):(v=0,y="countdown"!=_.mode,O=y,t&&(g=0))}function u(){I?(a(".mbsc-fr-w",x).addClass("mbsc-timer-running mbsc-timer-locked"),a(".mbsc-timer-btn-toggle-c > div",x).text(_.stopText),t.buttons.start.icon&&a(".mbsc-timer-btn-toggle-c > div",x).removeClass("mbsc-ic-"+t.buttons.start.icon),t.buttons.stop.icon&&a(".mbsc-timer-btn-toggle-c > div",x).addClass("mbsc-ic-"+t.buttons.stop.icon),"stopwatch"==_.mode&&(a(".mbsc-timer-btn-resetlap-c > div",x).text(_.lapText),t.buttons.reset.icon&&a(".mbsc-timer-btn-resetlap-c > div",x).removeClass("mbsc-ic-"+t.buttons.reset.icon),t.buttons.lap.icon&&a(".mbsc-timer-btn-resetlap-c > div",x).addClass("mbsc-ic-"+t.buttons.lap.icon))):(a(".mbsc-fr-w",x).removeClass("mbsc-timer-running"),a(".mbsc-timer-btn-toggle-c > div",x).text(_.startText),t.buttons.start.icon&&a(".mbsc-timer-btn-toggle-c > div",x).addClass("mbsc-ic-"+t.buttons.start.icon),t.buttons.stop.icon&&a(".mbsc-timer-btn-toggle-c > div",x).removeClass("mbsc-ic-"+t.buttons.stop.icon),"stopwatch"==_.mode&&(a(".mbsc-timer-btn-resetlap-c > div",x).text(_.resetText),t.buttons.reset.icon&&a(".mbsc-timer-btn-resetlap-c > div",x).addClass("mbsc-ic-"+t.buttons.reset.icon),t.buttons.lap.icon&&a(".mbsc-timer-btn-resetlap-c > div",x).removeClass("mbsc-ic-"+t.buttons.lap.icon)))}var d,m,h,f,p,b,v,g,y,x,w,C=a.extend({},t.settings),_=a.extend(t.settings,n,C),T=_.useShortLabels?_.labelsShort:_.labels,M=["toggle","resetlap"],D=["years","months","days","hours","minutes","seconds","fract"],S={years:{index:6,until:10,limit:31536e6,label:T[0],wheel:{}},months:{index:5,until:11,limit:2592e6,label:T[1],wheel:{}},days:{index:4,until:31,limit:864e5,label:T[2],wheel:{}},hours:{index:3,until:23,limit:36e5,label:T[3],wheel:{}},minutes:{index:2,until:59,limit:6e4,label:T[4],wheel:{}},seconds:{index:1,until:59,limit:1e3,label:T[5],wheel:{}},fract:{index:0,until:99,limit:10,label:T[6],prefix:".",wheel:{}}},k={},V=[],A=0,I=!1,$=!0,O=!1,L=Math.max(10,1e3*_.step),N=_.maxWheel,F="stopwatch"==_.mode||H,E=_.targetTime,H=E&&E.getTime!==e,Y=[[]];return t.start=function(){if($&&t.reset(),!I){if(c(),!O&&g>=v)return;I=!0,$=!1,p=new Date,f=g,_.readonly=!0,t.setVal(o(y?g:v-g),!0,!0,!1,100),m=setInterval(function(){g=new Date-p+f,t.setVal(o(y?g:v-g),!0,!0,!1,Math.min(100,h-10)),!O&&g+h>=v&&(clearInterval(m),setTimeout(function(){t.stop(),g=v,t.setVal(o(y?g:0),!0,!0,!1,100),t.trigger("onFinish",{time:v}),$=!0},v-g))},h),u(),t.trigger("onStart")}},t.stop=function(){I&&(I=!1,clearInterval(m),g=new Date-p+f,u(),t.trigger("onStop",{ellapsed:g}))},t.toggle=function(){I?t.stop():t.start()},t.reset=function(){t.stop(),g=0,V=[],A=0,t.setVal(o(y?0:v),!0,!0,!1,100),t.settings.readonly=F,$=!0,F||a(".mbsc-fr-w",x).removeClass("mbsc-timer-locked"),t.trigger("onReset")},t.lap=function(){I&&(b=new Date-p+f,w=b-A,A=b,V.push(b),t.trigger("onLap",{ellapsed:b,lap:w,laps:V}))},t.resetlap=function(){I&&"stopwatch"==_.mode?t.lap():t.reset()},t.getTime=function(){return v},t.setTime=function(e){E=e/1e3,v=e},t.getEllapsedTime=function(){return I?new Date-p+f:0},t.setEllapsedTime=function(e,s){$||(f=g=e,p=new Date,t.setVal(o(y?g:v-g),!0,s,!1,100))},c(!0),N||v||(N="minutes"),"inline"!==_.display&&M.push("hide"),N||a(D).each(function(e,t){if(!N&&v>=S[t].limit)return N=t,!1}),a(D).each(function(e,t){r(t)}),h=Math.max(87,h),_.autostart&&setTimeout(function(){t.start()},0),t.handlers.toggle=t.toggle,t.handlers.start=t.start,t.handlers.stop=t.stop,t.handlers.resetlap=t.resetlap,t.handlers.reset=t.reset,t.handlers.lap=t.lap,t.buttons.toggle={parentClass:"mbsc-timer-btn-toggle-c",text:_.startText,icon:_.startIcon,handler:"toggle"},t.buttons.start={text:_.startText,icon:_.startIcon,handler:"start"},t.buttons.stop={text:_.stopText,icon:_.stopIcon,handler:"stop"},t.buttons.reset={text:_.resetText,icon:_.resetIcon,handler:"reset"},t.buttons.lap={text:_.lapText,icon:_.lapIcon,handler:"lap"},t.buttons.resetlap={parentClass:"mbsc-timer-btn-resetlap-c",text:_.resetText,icon:_.resetIcon,handler:"resetlap"},t.buttons.hide={parentClass:"mbsc-timer-btn-hide-c",text:_.hideText,icon:_.closeIcon,handler:"cancel"},{wheels:Y,headerText:!1,readonly:F,buttons:M,mode:"countdown",compClass:"mbsc-timer",parseValue:function(){return o(y?0:v)},formatValue:function(e){var t="",s=0;return a(D).each(function(a,n){"fract"!=n&&k[n]&&(t+=e[s]+("seconds"==n&&k.fract?"."+e[s+1]:"")+" "+T[a]+" ",s++)}),t},validate:function(t){var s=t.values,n=t.index,i=0;$&&n!==e&&(E=0,a(D).each(function(e,t){k[t]&&(E+=S[t].limit*s[i],i++)}),E/=1e3,c(!0))},onBeforeShow:function(){_.showLabel=!0},onMarkupReady:function(e){x=a(e.target),u(),F&&a(".mbsc-fr-w",x).addClass("mbsc-timer-locked")},onPosition:function(e){a(".mbsc-fr-w",e.target).css("min-width",0).css("min-width",a(".mbsc-fr-btn-cont",e.target)[0].offsetWidth)},onDestroy:function(){clearInterval(m)}}}}(),function(){function s(e,t,s,a,n,i){var l=r[s[0].id];l&&(i?i.$setViewValue(l.getEllapsedTime()):e(n[t]).assign(a,l.getEllapsedTime()))}function a(e,t){var s=r[e[0].id];s&&(s.setEllapsedTime(t,!1),i(e[0]).val(s._value))}function n(e){var t=r[e[0].id];if(t)return t.getEllapsedTime()}var i=t.$,r=t.instances;e.module("mobiscroll-timer",[]).directive("mobiscrollTimer",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollTimer",{preset:"timer"},a,s,n)}])}(),function(e){var s=function(){},a=t,n=a.$;a.util.addIcon=function(e,t){var s={},a=e.parent(),i=a.find(".mbsc-err-msg"),r=e.attr("data-icon-align")||"left",l=e.attr("data-icon");n('<span class="mbsc-input-wrap"></span>').insertAfter(e).append(e),i&&a.find(".mbsc-input-wrap").append(i),l&&(l.indexOf("{")!==-1?s=JSON.parse(l):s[r]=l),(l||t)&&(n.extend(s,t),a.addClass((s.right?"mbsc-ic-right ":"")+(s.left?" mbsc-ic-left":"")).find(".mbsc-input-wrap").append(s.left?'<span class="mbsc-input-ic mbsc-left-ic mbsc-ic mbsc-ic-'+s.left+'"></span>':"").append(s.right?'<span class="mbsc-input-ic mbsc-right-ic mbsc-ic mbsc-ic-'+s.right+'"></span>':""))},a.classes.Progress=function(t,i,r){function l(){var e=o("value",v);e!==w&&c(e)}function o(t,s){var a=d.attr(t);return a===e||""===a?s:+a}function c(t,s,a,n){t=Math.min(g,Math.max(t,v)),h.css("width",100*(t-v)/(g-v)+"%"),a===e&&(a=!0),n===e&&(n=a),(t!==w||s)&&_._display(t),t!==w&&(w=t,a&&d.attr("value",w),n&&d.trigger("change"))}var u,d,m,h,f,p,b,v,g,y,x,w,C,_=this;a.classes.Base.call(this,t,i,!0),_._onInit=s,_._onDestroy=s,_._display=function(e){C=x&&y.returnAffix?x.replace(/\{value\}/,e).replace(/\{max\}/,g):e,f&&f.html(C),u&&u.html(C)},_._attachChange=function(){d.on("change",l)},_._init=function(s){var i,r,l,c;if(y=_.settings,d=n(t),c=d.parent().hasClass("mbsc-input-wrap"),m=_._$parent=c?m:d.parent(),v=_._min=s.min===e?o("min",y.min):s.min,g=_._max=s.max===e?o("max",y.max):s.max,w=o("value",v),i=d.attr("data-val")||y.val,l=d.attr("data-step-labels"),l=l?JSON.parse(l):y.stepLabels,x=d.attr("data-template")||(100!=g||y.template?y.template:"{value}%"),c?(i&&(u.remove(),m.removeClass("mbsc-progress-value-"+("right"==i?"right":"left"))),l&&n(".mbsc-progress-step-label",p).remove()):(_._wrap&&a.util.addIcon(d),m.find(".mbsc-input-wrap").append('<span class="mbsc-progress-cont"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-progress-bar"></span></span></span>'),h=_._$progress=m.find(".mbsc-progress-bar"),p=_._$track=m.find(".mbsc-progress-track")),b&&m.removeClass(b),b=_._css+" mbsc-progress-w mbsc-control-w mbsc-"+y.theme+(y.baseTheme?" mbsc-"+y.baseTheme:"")+(y.rtl?" mbsc-rtl":" mbsc-ltr"),m.addClass(b),d.addClass("mbsc-control").attr("min",v).attr("max",g),i&&(u=n('<span class="mbsc-progress-value"></span>'),m.addClass("mbsc-progress-value-"+("right"==i?"right":"left")).find(".mbsc-input-wrap").append(u)),l)for(r=0;r<l.length;++r)p.append('<span class="mbsc-progress-step-label" style="'+(y.rtl?"right":"left")+": "+100*(l[r]-v)/(g-v)+'%" >'+l[r]+"</span>");f=n(d.attr("data-target")||y.target),_._onInit(s),c||_._attachChange(),_.refresh()},_._destroy=function(){_._onDestroy(),m.find(".mbsc-progress-cont").remove(),m.removeClass(b).find(".mbsc-input-wrap").before(d).remove(),d.removeClass("mbsc-control").off("change",l)},_.refresh=function(){c(o("value",v),!0,!1)},_.getVal=function(){return w},_.setVal=function(e,t,s){c(e,!0,t,s)},r||_.init(i)},a.classes.Progress.prototype={_class:"progress",_css:"mbsc-progress",_hasTheme:!0,_hasLang:!0,_wrap:!0,_defaults:{min:0,max:100,returnAffix:!0}},a.presetShort("progress","Progress")}(),function(e){var s=function(){},a=t,n=a.$,i=a.util,r=i.getCoord,l=i.testTouch;a.classes.Slider=function(t,o,c){function u(e){!l(e,this)||O||t.disabled||(J.stopProp&&e.stopPropagation(),O=!0,z=!1,L=!1,Q=r(e,"X"),ee=r(e,"Y"),H=Q,$.removeClass("mbsc-progress-anim"),M=K?n(".mbsc-slider-handle",this):S,D&&D.removeClass("mbsc-handle-curr"),D=M.parent().addClass("mbsc-active mbsc-handle-curr"),P=+M.attr("data-index"),ae=$[0].offsetWidth,E=$[0].getBoundingClientRect().left,"mousedown"===e.type&&(e.preventDefault(),n(document).on("mousemove",d).on("mouseup",m)))}function d(e){O&&(H=r(e,"X"),Y=r(e,"Y"),N=H-Q,F=Y-ee,(Math.abs(N)>5||z)&&(z=!0,Math.abs(re-new Date)>50&&(re=new Date,x(H,J.round,B))),z?e.preventDefault():Math.abs(F)>7&&y())}function m(e){O&&(e.preventDefault(),K||$.addClass("mbsc-progress-anim"),x(H,!0,!0),z||L||(i.preventClick(),ie._onTap(ne[P])),y())}function h(){O&&y()}function f(){var e=ie._readValue(n(this)),t=+n(this).attr("data-index");e!==ne[t]&&(ne[t]=e,_(e,t))}function p(e){e.stopPropagation()}function b(e){e.preventDefault()}function v(e){var s;if(!t.disabled){switch(e.keyCode){case 38:case 39:s=1;break;case 40:case 37:s=-1}s&&(e.preventDefault(),se||(P=+n(this).attr("data-index"),_(ne[P]+G*s,P,!0),se=setInterval(function(){_(ne[P]+G*s,P,!0)},200)))}}function g(e){e.preventDefault(),clearInterval(se),se=null}function y(){O=!1,D.removeClass("mbsc-active"),n(document).off("mousemove",d).off("mouseup",m)}function x(e,t,s){var a=t?Math.min(Math.round(Math.max(100*(e-E)/ae,0)/Z/G)*G*100/(U-X),100):Math.max(0,Math.min(100*(e-E)/ae,100));j&&(a=100-a),_(Math.round((X+a/Z)*te)/te,P,s,a)}function w(e){return 100*(e-X)/(U-X)}function C(t,s){var a=T.attr(t);return a===e||""===a?s:"true"===a}function _(t,s,a,n,i,r){var l=S.eq(s),o=l.parent();t=Math.min(U,Math.max(t,X)),r===e&&(r=a),q?0===s?(t=Math.min(t,ne[1]),A.css({width:w(ne[1])-w(t)+"%",left:j?"auto":w(t)+"%",right:j?w(t)+"%":"auto"})):(t=Math.max(t,ne[0]),A.css({width:w(t)-w(ne[0])+"%"})):K||!W?o.css({left:j?"auto":(n||w(t))+"%",right:j?(n||w(t))+"%":"auto"}):A.css("width",(n||w(t))+"%"),R&&I.eq(s).html(t),t>X?o.removeClass("mbsc-slider-start"):(ne[s]>X||i)&&o.addClass("mbsc-slider-start"),K||ne[s]==t&&!i||ie._display(t),a&&ne[s]!=t&&(L=!0,ne[s]=t,ie._fillValue(t,s,r)),l.attr("aria-valuenow",t)}var T,M,D,S,k,V,A,I,$,O,L,N,F,E,H,Y,P,W,R,q,j,B,U,X,z,K,G,J,Z,Q,ee,te,se,ae,ne,ie=this,re=new Date;a.classes.Progress.call(this,t,o,!0),ie._onTap=s,ie.__onInit=s,ie._readValue=function(e){return+e.val()},ie._fillValue=function(e,t,s){T.eq(t).val(e),s&&T.eq(t).trigger("change")},ie._attachChange=function(){T.on(J.changeEvent,f)},ie._onInit=function(t){var s,a,i;if(V&&(V.removeClass("mbsc-slider-has-tooltip"),1!=G&&n(".mbsc-slider-step",$).remove()),ie.__onInit(),V=ie._$parent,$=ie._$track,A=ie._$progress,T=V.find("input"),J=ie.settings,X=ie._min,U=ie._max,G=t.step===e?+T.attr("step")||J.step:t.step,B=C("data-live",J.live),R=C("data-tooltip",J.tooltip),W=C("data-highlight",J.highlight)&&T.length<3,te=G%1!=0?100/(100*+(G%1).toFixed(2)):1,Z=100/(U-X)||100,K=T.length>1,q=W&&2==T.length,j=J.rtl,ne=[],R&&V.addClass("mbsc-slider-has-tooltip"),1!=G)for(a=(U-X)/G,s=0;s<=a;++s)$.append('<span class="mbsc-slider-step" style="'+(j?"right":"left")+":"+100/a*s+'%"></span>');S&&(i=!0,S.parent().remove()),T.each(function(e){ne[e]=ie._readValue(n(this)),n(this).attr("data-index",e),"range"==this.type&&n(this).attr("min",X).attr("max",U).attr("step",G),J.handle&&(W?A:$).append('<span class="mbsc-slider-handle-cont'+(q&&!e?" mbsc-slider-handle-left":"")+'"><span tabindex="0" class="mbsc-slider-handle" aria-valuemin="'+X+'" aria-valuemax="'+U+'" data-index="'+e+'"></span>'+(R?'<span class="mbsc-slider-tooltip"></span>':"")+"</span>")}),S=V.find(".mbsc-slider-handle"),I=V.find(".mbsc-slider-tooltip"),k=V.find(K?".mbsc-slider-handle-cont":".mbsc-progress-cont"),S.on("keydown",v).on("keyup",g).on("blur",g),k.on("touchstart mousedown",u).on("touchmove",d).on("touchend touchcancel",m).on("pointercancel",h),i||(T.on("click",p),V.on("click",b))},ie._onDestroy=function(){V.off("click",b),T.off(J.changeEvent,f).off("click",p),S.off("keydown",v).off("keyup",g).off("blur",g),k.off("touchstart mousedown",u).off("touchmove",d).off("touchend",m).off("touchcancel pointercancel",h)},ie.refresh=function(){T.each(function(e){_(ie._readValue(n(this)),e,!0,!1,!0,!1)})},ie.getVal=function(){return K?ne.slice(0):ne[0]},ie.setVal=ie._setVal=function(e,t,s){n.isArray(e)||(e=[e]),n.each(e,function(e,t){_(t,e,!0,!1,!0,s)})},c||ie.init(o)},a.classes.Slider.prototype={_class:"progress",_css:"mbsc-progress mbsc-slider",_hasTheme:!0,_hasLang:!0,_wrap:!0,_defaults:{changeEvent:"change",stopProp:!0,min:0,max:100,step:1,live:!0,highlight:!0,handle:!0,round:!0,returnAffix:!0}},a.presetShort("slider","Slider")}(),function(e){function s(e){var t=[Math.round(e.r).toString(16),Math.round(e.g).toString(16),Math.round(e.b).toString(16)];return h.each(t,function(e,s){1==s.length&&(t[e]="0"+s)}),"#"+t.join("")}function a(e){return e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16),{r:e>>16,g:(65280&e)>>8,b:255&e,toString:function(){
return"rgb("+this.r+","+this.g+","+this.b+")"}}}function n(e){var t,s,a,n=e.h,i=255*e.s/100,r=255*e.v/100;if(0===i)t=s=a=r;else{var l=r,o=(255-i)*r/255,c=n%60*(l-o)/60;360==n&&(n=0),n<60?(t=l,a=o,s=o+c):n<120?(s=l,a=o,t=l-c):n<180?(s=l,t=o,a=o+c):n<240?(a=l,t=o,s=l-c):n<300?(a=l,s=o,t=o+c):n<360?(t=l,s=o,a=l-c):t=s=a=0}return{r:t,g:s,b:a,toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function i(e){var t,s,a=0,n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),r=i-n;return s=i,t=i?255*r/i:0,a=t?e.r==i?(e.g-e.b)/r:e.g==i?2+(e.b-e.r)/r:4+(e.r-e.g)/r:-1,a*=60,a<0&&(a+=360),t*=100/255,s*=100/255,{h:a,s:t,v:s,toString:function(){return"hsv("+Math.round(this.h)+","+Math.round(this.s)+"%,"+Math.round(this.v)+"%)"}}}function r(e){var t,s,a=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(a,n,i),l=Math.min(a,n,i),o=(r+l)/2;if(r==l)t=s=0;else{var c=r-l;switch(s=o>.5?c/(2-r-l):c/(r+l),r){case a:t=(n-i)/c+(n<i?6:0);break;case n:t=(i-a)/c+2;break;case i:t=(a-n)/c+4}t/=6}return{h:Math.round(360*t),s:Math.round(100*s),l:Math.round(100*o),toString:function(){return"hsl("+this.h+","+this.s+"%,"+this.l+"%)"}}}function l(e){var t,s,a,n,i,r,l=e.h,o=e.s,c=e.l;return isFinite(l)||(l=0),isFinite(o)||(o=0),isFinite(c)||(c=0),l/=60,l<0&&(l=6- -l%6),l%=6,o=Math.max(0,Math.min(1,o/100)),c=Math.max(0,Math.min(1,c/100)),i=(1-Math.abs(2*c-1))*o,r=i*(1-Math.abs(l%2-1)),l<1?(t=i,s=r,a=0):l<2?(t=r,s=i,a=0):l<3?(t=0,s=i,a=r):l<4?(t=0,s=r,a=i):l<5?(t=r,s=0,a=i):(t=i,s=0,a=r),n=c-i/2,{r:Math.round(255*(t+n)),g:Math.round(255*(s+n)),b:Math.round(255*(a+n)),toString:function(){return"rgb("+this.r+","+this.g+","+this.b+")"}}}function o(e){return r(a(e))}function c(e){return s(l(e))}function u(e){return s(n(e))}function d(e){return i(a(e))}var m=t,h=m.$,f=m.util,p=function(){},b=m.classes;b.Color=function(t,n,i){function r(e,t,s,a,n){if(!n){te._value=te._hasValue?te._tempValue.slice(0):null;for(var i=0;i<A.length;++i)A[i].tempChangedColor&&te._value&&te._value.indexOf(A[i].tempChangedColor)!=-1&&(A[i].changedColor=A[i].tempChangedColor),delete A[i].tempChangedColor}e&&(te._isInput&&se.val(te._hasValue?te._tempValue:""),$("onFill",{valueText:te._hasValue?te._tempValue:"",change:t}),t&&(ne=h.extend(!0,{},ie),te._preventChange=!0,se.trigger("change"),C(te._value)))}function l(t,s){return s=s!==e?s:p(t),'<div class="mbsc-color-input-item" data-color="'+(s!==e?s:t)+'" style="background: '+t+';">'+(X?"":'<div class="mbsc-color-input-item-close mbsc-ic mbsc-ic-material-close"></div>')+"</div>"}function m(e){W[0].style.background=e?f.prefix+"linear-gradient(left, "+(k.rtl?"#000000":"#FFFFFF")+" 0%, "+e+" 50%, "+(k.rtl?"#FFFFFF":"#000000")+" 100%)":""}function p(e){if(Object.keys(ie).length&&!isNaN(e))return e;for(var t in A)if(e==A[t].color||e==A[t].changedColor)return t}function v(){if(U){var t,s="";if(G.empty(),te._value){if(X)s+=l(te._value,B);else for(t=0;t<te._value.length;++t)s+=l(te._value[t],Object.keys(ie).length&&ie[t].colorIndex?ie[t].colorIndex:p(te._value[t]));G.append(s),te.tap(h(".mbsc-color-input-item",G),function(t){if(h(t.target).hasClass("mbsc-color-input-item-close")){var s=h(this).index();t.stopPropagation(),t.preventDefault(),B===e&&(B=h(t.target).parent().attr("data-color")),P&&(ae=A[B].previewInd,Z.eq(ae).parent().removeClass("mbsc-color-active"),ne[s]={},ie[s]={}),te._value.splice(s,1),te.setVal(te._value,!0,!0)}else R&&"inline"!==k.display&&(H=!0,B=h(t.target).attr("data-color"),isNaN(B)&&(B=p(B)),B&&(A[B].selected=!0,ae=A[B].previewInd,setTimeout(function(){O.scroll(J.eq(B),400),P&&L.scroll(Z.eq(ae),400)},200)))})}}}function g(e,t){var a,n=e.match(/\d+/gim);switch(!0){case e.indexOf("rgb")>-1:a=s({r:n[0],g:n[1],b:n[2]});break;case e.indexOf("hsl")>-1:a=c({h:n[0],s:n[1],l:n[2]});break;case e.indexOf("hsv")>-1:a=u({h:n[0],s:n[1],v:n[2]});break;case e.indexOf("#")>-1:a=e}return y(a,t||k.format)}function y(e,t){switch(t){case"rgb":return a(e);case"hsl":return o(e);case"hsv":return d(e);default:return e}}function x(){var t;for(t=0;t<k.select;++t)if(ie[t].colorIndex===e)return t}function w(t,s){h(".mbsc-color-active",s).removeClass("mbsc-color-active"),R&&(t.parent().addClass("mbsc-color-active"),P&&t&&ae!==e&&Z.eq(ae).parent().addClass("mbsc-color-active"))}function C(t,s){var a,n,i=[],r=0,l=h.map(A,function(e){return e.changedColor||e.color});if(X){if(t=h.isArray(t)?t[0]:t,n=l.indexOf(t),n>-1&&i.push(n),t&&!i.length){var o=+h(".mbsc-color-input-item",G).attr("data-color");isNaN(o)||i.push(o),B=o}}else if(t)if(P&&R)for(var c in ne)ne[c].colorIndex!==e&&i.push(+ne[c].colorIndex);else for(a=0;a<t.length;++a)(n=l.indexOf(t[a]))>-1&&(i.push(n),l[n]="temp"+a);for(a=0;a<i.length;++a)_(!0,i[a],r++,A[i[a]].changedColor||A[i[a]].color,!0);for(a=0;a<A.length;++a)i.indexOf(a)==-1&&_(!1,a,e,A[a].changedColor||A[a].color,!1);if(P)for(a=r;a<k.select;++a)ie[a]={},Z&&Z.eq(a).addClass("mbsc-color-preview-item-empty").css({background:"transparent"});ne=h.extend(!0,{},ie),s!==!1&&v()}function _(t,s,a,n,i,r){if(P&&i&&(ie[a].colorIndex=t?s:e,ie[a].color=t?n:e,Z)){var l=Z.eq(a);l.removeClass("mbsc-color-preview-item-empty").css({background:t?n:"transparent"}),t||l.addClass("mbsc-color-preview-item-empty").parent().removeClass("mbsc-color-active")}r&&(t?te._tempValue.splice(a,0,n):te._tempValue.splice(te._tempValue.indexOf(n),1)),J&&(t?J.eq(s).addClass("mbsc-color-selected"):J.eq(s).removeClass("mbsc-color-selected").parent().removeClass("mbsc-color-active")),A[s].previewInd=t?a:e,A[s].selected=t}function T(t,s){t!==e&&(X||A[t].selected)?(B=t,F=A[t].changedColor||A[t].color,Q=J.eq(t),R&&(w(J.eq(t),s||""),E=g(A[t].color,"hsl"),E.l=g(F,"hsl").l,m(A[t].color),j.setVal(100-E.l,!1,!1))):R&&m()}function M(){var e,t=[];for(e=0;e<A.length;++e)A[e].selected&&t.push(A[e]);return t}function D(e,t){var s=h(e.target).index();B=ie[s].colorIndex,Q=J.eq(B),ae=s,T(B,t),O.scroll(Q,250),$("onPreviewItemTap",{target:e.target,value:ie[s].color,index:s})}function S(t,s){var a=!1,n=h(".mbsc-color-selected",s);if(Q=h(t.target),Q.hasClass("mbsc-color-clear-item"))return F="",void te.clear();(X||z>+n.length||Q.hasClass("mbsc-color-selected"))&&(B=Q.attr("data-index"),P&&(ae=A[B].previewInd!==e?A[B].previewInd:x(),a=R&&Q.hasClass("mbsc-color-selected")&&!Q.parent().hasClass("mbsc-color-active"),Z.length>6&&L.scroll(Z.eq(ae))),F=A[B].changedColor||A[B].color,X?(n.removeClass("mbsc-color-selected"),te._tempValue=F,F&&Q.toggleClass("mbsc-color-selected"),w(Q,s)):(w(Q,s),a||_(!A[B].selected,B,ae,F,!0,!0)),T(B,s),te.live&&(te._fillValue(),$("onSet",{value:te._value})),$("onItemTap",{target:t.target,value:F,selected:A[B].selected,index:B}))}var k,V,A,I,$,O,L,N,F,E,H,Y,P,W,R,q,j,B,U,X,z,K,G,J,Z,Q,ee,te=this,se=h(t),ae=0,ne={},ie={};b.Frame.call(this,t,n,!0),te.setVal=te._setVal=function(t,s,a,n){te._hasValue=null!==t&&t!==e,te._tempValue=h.isArray(t)?t:[t],r(s,!0,a===e?s:a,n)},te.getVal=te._getVal=function(e){return te._hasValue||e?K?M():te[e?"_tempValue":"_value"]:null},te._readValue=function(){var e=se.val()||"";te._hasValue=!1,0!==e.length&&""!==e&&(te._hasValue=!0),te._hasValue?(te._tempValue=X?e:"hex"==k.format?e.split(","):e.match(/[a-z]{3}\((\d+\.?\d{0,}?),\s*([\d.]+)%{0,},\s*([\d.]+)%{0,}\)/gim),r(!0)):te._tempValue=[],C(te._tempValue,te._hasValue)},te._fillValue=function(){te._hasValue=!0,r(!0,!0,0,!0)},te._generateContent=function(){var e,t,s,a=N?1:0;for(q=Y?Math.ceil((A.length+a)/k.rows):k.rows,t='<div class="mbsc-color-scroll-cont mbsc-w-p '+(Y?"":"mbsc-color-vertical")+'"><div class="mbsc-color-cont">'+(Y?'<div class="mbsc-color-row">':""),e=0;e<A.length;++e)s=A[e].changedColor||A[e].color,N&&0===e&&(t+='<div class="mbsc-color-item-c"><div tabindex="0" class="mbsc-color-clear-item mbsc-btn-e mbsc-color-selected"><div class="mbsc-color-clear-cross"></div></div></div>'),0!==e&&(e+a)%q==0&&(t+=Y?'</div><div class="mbsc-color-row">':""),t+='<div class="mbsc-color-item-c"><div tabindex="0" data-index="'+e+'" class="mbsc-color-item mbsc-btn-e mbsc-ic mbsc-ic-material-check mbsc-color-btn-e '+(A[e].selected?"mbsc-color-selected":"")+'"  style="background:'+s+'"></div></div>';if(t+="</div></div>"+(Y?"</div>":""),R&&(t+='<div class="mbsc-color-slider-cont"><input class="mbsc-color-slider" type="range" data-highlight="false" value="50" min="0" max="100"/></div>'),P){t+='<div class="mbsc-color-preview-cont"><div class="mbsc-color-refine-preview">';for(var n in ne)t+='<div class="mbsc-color-preview-item-c mbsc-btn-e mbsc-color-btn-e" tabindex="0"><div class="mbsc-color-preview-item '+(ne[n].color?"":"mbsc-color-preview-item-empty")+'" style="background: '+(ne[n].color||"initial")+';"></div></div>';t+="</div></div>"}return t},te._position=function(e){var t,s;Y||(t=e.find(".mbsc-color-cont"),s=Math.ceil(t.find(".mbsc-color-item-c")[0].offsetWidth),t.width(Math.min(Math.floor(e.find(".mbsc-fr-c").width()/s),Math.round(A.length/k.rows))*s+1)),O&&O.refresh(),L&&L.refresh()},te._markupInserted=function(e){Y||e.find(".mbsc-color-scroll-cont").css("max-height",e.find(".mbsc-color-item-c")[0].offsetHeight*k.rows),O=new b.ScrollView(e.find(".mbsc-color-scroll-cont")[0],{axis:Y?"X":"Y",rtl:k.rtl,elastic:60,stopProp:!1,mousewheel:k.mousewheel,onBtnTap:function(t){S(t,e)}})},te._attachEvents=function(t){var s;J=h(".mbsc-color-item",t),t.on("keydown",".mbsc-color-btn-e",function(e){e.stopPropagation(),32==e.keyCode&&(e.target.classList.contains("mbsc-color-item")?S(e,t):D(e,t))}),P&&(Z=h(".mbsc-color-preview-item",t)),R&&(t.addClass("mbsc-color-refine"),ee=h(".mbsc-color-slider",t),j=new b.Slider(ee[0],{theme:k.theme,rtl:k.rtl}),W=t.find(".mbsc-progress-track"),B&&te._value&&T(B,t),ee.on("change",function(){B!==e&&(X||A[B].selected)&&(E.l=100-this.value,s=g(E.toString()).toString(),X?te._tempValue=s:te._tempValue[ae!==e?ae:te._tempValue.length]=s,A[B].tempChangedColor=s,J.eq(B).css("background",s),P&&(ie[ae].color=s,Z.eq(ae).removeClass("mbsc-color-preview-item-empty").css({background:s})),te.live&&f.throttle(te._fillValue()))})),P&&(L=new b.ScrollView(t.find(".mbsc-color-preview-cont")[0],{axis:"X",rtl:k.rtl,mousewheel:k.mousewheel,onBtnTap:function(e){D(e,t)}}))},te._detachEvents=function(){O.destroy(),j&&j.destroy(),L&&L.destroy()},te.__processSettings=function(){var s,a;if(k=te.settings,I=k.format,$=te.trigger,Y="horizontal"==k.navigation,te._value=[],te._tempValue=[],X="single"==k.select,N=k.clear!==e?k.clear:X,a=k.data||[],!a.length)switch(k.format){case"rgb":a=["rgb(255,235,60)","rgb(255,153,0)","rgb(244,68,55)","rgb(234,30,99)","rgb(156,38,176)","rgb(104,58,183)","rgb(63,81,181)","rgb(33,150,243)","rgb(0,151,136)","rgb(75,175,79)","rgb(126,93,78)","rgb(158,158,158)"],N&&a.splice(10,0,"rgb(83, 71, 65)");break;case"hsl":a=["hsl(54,100%,62%)","hsl(36,100%,50%)","hsl(4,90%,59%)","hsl(340,83%,52%)","hsl(291,64%,42%)","hsl(262,52%,47%)","hsl(231,48%,48%)","hsl(207,90%,54%)","hsl(174,100%,30%)","hsl(122,40%,49%)","hsl(19,24%,40%)","hsl(0,0%,62%)"],N&&a.splice(10,0,"hsl(20, 12%, 29%)");break;default:a=["#ffeb3c","#ff9900","#f44437","#ea1e63","#9c26b0","#683ab7","#3f51b5","#2196f3","#009788","#4baf4f","#7e5d4e","#9e9e9e"],N&&a.splice(10,0,"#534741")}if(R="refine"==k.mode,P=!isNaN(k.select),z=isNaN(k.select)?X?2:a.length:k.select,K=h.isPlainObject(a[0]),P&&!Object.keys(ne).length)for(s=0;s<k.select;++s)ne[s]={},ie[s]={};if(!A)for(A=a.slice(0),s=0;s<A.length;++s)h.isPlainObject(a[s])?A[s].color=a[s].color:(a[s]=a[s].toLowerCase(),A[s]={key:s,name:a[s],color:a[s]});V=k.defaultValue||A[0].color,F=V,E=g(F,"hsl"),(U=k.enhance&&se.is("input"))&&(se.hasClass("mbsc-color-input-hdn")?G=se.prev():(G=h("<div "+(t.placeholder?'data-placeholder="'+t.placeholder+'"':"")+' class="mbsc-control mbsc-color-input mbsc-control-ev '+(k.inputClass||"")+'" readonly ></div>'),G.insertBefore(se),se.addClass("mbsc-color-input-hdn").attr("tabindex",-1)),k.anchor=G,te.attachShow(G))},te.__init=function(){k.cssClass=(k.cssClass||"")+" mbsc-color"},te.__destroy=function(){U&&(se.removeClass("mbsc-color-input-hdn"),G.remove())},i||te.init(n)},b.Color.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"color",_defaults:h.extend({},b.Frame.prototype._defaults,{headerText:!1,validate:p,parseValue:p,enhance:!0,rows:2,select:"single",format:"hex",navigation:"horizontal"})},m.themes.color=m.themes.frame,m.presetShort("color","Color",!1),f.color={hsv2hex:u,hsv2rgb:n,rgb2hsv:i,rgb2hex:s,rgb2hsl:r,hex2rgb:a,hex2hsv:d,hex2hsl:o}}(),e.module("mobiscroll-color",[]).directive("mobiscrollColor",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollColor",{component:"Color"})}]),function(e){var s=t,a=s.$,n=s.presets.scroller,i=s.util.datetime,r=s.util,l=r.testTouch,o={autoCorrect:!0,showSelector:!0,minRange:1,rangeTap:!0,fromText:"Start",toText:"End"};s.presetShort("range"),n.range=function(e){function t(e,t){e&&(e.setFullYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()))}function s(t){e._startDate=I=_,e._endDate=$=M,F.startInput&&(a(F.startInput).val(w),t&&a(F.startInput).trigger("change")),F.endInput&&(a(F.endInput).val(C),t&&a(F.endInput).trigger("change"))}function r(e,t){var s=!0;return e&&_&&M&&(M-_>F.maxRange-1&&(O?_=new Date(M-F.maxRange+1):M=new Date(+_+F.maxRange-1)),M-_<F.minRange-1&&(O?_=new Date(M-F.minRange+1):M=new Date(+_+F.minRange-1))),_&&M||(s=!1),t&&m(),s}function c(){return _&&M?Math.max(1,Math.round((new Date(M).setHours(0,0,0,0)-new Date(_).setHours(0,0,0,0))/864e5)+1):0}function u(e){e.addClass("mbsc-range-btn-sel").attr("aria-checked","true").find(".mbsc-range-btn").addClass(Y)}function d(){A&&p&&(a(".mbsc-range-btn-c",p).removeClass("mbsc-range-btn-sel").removeAttr("aria-checked").find(".mbsc-range-btn",p).removeClass(Y),u(a(".mbsc-range-btn-c",p).eq(O)))}function m(){var e,t,s,n,r,l=0,o=H||!O?" mbsc-cal-day-hl mbsc-cal-sel-start":" mbsc-cal-sel-start",c=H||O?" mbsc-cal-day-hl mbsc-cal-sel-end":" mbsc-cal-sel-end";if(w=_?i.formatDate(v,_,F):"",C=M?i.formatDate(v,M,F):"",p&&(a(".mbsc-range-btn-v-start",p).html(w||"&nbsp;"),a(".mbsc-range-btn-v-end",p).html(C||"&nbsp;"),e=_?new Date(_):null,s=M?new Date(M):null,!e&&s&&(e=new Date(s)),!s&&e&&(s=new Date(e)),r=O?s:e,a(".mbsc-cal-table .mbsc-cal-day-sel .mbsc-cal-day-i",p).removeClass(Y),a(".mbsc-cal-table .mbsc-cal-day-hl",p).removeClass(W),a(".mbsc-cal-table .mbsc-cal-day-sel",p).removeClass("mbsc-cal-day-sel mbsc-cal-sel-start mbsc-cal-sel-end").removeAttr("aria-selected"),e&&s))for(t=e.setHours(0,0,0,0),n=s.setHours(0,0,0,0);s>=e&&l<84;)a('.mbsc-cal-day[data-full="'+r.getFullYear()+"-"+r.getMonth()+"-"+r.getDate()+'"]',p).addClass("mbsc-cal-day-sel"+(r.getTime()===t?o:"")+(r.getTime()===n?c:"")).attr("aria-selected","true").find(".mbsc-cal-day-i ").addClass(Y),r.setDate(r.getDate()+(O?-1:1)),l++}function h(e,t){return{h:e?e.getHours():t?23:0,i:e?e.getMinutes():t?59:0,s:e?e.getSeconds():t?59:0}}var f,p,b,v,g,y,x,w,C,_,T,M,D,S,k,V,A,I=e._startDate,$=e._endDate,O=0,L=new Date,N=a.extend({},e.settings),F=a.extend(e.settings,o,N),E=F.anchor,H=F.rangeTap,Y=F.activeClass||"",P="mbsc-fr-btn-d "+(F.disabledClass||""),W="mbsc-cal-day-hl",R=null===F.defaultValue?[]:F.defaultValue||[new Date(L.setHours(0,0,0,0)),new Date(L.getFullYear(),L.getMonth(),L.getDate()+6,23,59,59,999)];return H&&(F.tabs=!0),g=n.calbase.call(this,e),f=a.extend({},g),v=e.format,S="time"===F.controls.join(""),A=1!=F.controls.length||"calendar"!=F.controls[0]||F.showSelector,F.startInput&&(k=a(F.startInput).prop("readonly"),e.attachShow(a(F.startInput).prop("readonly",!0),function(){O=0,F.anchor=E||a(F.startInput)})),F.endInput&&(V=a(F.endInput).prop("readonly"),e.attachShow(a(F.endInput).prop("readonly",!0),function(){O=1,F.anchor=E||a(F.endInput)})),e.setVal=function(t,s,a,n,r){var l=t||[],o=t;(void 0===l[0]||null===l[0]||l[0].getTime)&&(x=!0,_=l[0]||null,w=_?i.formatDate(v,_,F):"",O||(o=f.parseValue(w,e))),(void 0===l[1]||null===l[1]||l[1].getTime)&&(x=!0,M=l[1]||null,C=M?i.formatDate(v,M,F):"",O&&(o=f.parseValue(C,e))),n||(e._startDate=I=_,e._endDate=$=M),e._setVal(o,s,a,n,r)},e.getVal=function(t){return t?[_,M]:e._hasValue?[I,$]:null},e.getDayProps=function(e){var t=_?new Date(_.getFullYear(),_.getMonth(),_.getDate()):null,s=M?new Date(M.getFullYear(),M.getMonth(),M.getDate()):null;return{selected:t&&s&&e>=t&&e<=M,cssClass:((H||!O)&&t&&t.getTime()===e.getTime()||(H||O)&&s&&s.getTime()===e.getTime()?W:"")+(t&&t.getTime()===e.getTime()?" mbsc-cal-sel-start":"")+(s&&s.getTime()===e.getTime()?" mbsc-cal-sel-end":"")}},e.setActiveDate=function(t){var s;O="start"==t?0:1,s="start"==t?_:M,e.isVisible()&&(d(),H||(a(".mbsc-cal-table .mbsc-cal-day-hl",p).removeClass(W),s&&a('.mbsc-cal-day[data-full="'+s.getFullYear()+"-"+s.getMonth()+"-"+s.getDate()+'"]',p).addClass(W)),s&&(y=!0,e.setDate(s,!1,1e3,!0)))},e.getValue=e.getVal,a.extend(g,{highlight:!1,outerMonthChange:!1,formatValue:function(){return w+(F.endInput?"":C?" - "+C:"")},parseValue:function(t){var s=t?t.split(" - "):[];return F.defaultValue=R[1],$=F.endInput?a(F.endInput).val()?i.parseDate(v,a(F.endInput).val(),F):R[1]:s[1]?i.parseDate(v,s[1],F):R[1],F.defaultValue=R[0],I=F.startInput?a(F.startInput).val()?i.parseDate(v,a(F.startInput).val(),F):R[0]:s[0]?i.parseDate(v,s[0],F):R[0],F.defaultValue=R[O],w=I?i.formatDate(v,I,F):"",C=$?i.formatDate(v,$,F):"",e._startDate=I,e._endDate=$,f.parseValue(O?C:w,e)},onFill:function(e){s(e.change)},onBeforeClose:function(t){if("set"===t.button&&!r(!0,!0))return e.setActiveDate(O?"start":"end"),!1},onHide:function(){f.onHide.call(e),O=0,p=null,F.anchor=E},onClear:function(){H&&(O=0)},onBeforeShow:function(){F.headerText=!1,_=I,M=$,T=h(_,0),D=h(M,1),F.counter&&(F.headerText=function(){var e=c();return(e>1?F.selectedPluralText||F.selectedText:F.selectedText).replace(/{count}/,e)}),x=!0},onMarkupReady:function(t){var s;_&&(y=!0,e.setDate(_,!1,0,!0),_=e.getDate(!0)),M&&(y=!0,e.setDate(M,!1,0,!0),M=e.getDate(!0)),(O&&M||!O&&_)&&(y=!0,e.setDate(O?M:_,!1,0,!0)),m(),f.onMarkupReady.call(this,t),p=a(t.target),p.addClass("mbsc-range"),A&&(s='<div class="mbsc-range-btn-t" role="radiogroup"><div class="mbsc-range-btn-c mbsc-range-btn-start"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+F.fromText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-start">'+(w||"&nbsp;")+'</div></div></div><div class="mbsc-range-btn-c mbsc-range-btn-end"><div role="radio" class="mbsc-fr-btn-e mbsc-fr-btn-nhl mbsc-range-btn">'+F.toText+'<div class="mbsc-range-btn-v mbsc-range-btn-v-end">'+(C||"&nbsp;")+"</div></div></div></div>",a(".mbsc-cal-tabs",p).before(s),d()),a(".mbsc-range-btn-c",p).on("touchstart click",function(t){l(t,this)&&(e.showMonthView(),e.setActiveDate(a(this).index()?"end":"start"))})},onDayChange:function(e){e.active=O?"end":"start",b=!0},onSetDate:function(s){var n=s.date,i=e.order;y||(void 0===i.h&&n.setHours(O?23:0),void 0===i.i&&n.setMinutes(O?59:0),void 0===i.s&&n.setSeconds(O?59:0),n.setMilliseconds(O?999:0),x&&!b||(H&&b&&(1==O&&n<_&&(O=0),O?n.setHours(D.h,D.i,D.s,999):n.setHours(T.h,T.i,T.s,0)),O?(M=new Date(n),D=h(M)):(_=new Date(n),T=h(_)),S&&(t(_,n),t(M,n)),H&&b&&!O&&(M=null))),e._isValid=r(x||b||F.autoCorrect,!y),s.active=O?"end":"start",!y&&H&&(b&&(O=O?0:1),d()),e.isVisible()&&(e._isValid?a(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).removeClass(P):a(".mbsc-fr-btn-s .mbsc-fr-btn",e._markup).addClass(P)),b=!1,x=!1,y=!1},onTabChange:function(t){"calendar"!=t.tab&&e.setDate(O?M:_,!1,1e3,!0),r(!0,!0)},onDestroy:function(){a(F.startInput).prop("readonly",k),a(F.endInput).prop("readonly",V)}}),g}}(),e.module("mobiscroll-range",[]).directive("mobiscrollRange",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollRange",{preset:"range"})}]),e.module("mobiscroll-scroller",[]).directive("mobiscrollScroller",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollScroller",{})}]),function(e,s,a){var n,i=t,r=i.$,l=r.extend,o=i.classes,c=i.util,u=c.prefix,d=c.jsPrefix,m=c.getCoord,h=c.testTouch,f=c.vibrate,p=c.animEnd,b=1,v=function(){},g=e.requestAnimationFrame||function(e){e()},y=e.cancelAnimationFrame||v,x="transparent";o.ListView=function(t,i){function w(){Ct=!1,ft=!1,de=0,It=0,$t=new Date,et=ve.width(),xe=K(ve),at=xe.index(tt),st=tt[0].offsetHeight,ts=tt[0].offsetTop,Rt=qt[tt.attr("data-type")||"defaults"],At=Rt.stages}function C(e){var t;"touchstart"===e.type&&(pt=!0,clearTimeout(bt)),!h(e,this)||oe||Qt||n||is||(oe=!0,me=!0,Ot=m(e,"X"),Lt=m(e,"Y"),De=0,Se=0,tt=r(this),t=tt,w(),Yt=Mt.onItemTap||Rt.tap||tt.hasClass("mbsc-lv-parent")||tt.hasClass("mbsc-lv-back"),it=Zt.offset().top,nt=tt.offset().top,Yt&&(ue=setTimeout(function(){t.addClass("mbsc-lv-item-active"),Ne("onItemActivate",{target:t[0],domEvent:e})},120)),Gt.sortable&&!tt.hasClass("mbsc-lv-back")&&(Gt.sortable.group||(mt=tt.nextUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item"),vt=tt.prevUntil(".mbsc-lv-gr-title").filter(".mbsc-lv-item")),lt=(Gt.sortable.group?ve.children("li").eq(0):vt.length?vt.eq(-1):tt)[0].offsetTop-ts,rt=(Gt.sortable.group?ve.children("li").eq(-1):mt.length?mt.eq(-1):tt)[0].offsetTop-ts,Gt.sortable.handle?r(e.target).hasClass("mbsc-lv-handle")&&(clearTimeout(ue),"Moz"===d?(e.preventDefault(),k()):Wt=setTimeout(function(){k()},100)):Wt=setTimeout(function(){Fe.appendTo(tt),Fe[0].style[d+"Animation"]="mbsc-lv-fill "+(Mt.sortDelay-100)+"ms linear",clearTimeout($e),clearTimeout(ue),me=!1,Wt=setTimeout(function(){Fe[0].style[d+"Animation"]="",k()},Mt.sortDelay-80)},80)),"mousedown"==e.type&&r(s).on("mousemove",_).on("mouseup",T))}function _(e){var t=!1,s=!0;if(oe)if(Oe=m(e,"X"),Le=m(e,"Y"),De=Oe-Ot,Se=Le-Lt,clearTimeout($e),Ae||Ft||Dt||tt.hasClass("mbsc-lv-back")||(Math.abs(Se)>10?(Dt=!0,T(l({},e,{type:"mousemove"==e.type?"mouseup":"touchend"})),clearTimeout(ue)):Math.abs(De)>7&&M()),Ft)e.preventDefault(),de=De/et*100,D();else if(Ae){e.preventDefault();var a,n=Ut.scrollTop(),i=Math.max(lt,Math.min(Se+zt,rt)),r=We?nt-Kt+n-zt:nt;Xt+n<r+i+st?(Ut.scrollTop(r+i-Xt+st),a=!0):r+i<n&&(Ut.scrollTop(r+i),a=!0),a&&(zt+=Ut.scrollTop()-n),ut&&(Gt.sortable.multiLevel&&ct.hasClass("mbsc-lv-parent")?ts+st/4+i>ut?t=!0:ts+st-st/4+i>ut&&(ke=ct.addClass("mbsc-lv-item-hl"),s=!1):ts+st/2+i>ut&&(ct.hasClass("mbsc-lv-back")?Gt.sortable.multiLevel&&(Ve=ct.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(gt.insertAfter(ct),yt=ct,ct=Z(ct,"next"),xt=ut,ut=ct.length&&ct[0].offsetTop,be++)),!t&&xt&&(Gt.sortable.multiLevel&&yt.hasClass("mbsc-lv-parent")?ts+st-st/4+i<xt?t=!0:ts+st/4+i<xt&&(ke=yt.addClass("mbsc-lv-item-hl"),s=!1):ts+st/2+i<xt&&(yt.hasClass("mbsc-lv-back")?Gt.sortable.multiLevel&&(Ve=yt.addClass("mbsc-lv-item-hl"),s=!1):t=!0),t&&(gt.insertBefore(yt),ct=yt,yt=Z(yt,"prev"),ut=xt,xt=yt.length&&yt[0].offsetTop+yt[0].offsetHeight,be--)),s&&(ke&&(ke.removeClass("mbsc-lv-item-hl"),ke=!1),Ve&&(Ve.removeClass("mbsc-lv-item-hl"),Ve=!1)),t&&Ne("onSortChange",[tt,be]),P(tt,i),Ne("onSort",[tt,be])}else(Math.abs(De)>5||Math.abs(Se)>5)&&W()}function T(e){var t,a,n,i=tt;oe&&(oe=!1,W(),"mouseup"==e.type&&r(s).off("mousemove",_).off("mouseup",T),Dt||(bt=setTimeout(function(){pt=!1},300)),(Ft||Dt||Ae)&&(ft=!0),Ft?S():Ae?(n=ve,ke?(B(tt.detach()),a=ns[ke.attr("data-ref")],be=K(a.child).length,ke.removeClass("mbsc-lv-item-hl"),Mt.navigateOnDrop?ne(ke,function(){Gt.add(null,tt,null,null,ke,!0),se(tt),V(tt,at,n,!0)}):(Gt.add(null,tt,null,null,ke,!0),V(tt,at,n,!0))):Ve?(B(tt.detach()),a=ns[Ve.attr("data-back")],be=K(a.parent).index(a.item)+1,Ve.removeClass("mbsc-lv-item-hl"),Mt.navigateOnDrop?ne(Ve,function(){Gt.add(null,tt,be,null,ve,!0),se(tt),V(tt,at,n,!0)}):(Gt.add(null,tt,be,null,a.parent,!0),V(tt,at,n,!0))):(t=gt[0].offsetTop-ts,P(tt,t,6*Math.abs(t-Math.max(lt,Math.min(Se+zt,rt))),function(){B(tt),tt.insertBefore(gt),V(tt,at,n,be!==at)})),Ae=!1):!Dt&&Math.abs(De)<5&&Math.abs(Se)<5&&(Rt.tap&&Rt.tap.call(Jt,{target:tt,index:at,domEvent:e},Gt),Yt&&("touchend"===e.type&&c.preventClick(),tt.addClass("mbsc-lv-item-active"),Ne("onItemActivate",{target:tt[0],domEvent:e})),Ne("onItemTap",{target:tt[0],index:at,domEvent:e})!==!1&&ne(tt)),clearTimeout(ue),setTimeout(function(){i.removeClass("mbsc-lv-item-active"),Ne("onItemDeactivate",{target:i[0]})},100),Dt=!1,we=null)}function M(){(Ft=U(Rt.swipe,{target:tt[0],index:at,direction:De>0?"right":"left"}))&&(W(),clearTimeout(ue),Rt.actions?(ce=te(Rt,De),ot.html(Rt.icons).show().children().css("width",ce+"%"),Ze.hide(),r(".mbsc-lv-ic-m",Qe).removeClass("mbsc-lv-ic-disabled"),r(Rt.leftMenu).each(L),r(Rt.rightMenu).each(L)):(Ze.show(),ot.hide(),Ce=Rt.start+(De>0?0:1),wt=At[Ce-1],dt=At[Ce]),tt.addClass("mbsc-lv-item-swiping").removeClass("mbsc-lv-item-active"),Pt.css("line-height",st+"px"),Qe.css({top:ts,height:st,backgroundColor:Q(De)}).addClass("mbsc-lv-stage-c-v").appendTo(ve.parent()),Mt.iconSlide&&tt.append(Ze),Ne("onSlideStart",{target:tt[0],index:at}))}function D(){var e=!1;Tt||(Rt.actions?Qe.attr("class","mbsc-lv-stage-c-v mbsc-lv-stage-c mbsc-lv-"+(de<0?"right":"left")):(wt&&de<=wt.percent?(Ce--,dt=wt,wt=At[Ce],e=!0):dt&&de>=dt.percent&&(Ce++,wt=dt,dt=At[Ce],e=!0),e&&(we=de>0?wt:dt)&&(R(we,Mt.iconSlide),Ne("onStageChange",{target:tt[0],index:at,stage:we}))),St||(Tt=!0,_t=g(E)))}function S(e){var t,a,i,l=!1;y(_t),Tt=!1,St||E(),Rt.actions?Math.abs(de)>10&&ce&&(Y(tt,de<0?-ce:ce,200),l=!0,n=!0,he=tt,fe=at,r(s).on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(t){t.preventDefault(),H(tt,!0,e)})):de&&(Mt.quickSwipe&&!St&&(i=new Date-$t,t=i<300&&De<-50,a=i<300&&De>50,t?(Ct=!0,we=Rt.left,R(we,Mt.iconSlide)):a&&(Ct=!0,we=Rt.right,R(we,Mt.iconSlide))),we&&we.action&&((Me=U(we.disabled,{target:tt[0],index:at}))||(l=!0,n=St||U(we.confirm,{target:tt[0],index:at}),n?(Y(tt,(de<0?-1:1)*Ze[0].offsetWidth*100/et,200,!0),F(we,tt,at,!1,e)):N(we,tt,at,e)))),l||H(tt,!0,e),Ft=!1}function k(){Ae=!0,ke=!1,Ve=!1,zt=0,be=at,Mt.vibrate&&f(),ct=Z(tt,"next"),ut=ct.length&&ct[0].offsetTop,yt=Z(tt,"prev"),xt=yt.length&&yt[0].offsetTop+yt[0].offsetHeight,gt.height(st).insertAfter(tt),tt.css({top:ts}).addClass("mbsc-lv-item-dragging").removeClass("mbsc-lv-item-active").appendTo(Ie),Ne("onSortStart",{target:tt[0],index:be})}function V(e,t,s,a){e.removeClass("mbsc-lv-item-dragging"),gt.remove(),Ne("onSortEnd",{target:e[0],index:be}),Mt.vibrate&&f(),a&&(Gt.addUndoAction(function(a){Gt.move(e,t,null,a,s,!0)},!0),Ne("onSortUpdate",{target:e[0],index:be}))}function A(){pt||(clearTimeout(ze),n&&r(s).trigger("touchstart"),Be&&(Gt.close(je,Ue),Be=!1,je=null))}function I(){clearTimeout(_e),_e=setTimeout(function(){Xt=Ut[0].innerHeight||Ut.innerHeight(),Kt=We?Ut.offset().top:0,oe&&(ts=tt[0].offsetTop,st=tt[0].offsetHeight,Qe.css({top:ts,height:st}))},200)}function $(e){ft&&(e.stopPropagation(),e.preventDefault(),ft=!1)}function O(){if(Ae||!oe){var e,t=Ut.scrollTop(),s=Zt.offset().top,a=Zt[0].offsetHeight,n=We?Ut.offset().top:t;r(".mbsc-lv-gr-title",Zt).each(function(t,s){r(s).offset().top<n&&(e=s)}),s<n&&s+a>n?He.show().empty().append(r(e).clone()):He.hide()}}function L(e,t){U(t.disabled,{target:tt[0],index:at})&&r(".mbsc-ic-"+t.icon,Qe).addClass("mbsc-lv-ic-disabled")}function N(e,t,s,a){var n,i={icon:"undo2",text:Mt.undoText,color:"#b1b1b1",action:function(){Gt.undo()}};e.undo&&(Gt.startActionTrack(),r.isFunction(e.undo)&&Gt.addUndoAction(function(){e.undo.call(Jt,{target:t[0],index:s},Gt)}),jt=t.attr("data-ref")),n=e.action.call(Jt,{target:t[0],index:s},Gt),e.undo?(Gt.endActionTrack(),n!==!1&&Y(t,+t.attr("data-pos")<0?-100:100,200),gt.height(st).insertAfter(t),t.css("top",ts).addClass("mbsc-lv-item-undo"),ot.hide(),Ze.show(),Qe.append(Ze),R(i),F(i,t,s,!0,a)):H(t,n,a)}function F(e,t,a,i,l){var o,u;n=!0,r(s).off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.preventDefault(),i&&j(t),H(t,!0,l)}),Te||Ze.off(".mbsc-lv-conf").on("touchstart.mbsc-lv-conf mousedown.mbsc-lv-conf",function(e){e.stopPropagation(),o=m(e,"X"),u=m(e,"Y")}).on("touchend.mbsc-lv-conf mouseup.mbsc-lv-conf",function(s){s.preventDefault(),"touchend"===s.type&&c.preventClick(),Math.abs(m(s,"X")-o)<10&&Math.abs(m(s,"Y")-u)<10&&(N(e,t,a,l),i&&(Bt=null,j(t)))})}function E(){Y(tt,It+100*De/et),Tt=!1}function H(e,t,a){r(s).off(".mbsc-lv-conf"),Ze.off(".mbsc-lv-conf"),t!==!1?Y(e,0,"0"!==e.attr("data-pos")?200:0,!1,function(){q(e,a),B(e)}):q(e,a),n=!1}function Y(e,t,s,a,n){t=Math.max("right"==Ft?0:-100,Math.min(t,"left"==Ft?0:100)),Nt=e[0].style,e.attr("data-pos",t),Nt[d+"Transform"]="translate3d("+(a?et*t/100+"px":t+"%")+",0,0)",Nt[d+"Transition"]=u+"transform "+(s||0)+"ms",n&&(Qt++,setTimeout(function(){n(),Qt--},s)),de=t}function P(e,t,s,a){t=Math.max(lt,Math.min(t,rt)),Nt=e[0].style,Nt[d+"Transform"]="translate3d(0,"+t+"px,0)",Nt[d+"Transition"]=u+"transform "+(s||0)+"ms ease-out",a&&(Qt++,setTimeout(function(){a(),Qt--},s))}function W(){clearTimeout(Wt),!me&&Gt.sortable&&(me=!0,Fe.remove())}function R(e,t){var s=U(e.text,{target:tt[0],index:at})||"";U(e.disabled,{target:tt[0],index:at})?Qe.addClass("mbsc-lv-ic-disabled"):Qe.removeClass("mbsc-lv-ic-disabled"),Qe.css("background-color",e.color||(0===e.percent?Q(de):x)),Ze.attr("class","mbsc-lv-ic-c mbsc-lv-ic-"+(t?"move-":"")+(de<0?"right":"left")),Je.attr("class"," mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-"+(e.icon||"none")),Pt.attr("class","mbsc-lv-ic-text"+(e.icon?"":" mbsc-lv-ic-text-only")+(s?"":" mbsc-lv-ic-only")).html(s||"&nbsp;"),Mt.animateIcons&&(Ct?Je.addClass("mbsc-lv-ic-v"):setTimeout(function(){Je.addClass("mbsc-lv-ic-a")},10))}function q(e,t){oe||(Je.attr("class","mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"),Qe.attr("style","").removeClass("mbsc-lv-stage-c-v"),Pt.html("")),Qe.removeClass("mbsc-lv-left mbsc-lv-right"),e&&(Ne("onSlideEnd",{target:e[0],index:at}),t&&t())}function j(e){e.css("top","").removeClass("mbsc-lv-item-undo"),Bt?Gt.animate(gt,"collapse",function(){gt.remove()}):gt.remove(),q(),jt=null,Bt=null}function B(e){Nt=e[0].style,Nt[d+"Transform"]="",Nt[d+"Transition"]="",Nt.top="",e.removeClass("mbsc-lv-item-swiping")}function U(e,t){return r.isFunction(e)?e.call(this,t,Gt):e}function X(e){var t;if(e.attr("data-ref")||(t=b++,e.attr("data-ref",t),ns[t]={item:e,child:e.children("ul,ol"),parent:e.parent(),ref:e.parent()[0]===Jt?null:e.parent().parent().attr("data-ref")}),e.addClass("mbsc-lv-item"),Gt.sortable.handle&&"list-divider"!=e.attr("data-role")&&!e.children(".mbsc-lv-handle-c").length&&e.append(Re),Mt.enhance&&!e.hasClass("mbsc-lv-item-enhanced")){var s=e.attr("data-icon"),a=e.find("img").eq(0).addClass("mbsc-lv-img");a.is(":first-child")?e.addClass("mbsc-lv-img-"+(Mt.rtl?"right":"left")):a.length&&e.addClass("mbsc-lv-img-"+(Mt.rtl?"left":"right")),e.addClass("mbsc-lv-item-enhanced").children().each(function(e,t){t=r(t),t.is("p, h1, h2, h3, h4, h5, h6")&&t.addClass("mbsc-lv-txt")}),s&&e.addClass("mbsc-lv-item-ic-"+(e.attr("data-icon-align")||(Mt.rtl?"right":"left"))).append('<div class="mbsc-lv-item-ic mbsc-ic mbsc-ic-'+s+'"></div>')}}function z(e){r("li",e).not(".mbsc-lv-item").each(function(){X(r(this))}),r('li[data-role="list-divider"]',e).removeClass("mbsc-lv-item").addClass("mbsc-lv-gr-title"),r("ul,ol",e).not(".mbsc-lv").addClass("mbsc-lv").prepend(Ke).parent().addClass("mbsc-lv-parent").prepend(Ge),r(".mbsc-lv-back",e).each(function(){r(this).attr("data-back",r(this).parent().parent().attr("data-ref"))})}function K(e){return e.children("li").not(".mbsc-lv-back").not(".mbsc-lv-removed").not(".mbsc-lv-ph")}function G(e){return"object"!=typeof e&&(e=r('li[data-id="'+e+'"]',pe)),r(e)}function J(e){for(var t=0,s=ns[e.attr("data-ref")];s&&s.ref;)t++,s=ns[s.ref];return t}function Z(e,t){for(e=e[t]();e.length&&(!e.hasClass("mbsc-lv-item")||e.hasClass("mbsc-lv-ph")||e.hasClass("mbsc-lv-item-dragging"));){if(!Gt.sortable.group&&e.hasClass("mbsc-lv-gr-title"))return!1;e=e[t]()}return e}function Q(e){return(e>0?Rt.right:Rt.left).color||x}function ee(e){return c.isNumeric(e)?e+"":0}function te(e,t){return+(t<0?ee((e.actionsWidth||0).right)||ee(e.actionsWidth)||ee(Mt.actionsWidth.right)||ee(Mt.actionsWidth):ee((e.actionsWidth||0).left)||ee(e.actionsWidth)||ee(Mt.actionsWidth.left)||ee(Mt.actionsWidth))}function se(e,t){if(e){var s=Ut.scrollTop(),a=e.is(".mbsc-lv-item")?e[0].offsetHeight:0,n=e.offset().top+(We?s-Kt:0)
;t?(n<s||n+a>s+Xt)&&Ut.scrollTop(n):n<s?Ut.scrollTop(n):n+a>s+Xt&&Ut.scrollTop(Math.min(n,n+a-Xt/2))}}function ae(e,t,s,a,n){var i=t.parent(),r=t.prev();a=a||v,r[0]===Ze[0]&&(r=Ze.prev()),ve[0]!==t[0]?(Ne("onNavStart",{level:es,direction:e,list:t[0]}),kt.prepend(t.addClass("mbsc-lv-v mbsc-lv-sl-new")),se(pe),ie(kt,"mbsc-lv-sl-"+e,function(){ve.removeClass("mbsc-lv-sl-curr"),t.removeClass("mbsc-lv-sl-new").addClass("mbsc-lv-sl-curr"),ge&&ge.length?ve.removeClass("mbsc-lv-v").insertAfter(ge):ye.append(ve.removeClass("mbsc-lv-v")),ge=r,ye=i,ve=t,se(s,n),a.call(Jt,s),Ne("onNavEnd",{level:es,direction:e,list:t[0]})})):(se(s,n),a.call(Jt,s))}function ne(e,t){Qt||(e.hasClass("mbsc-lv-parent")?(es++,ae("r",ns[e.attr("data-ref")].child,null,t)):e.hasClass("mbsc-lv-back")&&(es--,ae("l",ns[e.attr("data-back")].parent,ns[e.attr("data-back")].item,t)))}function ie(e,t,s){function a(){clearTimeout(n),Qt--,e.off(p,a).removeClass(t),s.call(Jt,e)}var n;s=s||v,Mt.animation&&"mbsc-lv-item-none"!==t?(Qt++,e.on(p,a).addClass(t),n=setTimeout(a,500)):s.call(Jt,e)}function re(e,t){var s,a=e.attr("data-ref");s=as[a]=as[a]||[],t&&s.push(t),e.attr("data-action")||(t=s.shift(),e.attr("data-action",1),t(function(){e.removeAttr("data-action"),s.length?re(e):delete as[a]}))}function le(e,t,s){var n,i;e&&e.length&&(n=100/(e.length+2),r.each(e,function(r,o){o.key===a&&(o.key=Vt++),o.percent===a&&(o.percent=t*n*(r+1),s&&(i=l({},o),i.key=Vt++,i.percent=-n*(r+1),e.push(i),ss[i.key]=i)),ss[o.key]=o}))}var oe,ce,ue,de,me,he,fe,pe,be,ve,ge,ye,xe,we,Ce,_e,Te,Me,De,Se,ke,Ve,Ae,Ie,$e,Oe,Le,Ne,Fe,Ee,He,Ye,Pe,We,Re,qe,je,Be,Ue,Xe,ze,Ke,Ge,Je,Ze,Qe,et,tt,st,at,nt,it,rt,lt,ot,ct,ut,dt,mt,ht,ft,pt,bt,vt,gt,yt,xt,wt,Ct,_t,Tt,Mt,Dt,St,kt,Vt,At,It,$t,Ot,Lt,Nt,Ft,Et,Ht,Yt,Pt,Wt,Rt,qt,jt,Bt,Ut,Xt,zt,Kt,Gt=this,Jt=t,Zt=r(Jt),Qt=0,es=0,ts=0,ss={},as={},ns={};o.Base.call(this,t,i,!0),Gt.animate=function(e,t,s){ie(e,"mbsc-lv-item-"+t,s)},Gt.add=function(e,t,s,n,i,l){var o,c,u,d,m,h,f="",p=i===a?Zt:G(i),g=p,y="object"!=typeof t?r('<li data-ref="'+b+++'" data-id="'+e+'">'+t+"</li>"):t,x=y.attr("data-pos")<0?"left":"right",w=y.attr("data-ref");n=n||v,w||(w=b++,y.addClass("mbsc-lv-item").attr("data-ref",w)),X(y),l||Gt.addUndoAction(function(e){d?Gt.navigate(p,function(){g.remove(),p.removeClass("mbsc-lv-parent").children(".mbsc-lv-arr").remove(),m.child=p.children("ul,ol"),Gt.remove(y,null,e,!0)}):Gt.remove(y,null,e,!0)},!0),re(y,function(e){B(y.css("top","").removeClass("mbsc-lv-item-undo")),p.is("li")?(h=p.attr("data-ref"),p.children("ul,ol").length||(d=!0,p.append("<ul></ul>"))):h=p.children(".mbsc-lv-back").attr("data-back"),m=ns[h],m&&(m.child.length?g=m.child:(p.addClass("mbsc-lv-parent").prepend(Ge),g=p.children("ul,ol").prepend(Ke).addClass("mbsc-lv"),m.child=g,r(".mbsc-lv-back",p).attr("data-back",h))),ns[w]={item:y,child:y.children("ul,ol"),parent:g,ref:h},u=K(g),c=u.length,s!==a&&null!==s||(s=c),l&&(f="mbsc-lv-item-new-"+(l?x:"")),z(y.addClass(f)),s!==!1&&(c?s<c?y.insertBefore(u.eq(s)):y.insertAfter(u.eq(c-1)):(o=r(".mbsc-lv-back",g),o.length?y.insertAfter(o):g.append(y))),g.hasClass("mbsc-lv-v")?Gt.animate(y.height(y[0].offsetHeight),l&&jt===w?"none":"expand",function(t){Gt.animate(t.height(""),l?"add-"+x:"pop-in",function(t){n.call(Jt,t.removeClass(f)),e()})}):(n.call(Jt,y.removeClass(f)),e()),pe.trigger("mbsc-enhance",[{theme:Mt.theme,lang:Mt.lang}]),Ne("onItemAdd",{target:y[0]})})},Gt.swipe=function(e,t,s,n,i){e=G(e),tt=e,Te=n,St=!0,oe=!0,s=s===a?300:s,De=t>0?1:-1,w(),M(),Y(e,t,s),clearTimeout(Ht),clearInterval(Et),Et=setInterval(function(){de=c.getPosition(e)/et*100,D()},10),Ht=setTimeout(function(){clearInterval(Et),de=t,D(),S(i),Te=!1,St=!1,oe=!1},s)},Gt.openStage=function(e,t,s,a){ss[t]&&Gt.swipe(e,ss[t].percent,s,a)},Gt.openActions=function(e,t,s,a){e=G(e);var n=te(qt[e.attr("data-type")||"defaults"],"left"==t?-1:1);Gt.swipe(e,"left"==t?-n:n,s,a)},Gt.close=function(e,t){Gt.swipe(e,0,t)},Gt.remove=function(e,t,s,a){var n,i,r;s=s||v,e=G(e),e.length&&(i=e.parent(),n=K(i).index(e),r=e[0].style,a||(e.attr("data-ref")===jt&&(Bt=!0),Gt.addUndoAction(function(t){Gt.add(null,e,n,t,i,!0)},!0)),re(e,function(n){t=t||(e.attr("data-pos")<0?"left":"right"),i.hasClass("mbsc-lv-v")?Gt.animate(e.addClass("mbsc-lv-removed"),a?"pop-out":"remove-"+t,function(e){r.height=e[0].offsetHeight+"px",Gt.animate(e,"collapse",function(e){r.height="",B(e.removeClass("mbsc-lv-removed")),s.call(Jt,e)!==!1&&e.remove(),n()})}):(s.call(Jt,e)!==!1&&e.remove(),n()),Ne("onItemRemove",{target:e[0]})}))},Gt.move=function(e,t,s,a,n,i){e=G(e),i||Gt.startActionTrack(),Qe.append(Ze),Gt.remove(e,s,null,i),Gt.add(null,e,t,a,n,i),i||Gt.endActionTrack()},Gt.navigate=function(e,t){var s,a;e=G(e),s=ns[e.attr("data-ref")],a=J(e),s&&(ae(a>=es?"r":"l",s.parent,e,t,!0),es=a)},Gt._processSettings=function(){Zt.is("[mbsc-enhance]")&&(Ye=!0,Zt.removeAttr("mbsc-enhance"))},Gt._init=function(){var t,s,i,l=Zt.find("ul,ol").length?"left":"right",o=0,u="",d="",h="";i=Mt.sort||Mt.sortable||!1,"group"===i&&(i={group:!1,multiLevel:!0}),i===!0&&(i={group:!0,multiLevel:!0,handle:Mt.sortHandle}),i&&i.handle===a&&(i.handle=Mt.sortHandle),i.handle&&(Pe=i.handle===!0?l:i.handle,Re='<div class="mbsc-lv-handle-c mbsc-lv-item-h-'+Pe+' mbsc-lv-handle"><div class="'+Mt.handleClass+' mbsc-lv-handle-bar-c mbsc-lv-handle">'+Mt.handleMarkup+"</div></div>"),Ke='<li class="mbsc-lv-item mbsc-lv-back">'+Mt.backText+'<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Mt.leftArrowClass+'"></div></li>',Ge='<div class="mbsc-lv-arr mbsc-lv-ic mbsc-ic '+Mt.rightArrowClass+'"></div>',t="mbsc-lv-cont mbsc-lv-"+Mt.theme+(Mt.rtl?" mbsc-lv-rtl":"")+(Mt.baseTheme?" mbsc-lv-"+Mt.baseTheme:"")+(Mt.animateIcons?" mbsc-lv-ic-anim":"")+(Mt.striped?" mbsc-lv-alt-row":"")+(Mt.fixedHeader?" mbsc-lv-has-fixed-header":"")+(i.handle?" mbsc-lv-handle-"+Pe:""),Gt.sortable=i||!1,pe?(pe.attr("class",t),i.handle&&r(".mbsc-lv-handle-c",Zt).remove(),r("li:not(.mbsc-lv-back)",Zt).removeClass("mbsc-lv-item")):(u+='<div class="mbsc-lv-multi-c"></div>',u+='<div class="mbsc-lv-ic-c"><div class="mbsc-lv-ic-s mbsc-lv-ic mbsc-ic mbsc-ic-none"></div><div class="mbsc-lv-ic-text"></div></div>',Zt.addClass("mbsc-lv mbsc-lv-v mbsc-lv-root").show(),Qe=r('<div class="mbsc-lv-stage-c">'+u+"</div>"),Ze=r(".mbsc-lv-ic-c",Qe),ot=r(".mbsc-lv-multi-c",Qe),Je=r(".mbsc-lv-ic-s",Qe),Pt=r(".mbsc-lv-ic-text",Qe),gt=r('<li class="mbsc-lv-item mbsc-lv-ph"></li>'),Fe=r('<div class="mbsc-lv-fill-item"></div>'),pe=r('<div class="'+t+'"><ul class="mbsc-lv mbsc-lv-dummy"></ul><div class="mbsc-lv-sl-c"></div></div>'),We="body"!==Mt.context,Ut=r(We?Mt.context:e),Ie=r(".mbsc-lv-dummy",pe),pe.insertAfter(Zt),Ut.on("orientationchange resize",I),I(),pe.on("touchstart mousedown",".mbsc-lv-item",C).on("touchmove",".mbsc-lv-item",_).on("touchend touchcancel",".mbsc-lv-item",T),Jt.addEventListener("click",$,!0),pe.on("touchstart mousedown",".mbsc-lv-ic-m",function(e){Te||(e.stopPropagation(),e.preventDefault()),Ot=m(e,"X"),Lt=m(e,"Y")}).on("touchend mouseup",".mbsc-lv-ic-m",function(e){Te||("touchend"===e.type&&c.preventClick(),n&&!r(this).hasClass("mbsc-lv-ic-disabled")&&Math.abs(m(e,"X")-Ot)<10&&Math.abs(m(e,"Y")-Lt)<10&&N((de<0?Rt.rightMenu:Rt.leftMenu)[r(this).index()],he,fe))}),kt=r(".mbsc-lv-sl-c",pe).append(Zt.addClass("mbsc-lv-sl-curr")).attr("data-ref",b++),ve=Zt,ye=pe),z(Zt),Vt=0,qt=Mt.itemGroups||{},qt.defaults={swipeleft:Mt.swipeleft,swiperight:Mt.swiperight,stages:Mt.stages,actions:Mt.actions,actionsWidth:Mt.actionsWidth},r.each(qt,function(e,t){if(t.swipe=t.swipe!==a?t.swipe:Mt.swipe,t.stages=t.stages||[],le(t.stages,1,!0),le(t.stages.left,1),le(t.stages.right,-1),(t.stages.left||t.stages.right)&&(t.stages=[].concat(t.stages.left||[],t.stages.right||[])),Ee=!1,t.stages.length||(t.swipeleft&&t.stages.push({percent:-30,action:t.swipeleft}),t.swiperight&&t.stages.push({percent:30,action:t.swiperight})),r.each(t.stages,function(e,t){if(0===t.percent)return Ee=!0,!1}),Ee||t.stages.push({percent:0}),t.stages.sort(function(e,t){return e.percent-t.percent}),r.each(t.stages,function(e,s){if(0===s.percent)return t.start=e,!1}),Ee?t.left=t.right=t.stages[t.start]:(t.left=t.stages[t.start-1]||{},t.right=t.stages[t.start+1]||{}),t.actions){for(t.leftMenu=t.actions.left||t.actions,t.rightMenu=t.actions.right||t.leftMenu,d="",h="",o=0;o<t.leftMenu.length;o++)d+="<div "+(t.leftMenu[o].color?'style="background-color: '+t.leftMenu[o].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.leftMenu[o].icon+'">'+(t.leftMenu[o].text||"")+"</div>";for(o=0;o<t.rightMenu.length;++o)h+="<div "+(t.rightMenu[o].color?'style="background-color: '+t.rightMenu[o].color+'"':"")+' class="mbsc-lv-ic-m mbsc-lv-ic mbsc-ic mbsc-ic-'+t.rightMenu[o].icon+'">'+(t.rightMenu[o].text||"")+"</div>";t.actions.left&&(t.swipe=t.actions.right?t.swipe:"right"),t.actions.right&&(t.swipe=t.actions.left?t.swipe:"left"),t.icons='<div class="mbsc-lv-multi mbsc-lv-multi-ic-left">'+d+'</div><div class="mbsc-lv-multi mbsc-lv-multi-ic-right">'+h+"</div>"}}),Mt.fixedHeader&&(s="mbsc-lv-fixed-header"+(We?" mbsc-lv-fixed-header-ctx mbsc-lv-"+Mt.theme+(Mt.baseTheme?" mbsc-lv-"+Mt.baseTheme:""):""),He?He.attr("class",s):(He=r('<div class="'+s+'"></div>'),We?Ut.before(He):pe.prepend(He),ht=c.throttle(O,200),Ut.on("scroll touchmove",ht))),Mt.hover&&(Ue||pe.on("mouseover.mbsc-lv",".mbsc-lv-item",function(){je&&je[0]==this||(A(),je=r(this),qt[je.attr("data-type")||"defaults"].actions&&(ze=setTimeout(function(){pt?je=null:(Be=!0,Gt.openActions(je,qe,Ue,!1))},Xe)))}).on("mouseleave.mbsc-lv",A),Ue=Mt.hover.time||200,Xe=Mt.hover.timeout||200,qe=Mt.hover.direction||Mt.hover||"right"),Ye&&pe.attr("mbsc-enhance",""),pe.trigger("mbsc-enhance",[{theme:Mt.theme,lang:Mt.lang}])},Gt._destroy=function(){ye.append(ve),We&&He&&He.remove(),Ye&&Zt.attr("mbsc-enhance",""),Jt.removeEventListener("click",$,!0),pe.find(".mbsc-lv-txt,.mbsc-lv-img").removeClass("mbsc-lv-txt mbsc-lv-img"),pe.find("ul,ol").removeClass("mbsc-lv mbsc-lv-v mbsc-lv-root mbsc-lv-sl-curr").find("li").removeClass("mbsc-lv-gr-title mbsc-lv-item mbsc-lv-item-enhanced mbsc-lv-parent mbsc-lv-img-left mbsc-lv-img-right mbsc-lv-item-ic-left mbsc-lv-item-ic-right").removeAttr("data-ref"),r(".mbsc-lv-back,.mbsc-lv-handle-c,.mbsc-lv-arr,.mbsc-lv-item-ic",pe).remove(),Zt.insertAfter(pe),pe.remove(),Qe.remove(),Ut.off("orientationchange resize",I),ht&&Ut.off("scroll touchmove",ht)};var is,rs=[],ls=[],os=[],cs=0;Gt.startActionTrack=function(){cs||(os=[]),cs++},Gt.endActionTrack=function(){--cs||ls.push(os)},Gt.addUndoAction=function(e,t){var s={action:e,async:t};cs?os.push(s):(ls.push([s]),ls.length>Mt.undoLimit&&ls.shift())},Gt.undo=function(){function e(){a<0?(is=!1,t()):(s=n[a],a--,s.async?s.action(e):(s.action(),e()))}function t(){(n=rs.shift())&&(is=!0,a=n.length-1,e())}var s,a,n;ls.length&&rs.push(ls.pop()),is||t()},Mt=Gt.settings,Ne=Gt.trigger,Gt.init(i)},o.ListView.prototype={_class:"listview",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",actionsWidth:90,sortDelay:250,undoLimit:10,swipe:!0,quickSwipe:!0,animateIcons:!0,animation:!0,revert:!0,vibrate:!0,handleClass:"",handleMarkup:'<div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div><div class="mbsc-lv-handle-bar mbsc-lv-handle"></div>',leftArrowClass:"mbsc-ic-arrow-left4",rightArrowClass:"mbsc-ic-arrow-right4",backText:"Back",undoText:"Undo",stages:[]}},i.themes.listview.mobiscroll={leftArrowClass:"mbsc-ic-arrow-left5",rightArrowClass:"mbsc-ic-arrow-right5"},i.presetShort("listview","ListView")}(window,document),function(s){function a(e,t,s){var a;return e=r(r.parseHTML?r.parseHTML(e):e),1==e.length&&e.is("li")||r(e[0]).is("li")?(a=e.clone(),r(a[0]).attr("ng-repeat-start","item in "+t),r(a).filter("li").eq(-1).attr("ng-repeat-end","").attr("mobiscroll-listview-item",s)):(a=r("<li></li>").append(e.clone()),a.attr("ng-repeat","item in "+t).attr("mobiscroll-listview-item",s)),a}function n(e){var t,s=0;if(!e)return s;for(t=0;t<e.length;t++)s++,e[t].children&&e[t].children.length&&(s+=n(e[t].children));return s}var i,r=t.$,l=+new Date,o=[],c={},u={};try{i=e.module("ngAnimate")}catch(e){}i&&o.push("ngAnimate"),e.module("mobiscroll-listview",o).directive("mobiscrollListviewItem",["$compile","$timeout",function(e,s){return{link:function(a,n,i){var l,o,u,d=r(n[0]),m=d.parent("ul"),h=i.mobiscrollListviewItem,f=c[h],p=d.parents(".mbsc-lv-cont").length;f.nodesLeft--,m&&(p||0===f.nodesLeft)&&(p?(o=m.children("li").not(".mbsc-lv-back").index(d),d.addClass("mbsc-lv-item").hide(),s(m.hasClass("mbsc-lv-root")?function(){l=t.instances[m[0].id],l.add(null,d.show(),o,void 0,m)}:function(){m.prepend(m.children(".mbsc-lv-back")),u=m.parent("li"),l=t.instances[f.rootNode[0].id],l.add(null,d.show(),o,void 0,u.length?u:m)})):a.$emit("mbscLvLastItemAdded",f.rootNode)),d.append(e('<div style="display:none;"><ul><li mobiscroll-listview-hitem="'+h+'" ng-repeat="item in item.children"></li></ul></div>')(a)[0])}}}]).directive("mobiscrollListviewHitem",["$compile","$timeout",function(e){return{link:function(t,s,n){var i=r(s[0]),l=i.parent(),o=l.parent().hasClass("mbsc-lv-ng-init"),c=n.mobiscrollListviewHitem;l.children("li").not(".mbsc-lv-back").length<=1&&!o&&l.parent().addClass("mbsc-lv-ng-init").parent().append(e(r("<ul></ul>").append(a(u[c],"item.children",c)))(t.$parent)[0]),t.$on("$destroy",function(){l&&(l.children("li").length||(l=l.parent().parent().children("ul"),l.remove()))})}}}]).directive("mobiscrollListview",["$compile","$parse","$timeout",function(e,s,i){return{restrict:"A",require:"?ngModel",compile:function(o){var d,m=l++,h=o.html().replace(/(mbsc-ng-)|(ms-ng-)/g,"ng-").trim();return function(l,o,f,p){var b,v,g,y=r(o[0]);p||f.mobiscrollData?(b=l.$eval(f.mobiscrollListview||"{}"),g=f.mobiscrollData||f.ngModel):(b=l.$eval(f.mobiscrollOptions||"{}"),g=f.mobiscrollListview);var x=n(l.$eval(g));c[m]={rootNode:y,allNodes:x,nodesLeft:x},u[m]=h,d=r("<div></div>").append(a(h,g,m)),y.empty().append(r(e(d)(l)[0]).contents()),l.$on("mbscLvLastItemAdded",function(e,a){y[0]==a[0]&&i(function(){v=new t.classes.ListView(y[0],b),f.mobiscrollInstance&&s(f.mobiscrollInstance).assign(l,v)})}),0===x&&l.$emit("mbscLvLastItemAdded",y)}}}}]),i&&e.module("mobiscroll-listview").animation(".mbsc-lv-item",function(){return{leave:function(e,s){var a=r(e[0]);t.instances[a.closest(".mbsc-lv-cont").find(".mbsc-lv-root")[0].id].remove(a,void 0,s)}}})}(),function(e){var s=t,a=s.$,n={batch:50,min:0,max:100,defaultUnit:"",units:null,unitNames:null,invalid:[],sign:!1,step:.05,scale:2,convert:function(e){return e},signText:"&nbsp;",wholeText:"Whole",fractionText:"Fraction",unitText:"Unit"};s.presets.scroller.measurement=function(e){function t(e){return Math.max(x,Math.min(w,H?e<0?Math.ceil(e):Math.floor(e):l(Math.round(e-q),R)+q))}function s(e){return H?l((Math.abs(e)-Math.abs(t(e)))*W-j,R)+j:0}function i(e){var a=t(e),n=s(e),i=e<0?"-":"+";return n>=W&&(e<0?a--:a++,n=0),[i,a,n]}function r(e){var t=+e[b],s=H?e[p]/W*(t<0?-1:1):0;return(L&&"-"==e[0]?-1:1)*(t+s)}function l(e,t){return Math.round(e/t)*t}function o(e,t,s){return t!==s&&S.convert?S.convert.call(this,e,t,s):e}function c(e,t,s){return e=e>s?s:e,e=e<t?t:e}function u(e){var t,a;g=o(S.min,F,e),y=o(S.max,F,e),H?(x=g<0?Math.ceil(g):Math.floor(g),w=y<0?Math.ceil(y):Math.floor(y),C=s(g),_=s(y)):(x=Math.round(g),w=Math.round(y),w=x+Math.floor((w-x)/R)*R,q=x%R),t=x,a=w,L&&(a=Math.abs(t)>Math.abs(a)?Math.abs(t):Math.abs(a),t=t<0?0:t),I.min=t<0?Math.ceil(t/Y):Math.floor(t/Y),I.max=a<0?Math.ceil(a/Y):Math.floor(a/Y)}function d(e){return r(e).toFixed(H?P:0)+(N?" "+E[e[v]]:"")}var m,h,f,p,b,v,g,y,x,w,C,_,T,M,D=a.extend({},e.settings),S=a.extend(e.settings,n,D),k={},V=[[]],A={},I={},$={},O=[],L=S.sign,N=S.units&&S.units.length,F=N?S.defaultUnit||S.units[0]:"",E=[],H=S.step<1,Y=S.step>1?S.step:1,P=H?Math.max(S.scale,(S.step+"").split(".")[1].length):1,W=Math.pow(10,P),R=Math.round(H?S.step*W:S.step),q=0,j=0,B=0;if(e.setVal=function(t,s,n,i,r){e._setVal(a.isArray(t)?d(t):t,s,n,i,r)},S.units)for(M=0;M<S.units.length;++M)T=S.units[M],E.push(S.unitNames?S.unitNames[T]||T:T);if(L)if(L=!1,N)for(M=0;M<S.units.length;M++)o(S.min,F,S.units[M])<0&&(L=!0);else L=S.min<0;if(L&&(V[0].push({data:["-","+"],label:S.signText}),B++),I={label:S.wholeText,data:function(e){return x%Y+e*Y},getIndex:function(e){return Math.round((e-x%Y)/Y)}},V[0].push(I),b=B++,u(F),H){for(V[0].push($),$.data=[],$.label=S.fractionText,M=j;M<W;M+=R)O.push(M),$.data.push({value:M,display:"."+function(e,t){for(e+="";e.length<t;)e="0"+e;return e}(M,P)});p=B++,m=Math.ceil(100/R),S.invalid&&S.invalid.length&&(a.each(S.invalid,function(e,t){var s=t>0?Math.floor(t):Math.ceil(t);0===s&&(s=t<=0?-.001:.001),A[s]=(A[s]||0)+1,0===t&&(s=.001,A[s]=(A[s]||0)+1)}),a.each(A,function(e,t){t<m?delete A[e]:A[e]=e}))}if(N){for(k={data:[],label:S.unitText,cssClass:"mbsc-msr-whl-unit",circular:!1},M=0;M<S.units.length;M++)k.data.push({value:M,display:E[M]});V[0].push(k)}return v=B,{wheels:V,minWidth:L&&H?70:80,showLabel:!1,formatValue:d,compClass:"mbsc-msr",parseValue:function(e){var t,s=("number"==typeof e?e+"":e)||S.defaultValue,n=(s+"").split(" "),r=+n[0],l=[],o="";return N&&(o=a.inArray(n[1],E),o=o==-1?a.inArray(F,S.units):o,o=o==-1?0:o),f=N?S.units[o]:"",u(f),r=isNaN(r)?0:r,r=c(r,g,y),t=i(r),t[1]=c(t[1],x,w),h=r,L&&(l[0]=t[0],t[1]=Math.abs(t[1])),l[b]=t[1],H&&(l[p]=t[2]),N&&(l[v]=o),l},onCancel:function(){h=void 0},validate:function(t){var s,n,d,m,T,M=t.values,D=t.index,k=t.direction,V={},$=[],E={},P=N?S.units[M[v]]:"";if(L&&0===D&&(h=Math.abs(h)*("-"==M[0]?-1:1)),(D===b||D===p&&H||void 0===h||void 0===D)&&(h=r(M),f=P),(N&&D===v&&f!==P||void 0===D)&&(u(P),h=o(h,f,P),f=P,n=i(h),void 0!==D&&(E[b]=I,e.changeWheel(E)),L&&(M[0]=n[0])),$[b]=[],L)for($[0]=[],g>0&&($[0].push("-"),M[0]="+"),y<0&&($[0].push("+"),M[0]="-"),T=Math.abs("-"==M[0]?x:w),B=T+Y;B<T+20*Y;B+=Y)$[b].push(B),V[B]=!0;if(h=c(h,g,y),n=i(h),d=L?Math.abs(n[1]):n[1],s=L?"-"==M[0]:h<0,M[b]=d,s&&(n[0]="-"),H&&(M[p]=n[2]),a.each(H?A:S.invalid,function(e,t){if(L&&s){if(!(t<=0))return;t=Math.abs(t)}t=l(o(t,F,P),H?1:R),V[t]=!0,$[b].push(t)}),M[b]=e.getValidValue(b,d,k,V),n[1]=M[b]*(L&&s?-1:1),H){$[p]=[];var W=L?M[0]+M[1]:(h<0?"-":"+")+Math.abs(n[1]),q=(g<0?"-":"+")+Math.abs(x),j=(y<0?"-":"+")+Math.abs(w);W===q&&a(O).each(function(e,t){(s?t>C:t<C)&&$[p].push(t)}),W===j&&a(O).each(function(e,t){(s?t<_:t>_)&&$[p].push(t)}),a.each(S.invalid,function(e,t){m=i(o(t,F,P)),(n[0]===m[0]||0===n[1]&&0===m[1]&&0===m[2])&&n[1]===m[1]&&$[p].push(m[2])})}return{disabled:$,valid:M}}}},s.presetShort("measurement")}(),function(){var e=t,s=e.presets.scroller;s.number=s.measurement,e.presetShort("number")}(),e.module("mobiscroll-number",[]).directive("mobiscrollNumber",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollNumber",{preset:"number"})}]),function(e){var s=t,a=s.$,n=s.util,i=n.testTouch,r=n.getCoord,l=n.isNumeric,o=function(){},c=s.classes;c.Numpad=function(t,s,n){function o(e){var s,n=T.validate.call(t,{values:L.slice(0),variables:q},P)||[],i=n&&n.disabled||[];if(P._isValid=!n.invalid,P._tempValue=T.formatValue.call(t,L.slice(0),q,P),_=L.length,N=n.length||E,P._isVisible){if(a(".mbsc-np-ph",x).each(function(e){a(this).html("ltr"==T.fill?e>=_?C:M||L[e]:e>=E-N?e+_<E?C:M||L[e+_-E]:"")}),a(".mbsc-np-cph",x).each(function(){a(this).html(q[a(this).attr("data-var")]||a(this).attr("data-ph"))}),_===E)for(s=0;s<=9;s++)i.push(s);for(a(".mbsc-np-btn",x).removeClass(w),s=0;s<i.length;s++)a('.mbsc-np-btn[data-val="'+i[s]+'"]',x).addClass(w);P._isValid?a(".mbsc-fr-btn-s .mbsc-fr-btn",x).removeClass(w):a(".mbsc-fr-btn-s .mbsc-fr-btn",x).addClass(w),P.live&&(P._hasValue=e||P._hasValue,u(e,!1,e),e&&F("onSet",{valueText:P._value}))}}function u(e,t,s,n){t&&o(),n||(H=L.slice(0),j=a.extend({},q),W=R.slice(0),P._value=P._hasValue?P._tempValue:null),e&&(P._isInput&&Y.val(P._hasValue&&P._isValid?P._value:""),F("onFill",{valueText:P._hasValue?P._tempValue:"",change:s}),s&&(P._preventChange=!0,Y.trigger("change")))}function d(e){var t,s,a=e||[],n=[];for(R=[],q={},t=0;t<a.length;t++)/:/.test(a[t])?(s=a[t].split(":"),q[s[0]]=s[1],R.push(s[0])):(n.push(a[t]),R.push("digit"));return n}function m(e,t){!(_||t||T.allowLeadingZero)||e.hasClass("mbsc-fr-btn-d")||e.hasClass("mbsc-np-btn-empty")||_<E&&(R.push("digit"),L.push(t),o(!0))}function h(t){var s,a,n=t.attr("data-val"),i="false"!==t.attr("data-track"),r=t.attr("data-var");if(!t.hasClass("mbsc-fr-btn-d")){if(r&&(a=r.split(":"),i&&R.push(a[0]),q[a[0]]=a[2]===e?a[1]:q[a[0]]==a[1]?a[2]:a[1]),n.length+_<=N)for(s=0;s<n.length;++s)a=l(n[s])?+n[s]:n[s],(T.allowLeadingZero||_||a)&&(R.push("digit"),L.push(a),_=L.length);o(!0)}}function f(){var e,t,s=R.pop();if(_||"digit"!==s){if("digit"!==s&&q[s])for(delete q[s],t=R.slice(0),R=[],e=0;e<t.length;e++)t[e]!==s&&R.push(t[e]);else L.pop();o(!0)}}function p(e){$=!0,D=r(e,"X"),S=r(e,"Y"),clearInterval(O),clearTimeout(O),f(),O=setInterval(function(){f()},150)}function b(){clearInterval(O),$=!1}function v(e){i(e,this)&&(p(e),"mousedown"===e.type&&a(document).on("mousemove",g).on("mouseup",y))}function g(e){$&&(k=r(e,"X"),V=r(e,"Y"),A=k-D,I=V-S,(Math.abs(A)>7||Math.abs(I)>7)&&b())}function y(e){$&&(e.preventDefault(),b(),"mouseup"===e.type&&a(document).off("mousemove",g).off("mouseup",y))}var x,w,C,_,T,M,D,S,k,V,A,I,$,O,L,N,F,E,H,Y=a(t),P=this,W=[],R=[],q={},j={},B={107:"+",109:"-"},U={48:0,49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};c.Frame.call(this,t,s,!0),P.setVal=P._setVal=function(s,n,i,r){P._hasValue=null!==s&&s!==e,L=d(a.isArray(s)?s.slice(0):T.parseValue.call(t,s,P)),u(n,!0,i===e?n:i,r)},P.getVal=P._getVal=function(e){return P._hasValue||e?P[e?"_tempValue":"_value"]:null},P.setArrayVal=P.setVal,P.getArrayVal=function(e){return e?L.slice(0):P._hasValue?H.slice(0):null},P._readValue=function(){var e=Y.val()||"";""!==e&&(P._hasValue=!0),M?(q={},R=[],L=[]):(q=P._hasValue?j:{},R=P._hasValue?W:[],L=P._hasValue&&H?H.slice(0):d(T.parseValue.call(t,e,P)),u(!1,!0))},P._fillValue=function(){P._hasValue=!0,u(!0,!1,!0)},P._generateContent=function(){var t,s,a,n=1,i="",r="";for(r+='<div class="mbsc-np-hdr"><div role="button" tabindex="0" aria-label="'+T.deleteText+'" class="mbsc-np-del mbsc-fr-btn-e mbsc-ic mbsc-ic-'+T.deleteIcon+'"></div><div class="mbsc-np-dsp">',i=T.template.replace(/d/g,'<span class="mbsc-np-ph">'+C+"</span>").replace(/&#100;/g,"d"),i=i.replace(/{([a-zA-Z0-9]*)\:?([a-zA-Z0-9\-\_]*)}/g,'<span class="mbsc-np-cph" data-var="$1" data-ph="$2">$2</span>'),r+=i,r+="</div></div>",r+='<div class="mbsc-np-tbl-c mbsc-w-p"><div class="mbsc-np-tbl">',t=0;t<4;t++){for(r+='<div class="mbsc-np-row">',s=0;s<3;s++)a=n,10==n||12==n?a="":11==n&&(a=0),""===a?10==n&&T.leftKey?r+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(T.leftKey.variable?'data-var="'+T.leftKey.variable+'"':"")+' data-val="'+(T.leftKey.value||"")+'" '+(T.leftKey.track!==e?' data-track="'+T.leftKey.track+'"':"")+">"+T.leftKey.text+"</div>":12==n&&T.rightKey?r+='<div role="button" tabindex="0" class="mbsc-np-btn mbsc-np-btn-custom mbsc-fr-btn-e" '+(T.rightKey.variable?'data-var="'+T.rightKey.variable+'"':"")+' data-val="'+(T.rightKey.value||"")+'" '+(T.rightKey.track!==e?' data-track="'+T.rightKey.track+'"':"")+" >"+T.rightKey.text+"</div>":r+='<div class="mbsc-np-btn mbsc-np-btn-empty"></div>':r+='<div tabindex="0" role="button" class="mbsc-np-btn mbsc-fr-btn-e" data-val="'+a+'">'+a+"</div>",n++;r+="</div>"}return r+="</div></div>"},P._markupReady=function(){x=P._markup,o()},P._attachEvents=function(t){t.on("keydown",function(s){var n;B[s.keyCode]!==e?(n=a('.mbsc-np-btn[data-var="sign:-:"]',t),n.length&&(q.sign=107==s.keyCode?"-":"",h(n))):U[s.keyCode]!==e?m(a('.mbsc-np-btn[data-val="'+U[s.keyCode]+'"]',t),U[s.keyCode]):8==s.keyCode&&(s.preventDefault(),f())}),P.tap(a(".mbsc-np-btn",t),function(){var e=a(this);e.hasClass("mbsc-np-btn-custom")?h(e):m(e,+e.attr("data-val"))},!1,30,!0),a(".mbsc-np-del",t).on("touchstart mousedown keydown",v).on("touchmove mousemove",g).on("keyup mouseup touchend",y)},P.__init=function(){T=P.settings,T.cssClass=(T.cssClass||"")+" mbsc-np",T.template=T.template.replace(/\\d/,"&#100;"),C=T.placeholder,E=(T.template.match(/d/g)||[]).length,w="mbsc-fr-btn-d "+(T.disabledClass||""),M=T.mask,F=P.trigger,M&&Y.is("input")&&Y.attr("type","password")},P._indexOf=function(e,t){var s;for(s=0;s<e.length;++s)if(e[s].toString()===t.toString())return s;return-1},n||P.init(s)},c.Numpad.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"numpad",_defaults:a.extend({},c.Frame.prototype._defaults,{template:"dd.dd",placeholder:"0",deleteIcon:"backspace",allowLeadingZero:!1,headerText:!1,fill:"rtl",deleteText:"Delete",decimalSeparator:".",thousandsSeparator:",",validate:o,parseValue:o,formatValue:function(e,t,s){var n,i=1,r=s.settings,l=r.placeholder,o=r.template,c=e.length,u=o.length,d="";for(n=0;n<u;n++)"d"==o[u-n-1]?(d=i<=c?e[c-i]+d:l+d,i++):d=o[u-n-1]+d;return a.each(t,function(e,t){d=d.replace("{"+e+"}",t)}),a("<div>"+d+"</div>").text()}})},s.themes.numpad=s.themes.frame,s.presetShort("numpad","Numpad",!1)}(),function(){var e=t,s=e.$,a={min:0,max:99.99,scale:2,prefix:"",suffix:"",returnAffix:!1};e.presets.numpad.decimal=function(t){function n(e,t){for(var s,a=e.slice(0),n=0;a.length;)n=10*n+a.shift();for(s=0;s<l.scale;s++)n/=10;return t?n*-1:n}function i(e){return n(e).toFixed(l.scale).replace(".",l.decimalSeparator).replace(/\B(?=(\d{3})+(?!\d))/g,l.thousandsSeparator)}var r=s.extend({},t.settings),l=s.extend(t.settings,a,r),o=l.min<0;return t.getVal=function(s){var a=t._getVal(s);return e.util.isNumeric(a)?+a:a},{template:(o?"{sign}":"")+l.prefix.replace(/d/g,"\\d")+Array((Math.floor(Math.max(l.max,Math.abs(l.min)))+"").length+1).join("d")+(l.scale?"."+Array(l.scale+1).join("d"):"")+l.suffix.replace(/d/g,"\\d"),leftKey:o?{text:"-/+",variable:"sign:-:",track:!1}:void 0,parseValue:function(e){var t,s,a=e||l.defaultValue,n=[];if(a&&(a=(a+"").replace(l.decimalSeparator,".").replace(l.thousandsSeparator,""),s=a.match(/\d+\.?\d*/g)))for(s=(+s[0]).toFixed(l.scale),t=0;t<s.length;t++)"."!=s[t]&&(+s[t]?n.push(+s[t]):n.length&&n.push(0));return e<0&&n.push("sign:-"),n},formatValue:function(e,t){var s=i(e);return(n(e,t&&"-"==t.sign)<0?"-":"")+(l.returnAffix?l.prefix+s+l.suffix:s)},validate:function(e){var a=e.values,r=i(a),o=n(a,e.variables&&"-"==e.variables.sign),c=[];return a.length||l.allowLeadingZero||c.push(0),t.isVisible()&&s(".mbsc-np-dsp",t._markup).html((e.variables.sign||"")+l.prefix+r+l.suffix),{disabled:c,invalid:o>l.max||o<l.min||!!l.invalid&&t._indexOf(l.invalid,o)!=-1}}}}}(),function(){function e(e){for(var t=0,s=1,a=0;e.length;)t>3?s=3600:t>1&&(s=60),a+=e.pop()*s*(t%2?10:1),t++;return a}var s=t,a=s.$,n=s.presets.numpad,i=["h","m","s"],r={min:0,max:362439,defaultValue:0,hourTextShort:"h",minuteTextShort:"m",secTextShort:"s"};n.timespan=function(t){function n(e){var t,s="",n=3600;return a(i).each(function(a,i){t=Math.floor(e/n),e-=t*n,n/=60,(t>0||"s"==i&&!s)&&(s=s+(s?" ":"")+t+c[i])}),s}var l=a.extend({},t.settings),o=a.extend(t.settings,r,l),c={h:o.hourTextShort.replace(/d/g,"\\d"),m:o.minuteTextShort.replace(/d/g,"\\d"),s:o.secTextShort.replace(/d/g,"\\d")},u='d<span class="mbsc-np-sup mbsc-np-time">'+c.s+"</span>";return o.max>9&&(u="d"+u),o.max>99&&(u='<span class="mbsc-np-ts-m">'+(o.max>639?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+c.m+"</span>"+u),o.max>6039&&(u='<span class="mbsc-np-ts-h">'+(o.max>38439?"d":"")+'d</span><span class="mbsc-np-sup mbsc-np-time">'+c.h+"</span>"+u),t.setVal=function(e,a,i,r){return s.util.isNumeric(e)&&(e=n(e)),t._setVal(e,a,i,r)},t.getVal=function(s){return t._hasValue||s?e(t.getArrayVal(s)):null},{template:u,parseValue:function(e){var t,s=e||n(o.defaultValue),r=[];return s&&a(i).each(function(e,a){t=new RegExp("(\\d+)"+c[a],"gi").exec(s),t?(t=+t[1],t>9?(r.push(Math.floor(t/10)),r.push(t%10)):(r.length&&r.push(0),(t||r.length)&&r.push(t))):r.length&&(r.push(0),r.push(0))}),r},formatValue:function(t){return n(e(t))},validate:function(s){var a=s.values,n=e(a.slice(0)),i=[];return a.length||i.push(0),{disabled:i,invalid:n>o.max||n<o.min||!!o.invalid&&t._indexOf(o.invalid,+n)!=-1}}}}}(),function(){var e=t,s=e.$,a={timeFormat:"hh:ii A",amText:"am",pmText:"pm"};e.presets.numpad.time=function(e){function t(e,t){var a,n="";for(a=0;a<e.length;++a)n+=e[a]+(a%2==(e.length%2==1?0:1)&&a!=e.length-1?":":"");return s.each(t,function(e,t){n+=" "+t}),n}function n(e){var t,s,a,n,i,c,u,g,y,x,w=[],C=2*l.length;if(d=C,e.length||(o&&(w.push(0),w.push(r.leftKey.value)),w.push(r.rightKey.value)),!o&&(C-e.length<2||1!=e[0]&&(e[0]>2||e[1]>3)&&C-e.length<=2)&&(w.push("30"),w.push("00")),(o?e[0]>1||e[1]>2:1!=e[0]&&(e[0]>2||e[1]>3))&&e[0]&&(e.unshift(0),d=C-1),e.length==C)for(t=0;t<=9;++t)w.push(t);else if(1==e.length&&o&&1==e[0]||e.length&&e.length%2==0||!o&&2==e[0]&&e[1]>3&&e.length%2==1)for(t=6;t<=9;++t)w.push(t);if(y=void 0!==e[1]?""+e[0]+e[1]:"",x=+p==+(void 0!==e[3]?""+e[2]+e[3]:""),r.invalid)for(t=0;t<r.invalid.length;++t)if(c=r.invalid[t].getHours(),u=r.invalid[t].getMinutes(),g=r.invalid[t].getSeconds(),c==+y){if(2==l.length&&(u<10?0:+(""+u)[0])==+e[2]){w.push(u<10?u:+(""+u)[1]);break}if((g<10?0:+(""+g)[0])==+e[4]){w.push(g<10?g:+(""+g)[1]);break}}if(r.min||r.max){if(s=+m==+y,a=+h==+y,i=a&&x,n=s&&x,0===e.length){for(t=o?2:m>19?m[0]:3;t<=(1==m[0]?9:m[0]-1);++t)w.push(t);if(m>=10&&(w.push(0),2==m[0]))for(t=3;t<=9;++t)w.push(t);if(h&&h<10||m&&m>=10)for(t=h&&h<10?+h[0]+1:0;t<(m&&m>=10?m[0]:10);++t)w.push(t)}if(1==e.length){if(0===e[0])for(t=0;t<m[0];++t)w.push(t);if(m&&0!==e[0]&&(o?1==e[0]:2==e[0]))for(t=o?3:4;t<=9;++t)w.push(t);if(e[0]==m[0])for(t=0;t<m[1];++t)w.push(t);if(e[0]==h[0]&&!o)for(t=+h[1]+1;t<=9;++t)w.push(t)}if(2==e.length&&(s||a))for(t=a?+p[0]+1:0;t<(s?+f[0]:10);++t)w.push(t);if(3==e.length&&(a&&e[2]==p[0]||s&&e[2]==f[0]))for(t=a&&e[2]==p[0]?+p[1]+1:0;t<(s&&e[2]==f[0]?+f[1]:10);++t)w.push(t);if(4==e.length&&(n||i))for(t=i?+v[0]+1:0;t<(n?+b[0]:10);++t)w.push(t);if(5==e.length&&(n&&e[4]==b[0]||i&&e[4]==v[0]))for(t=i&&e[4]==v[0]?+v[1]+1:0;t<(n&&e[4]==b[0]?+b[1]:10);++t)w.push(t)}return w}var i=s.extend({},e.settings),r=s.extend(e.settings,a,i),l=r.timeFormat.split(":"),o=r.timeFormat.match(/a/i),c=o?"a"==o[0]?r.amText:r.amText.toUpperCase():"",u=o?"a"==o[0]?r.pmText:r.pmText.toUpperCase():"",d=0,m=r.min?""+r.min.getHours():"",h=r.max?""+r.max.getHours():"",f=r.min?""+(r.min.getMinutes()<10?"0"+r.min.getMinutes():r.min.getMinutes()):"",p=r.max?""+(r.max.getMinutes()<10?"0"+r.max.getMinutes():r.max.getMinutes()):"",b=r.min?""+(r.min.getSeconds()<10?"0"+r.min.getSeconds():r.min.getSeconds()):"",v=r.max?""+(r.max.getSeconds()<10?"0"+r.max.getSeconds():r.max.getSeconds()):"";return r.min&&r.min.setFullYear(2014,7,20),r.max&&r.max.setFullYear(2014,7,20),{placeholder:"-",allowLeadingZero:!0,template:(3==l.length?"dd:dd:dd":2==l.length?"dd:dd":"dd")+(o?'<span class="mbsc-np-sup">{ampm:--}</span>':""),leftKey:o?{text:c,variable:"ampm:"+c,value:"00"}:{text:":00",value:"00"},rightKey:o?{text:u,variable:"ampm:"+u,value:"00"}:{text:":30",value:"30"},parseValue:function(e){var t,s,a=e||r.defaultValue,n=[];if(a){if(a+="",s=a.match(/\d/g))for(t=0;t<s.length;t++)n.push(+s[t]);o&&n.push("ampm:"+(a.match(new RegExp(r.pmText,"gi"))?u:c))}return n},formatValue:function(e,s){return t(e,s)},validate:function(s){var a=s.values,i=s.variables,l=t(a,i),c=a.length>=3?new Date(2014,7,20,""+a[0]+(a.length%2==0?a[1]:""),""+a[a.length%2==0?2:1]+a[a.length%2==0?3:2]):"";return{disabled:n(a),length:d,invalid:(o?!new RegExp("^(0?[1-9]|1[012])(:[0-5]\\d)?(:[0-5][0-9]) (?:"+r.amText+"|"+r.pmText+")$","i").test(l):!/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(l))||!!r.invalid&&e._indexOf(r.invalid,c)!=-1||!((!r.min||r.min<=c)&&(!r.max||c<=r.max))}}}}}(),function(){var e=t,s=e.$,n={dateOrder:"mdy",dateFormat:"mm/dd/yy",delimiter:"/"};e.presets.numpad.date=function(e){function t(e){return e%4==0&&e%100!=0||e%400==0}
function i(e){var s,a,n,i,r,u=[],d=void 0!==e[l+3]?""+e[l]+e[l+1]+e[l+2]+e[l+3]:"",m=void 0!==e[o+1]?""+e[o]+e[o+1]:"",f=void 0!==e[c+1]?""+e[c]+e[c+1]:"",w=""+h.getMaxDayOfMonth(d||2012,m-1||0),C=y===d&&+p==+m,_=x===d&&+b==+m;if(h.invalid)for(s=0;s<h.invalid.length;++s){if(n=h.getYear(h.invalid[s]),i=h.getMonth(h.invalid[s]),r=h.getDay(h.invalid[s]),n==+d&&i+1==+m&&(r<10?0:+(""+r)[0])==+e[c]){u.push(r<10?r:+(""+r)[1]);break}if(i+1==+m&&r==+f&&(""+n).substring(0,3)==""+e[l]+e[l+1]+e[l+2]){u.push((""+n)[3]);break}if(n==+d&&r==+f&&(i<10?0:+(""+(i+1))[0])==+e[o]){u.push(i<10?i:+(""+(i+1))[1]);break}}if("31"!=f||e.length!=o&&e.length!=o+1||(1!=e[o]?u.push(2,4,6,9,11):u.push(1)),"30"==f&&0===e[o]&&e.length<=o+1&&u.push(2),e.length==o){for(s=x===d&&+b<10?1:2;s<=9;++s)u.push(s);y===d&&+p>=10&&u.push(0)}if(e.length==o+1){if(1==e[o]){for(s=x===d?+b[1]+1:3;s<=9;++s)u.push(s);if(y==d)for(s=0;s<+p[1];++s)u.push(s)}if(0===e[o]&&(u.push(0),x===d||y===d))for(s=x===d?+f>+g?+b:+b+1:0;s<=(y===d?+p-1:9);++s)u.push(s)}if(e.length==c){for(s=_?1+(+g>10?+g[0]:0):+w[0]+1;s<=9;++s)u.push(s);if(C)for(s=0;s<(+v<10?0:v[0]);++s)u.push(s)}if(e.length==c+1){if(e[c]>=3||"02"==m)for(s=+w[1]+1;s<=9;++s)u.push(s);if(_&&+g[0]==e[c])for(s=+g[1]+1;s<=9;++s)u.push(s);if(C&&v[0]==e[c])for(s=0;s<+v[1];++s)u.push(s);if(0===e[c]&&(u.push(0),_||C))for(s=_?+g+1:1;s<=(C?+v-1:9);++s)u.push(s)}if(void 0!==e[l+2]&&"02"==m&&"29"==f)for(a=+(""+e[l]+e[l+1]+e[l+2]+0);a<=+(""+e[l]+e[l+1]+e[l+2]+9);++a)u.push(t(a)?"":a%10);if(e.length==l){if(h.min)for(s=0;s<+y[0];++s)u.push(s);if(h.max)for(s=+x[0]+1;s<=9;++s)u.push(s);u.push(0)}if(h.min||h.max)for(a=1;a<4;++a)if(e.length==l+a){if(e[l+a-1]==+y[a-1]&&(3!=a||e[l+a-2]==+y[a-2]))for(s=0;s<+y[a]+(3==a&&e[o+1]&&+p>+m?1:0);++s)u.push(s);if(e[l+a-1]==+x[a-1]&&(3!=a||e[l+a-2]==+x[a-2]))for(s=+x[a]+(3==a&&+b<+m?0:1);s<=9;++s)u.push(s)}return u}function r(e){return new Date(+(""+e[l]+e[l+1]+e[l+2]+e[l+3]),+(""+e[o]+e[o+1])-1,+(""+e[c]+e[c+1]))}var l,o,c,u,d=[],m=s.extend({},e.settings),h=s.extend(e.settings,a.defaults,n,m),f=h.dateOrder,p=h.min?""+(h.getMonth(h.min)+1):0,b=h.max?""+(h.getMonth(h.max)+1):0,v=h.min?""+h.getDay(h.min):0,g=h.max?""+h.getDay(h.max):0,y=h.min?""+h.getYear(h.min):0,x=h.max?""+h.getYear(h.max):0;for(f=f.replace(/y+/gi,"yyyy"),f=f.replace(/m+/gi,"mm"),f=f.replace(/d+/gi,"dd"),l=f.toUpperCase().indexOf("Y"),o=f.toUpperCase().indexOf("M"),c=f.toUpperCase().indexOf("D"),f="",d.push({val:l,n:"yyyy"},{val:o,n:"mm"},{val:c,n:"dd"}),d.sort(function(e,t){return e.val-t.val}),s.each(d,function(e,t){f+=t.n}),l=f.indexOf("y"),o=f.indexOf("m"),c=f.indexOf("d"),f="",u=0;u<8;++u)f+="d",u+1!=l&&u+1!=o&&u+1!=c||(f+=h.delimiter);return e.getVal=function(t){return e._hasValue||t?r(e.getArrayVal(t)):null},{placeholder:"-",fill:"ltr",allowLeadingZero:!0,template:f,parseValue:function(e){var t,s=[],n=e||h.defaultValue,i=a.parseDate(h.dateFormat,n,h);if(n)for(t=0;t<d.length;++t)s=/m/i.test(d[t].n)?s.concat(((h.getMonth(i)<9?"0":"")+(h.getMonth(i)+1)).split("")):/d/i.test(d[t].n)?s.concat(((h.getDay(i)<10?"0":"")+h.getDay(i)).split("")):s.concat((h.getYear(i)+"").split(""));return s},formatValue:function(e){return a.formatDate(h.dateFormat,r(e),h)},validate:function(t){var s=t.values,a=r(s);return{disabled:i(s),invalid:!("Invalid Date"!=a&&(!h.min||h.min<=a)&&(!h.max||a<=h.max))||!!h.invalid&&e._indexOf(h.invalid,a)!=-1}}}}}(),e.module("mobiscroll-numpad",[]).directive("mobiscrollNumpad",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollNumpad",{component:"Numpad"})}]),function(e,s,a){var n=t,i=n.$,r=i.extend,l=n.classes,o=1;l.MenuStrip=function(t,s){function c(e){clearTimeout(k),k=setTimeout(function(){p("load"!==e.type)},200)}function u(e,t){if(e.length){var s=e.offset().left,n=e[0].offsetLeft,r=e[0].offsetWidth,l=v.offset().left;b=e,t===a&&(t=!D),A&&t&&(D?e.attr("data-selected")?m(e):d(e):(m(i(".mbsc-ms-item-sel",W)),d(e))),V&&(n=N-n-r),"a"==O?s<l?$.scroll(V?n+r-C:-n,Y,!0):s+r>l+C&&$.scroll(V?n:C-n-r,Y,!0):$.scroll(C/2-n-r/2,Y,!0),t&&E("onItemTap",{target:e[0]})}}function d(e){e.addClass(I).attr("data-selected","true").attr("aria-selected","true")}function m(e){e.removeClass(I).removeAttr("data-selected").removeAttr("aria-selected")}function h(e){return"object"!=typeof e&&(e=W.children('[data-id="'+e+'"]')),i(e)}function f(){W.find(".mbsc-ripple").remove(),W.children().each(function(e){var t,s=i(this),a=A&&"true"==s.attr("data-selected"),n="true"==s.attr("data-disabled"),r=s.attr("data-icon"),l=s.attr("data-ref");l||(l=o++),0===e&&(y=s),A&&!D&&a&&(b=s),r&&(_=!0),s.text()&&(T=!0),t="mbsc-ms-item mbsc-btn-e "+(L.itemClass||"")+(a?I:"")+(n?" mbsc-btn-d "+(L.disabledClass||""):"")+(r?" mbsc-ms-ic mbsc-ic mbsc-ic-"+r:""),s.attr("data-ref",l).attr("data-role","button").attr("aria-selected",a?"true":"false").attr("aria-disabled",n?"true":"false").removeClass(H[l]).addClass(t),H[l]=t}),_&&v.addClass("mbsc-ms-icons"),T&&v.addClass("mbsc-ms-txt")}function p(e,s){var a=L.itemWidth,i=L.layout;P.contWidth=C=v.width(),e&&S===C||!C||(S=C,n.util.isNumeric(i)&&(M=C?C/i:a)<a&&(i="liquid"),a&&("liquid"==i?M=C?C/Math.min(Math.floor(C/a),W.children().length):a:"fixed"==i&&(M=a)),M&&W.children().css("width",M+"px"),"inline"!=L.display&&g.find(".mbsc-page").css("padding-"+L.display,t.offsetHeight+"px"),P.totalWidth=N=t.offsetWidth,r($.settings,{contSize:C,maxSnapScroll:!!L.paging&&1,maxScroll:0,minScroll:N>C?C-N:0,snap:L.paging?C:!!L.snap&&(M||".mbsc-ms-item"),elastic:N>C&&(M||C)}),$.refresh(s))}var b,v,g,y,x,w,C,_,T,M,D,S,k,V,A,I,$,O,L,N,F,E,H={},Y=1e3,P=this,W=i(t);l.Base.call(this,t,s,!0),P.navigate=function(e,t){u(h(e),t)},P.next=function(e){var t=b?b.next():y;t.length&&(b=t,u(b,e))},P.prev=function(e){var t=b?b.prev():y;t.length&&(b=t,u(b,e))},P.select=function(e){D||m(i(".mbsc-ms-item-sel",W)),d(h(e))},P.deselect=function(e){m(h(e))},P.enable=function(e){h(e).removeClass("mbsc-btn-d").removeAttr("data-disabled").removeAttr("aria-disabled")},P.disable=function(e){h(e).addClass("mbsc-btn-d").attr("data-disabled","true").attr("aria-disabled","true")},P.refresh=P.position=function(e){f(),p(!1,e)},P._init=function(){g=i(L.context),x=i("body"==L.context?e:L.context),"tabs"==L.type?(L.select=L.select||"single",L.variant=L.variant||"b"):"options"==L.type?(L.select=L.select||"multiple",L.variant=L.variant||"a"):"menu"==L.type&&(L.select=L.select||"off",L.variant=L.variant||"a"),L.itemWidth&&L.snap===a&&(L.snap=!0),V=L.rtl,O=L.variant,A="off"!=L.select,D="multiple"==L.select,I=" mbsc-ms-item-sel "+(L.activeClass||""),w="mbsc-ms-c mbsc-no-touch mbsc-ms-"+O+" mbsc-ms-"+L.display+" mbsc-"+L.theme+" "+(L.baseTheme?" mbsc-"+L.baseTheme:"")+" "+(L.cssClass||"")+" "+(L.wrapperClass||"")+(V?" mbsc-ms-rtl":" mbsc-ms-ltr")+(L.itemWidth?" mbsc-ms-hasw":"")+("body"==L.context?"":" mbsc-ms-ctx")+(A?"":" mbsc-ms-nosel"),v?v.attr("class",w):(v=i('<div class="'+w+'"><div class="mbsc-ms-sc"></div></div>').insertAfter(W),v.find(".mbsc-ms-sc").append(W),$=new n.classes.ScrollView(v[0],{axis:"X",contSize:0,maxScroll:0,maxSnapScroll:1,minScroll:0,snap:1,elastic:1,rtl:V,mousewheel:L.mousewheel,onStart:function(e){F||"touchstart"!=e.domEvent.type||(F=!0,g.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},onBtnTap:function(e){u(i(e.target),!0)},onGestureStart:function(e){E("onGestureStart",e)},onGestureEnd:function(e){E("onGestureEnd",e)},onMove:function(e){E("onMove",e)},onAnimationStart:function(e){E("onAnimationStart",e)},onAnimationEnd:function(e){E("onAnimationEnd",e)}})),W.css("display","").addClass("mbsc-ms "+(L.groupClass||"")),f(),E("onMarkupReady",{target:v[0]}),p(),v.find("img").on("load",c),x.on("orientationchange resize",c)},P._destroy=function(){"inline"!=L.display&&g.find(".mbsc-page").css("padding-"+L.display,""),x.off("orientationchange resize",c),W.removeClass("mbsc-ms mbsc-ms-a mbsc-ms-b").insertAfter(v).find(".mbsc-ms-item").each(function(){var e=i(this);e.width("").removeClass(H[e.attr("data-ref")])}),v.remove(),$.destroy()},L=P.settings,E=P.trigger,P.init(s)},l.MenuStrip.prototype={_class:"menustrip",_hasDef:!0,_hasTheme:!0,_hasLang:!0,_defaults:{context:"body",type:"options",display:"inline",layout:"liquid"}},n.presetShort("menustrip","MenuStrip")}(window,document),function(){var s=t.$,a="mobiscrollMenustrip",n=["ng-repeat","ng:repeat","data-ng-repeat","x-ng-repeat","ng_repeat"];e.module("mobiscroll-menustrip",[]).directive("mobiscrollRepeatRender",function(){return function(e){e.$emit("mbscRepeatRender")}}).directive(a,["$parse","$timeout",function(e,i){var r=t.ng.getDDO(e,a,{component:"MenuStrip"},function(){},function(){});return r.compile=function(r){var l,o,c=s(r[0]);return c.find("li").each(function(){for(o=0;o<n.length;o++)if(s(this).attr(n[o]))return l=!0,!1}),l&&c.children().attr("mobiscroll-repeat-render",""),function(n,r,o){var c,u,d=s(r[0]),m=n.$eval(o[a]||"{}");l?n.$on("mbscRepeatRender",function(){clearTimeout(u),u=setTimeout(function(){c=new t.classes.MenuStrip(r[0],m),o.mobiscrollInstance&&e(o.mobiscrollInstance).assign(n,c)},1)}):d.children().length&&i(function(){c=new t.classes.MenuStrip(r[0],m),o.mobiscrollInstance&&e(o.mobiscrollInstance).assign(n,c)})}},r}])}(),function(e){var s=t,a=s.$,n=s.classes;n.Widget=function(e,t,s){function i(e){a(".mbsc-fr-c",e).hasClass("mbsc-wdg-c")||(a(".mbsc-fr-c",e).addClass("mbsc-wdg-c").append(c.show()),a(".mbsc-w-p",e).length||a(".mbsc-fr-c",e).addClass("mbsc-w-p"))}var r,l,o,c=a(e),u=this;n.Frame.call(this,e,t,!0),u._generateContent=function(){return""},u._markupReady=function(e){"inline"!=r.display&&i(e)},u._markupInserted=function(e){"inline"==r.display&&i(e),e.trigger("mbsc-enhance",[{theme:r.theme,lang:r.lang}])},u._markupRemove=function(){c.hide(),l?l.prepend(c):o.after(c)},u.__processSettings=function(){r=u.settings,u.buttons.ok={text:r.okText,icon:r.okIcon,handler:"set"},r.buttons=r.buttons||("inline"==r.display?[]:["ok"]),l||o||(o=c.prev(),o.length||(l=c.parent())),c.hide()},u.__init=function(){r.cssClass=(r.cssClass||"")+" mbsc-wdg"},s||u.init(t)},n.Widget.prototype={_hasDef:!0,_hasTheme:!0,_hasContent:!0,_class:"widget",_defaults:a.extend({},n.Frame.prototype._defaults,{okText:"OK",headerText:!1})},s.themes.widget=s.themes.frame,s.presetShort("widget","Widget",!1)}(),e.module("mobiscroll-widget",[]).directive("mobiscrollWidget",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollWidget",{component:"Widget"})}]),function(e,s){var a=t,n=a.$;a.classes.Page=function(e,t){var s="",i=n(e),r=this,l=r.settings;a.classes.Base.call(this,e,t,!0),r._init=function(){var e=l.context,t=n(e),a=t.find(".mbsc-ms-top .mbsc-ms"),r=t.find(".mbsc-ms-bottom .mbsc-ms"),o={};"body"==e?n("body,html").addClass("mbsc-page-ctx"):t.addClass("mbsc-page-ctx"),s&&i.removeClass(s),a.length&&(o.paddingTop=a[0].offsetHeight),r.length&&(o.paddingBottom=r[0].offsetHeight),s="mbsc-page mbsc-"+l.theme+(l.baseTheme?" mbsc-"+l.baseTheme:"")+(l.rtl?" mbsc-rtl":" mbsc-ltr"),i.addClass(s).css(o)},r._destroy=function(){i.removeClass(s)},l=r.settings,r.init(t)},a.classes.Page.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"page",_defaults:{context:"body"}},a.themes.page.mobiscroll={},a.presetShort("page","Page"),n(function(){n("[mbsc-page]").each(function(){new a.classes.Page(this)}),n(e).on("mbsc-enhance",function(e,t){n(e.target).is("[mbsc-page]")?new a.classes.Page(e.target,t):n("[mbsc-page]",e.target).each(function(){new a.classes.Page(this,t)})})})}(document),e.module("mobiscroll-page",[]).directive("mobiscrollPage",["$parse",function(e){return{restrict:"A",link:function(s,a,n){var i=new t.classes.Page(a[0],t.ng.getOpt(s,n,"mobiscrollPage",!0));n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(s,i)}}}]),function(e,s){var a,n=function(){},i=t,r=i.$,l=i.platform,o=i.util,c=o.getCoord,u=o.testTouch;"android"==l.name&&l.majorVersion<5&&e.addEventListener("change",function(e){i.tapped&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0),i.classes.Form=function(t,s){function l(e){var t={},s=e[0],a=e.parent(),n=e.attr("data-password-toggle"),i=e.attr("data-icon-show")||"eye",l=e.attr("data-icon-hide")||"eye-blocked";n&&(t.right="password"==s.type?i:l),o.addIcon(e,t),n&&w.tap(a.find(".mbsc-right-ic").addClass("mbsc-input-toggle"),function(){"text"==s.type?(s.type="password",r(this).addClass("mbsc-ic-"+i).removeClass("mbsc-ic-"+l)):(s.type="text",r(this).removeClass("mbsc-ic-"+i).addClass("mbsc-ic-"+l))})}function d(){var e=this;if(!r(e).hasClass("mbsc-textarea-scroll")){var t=e.scrollHeight-e.offsetHeight,s=e.offsetHeight+t;e.scrollTop=0,e.style.height=s+"px"}}function m(e){var t,s,a,n=r(e).attr("rows")||6;e.offsetHeight&&(e.style.height="",a=e.scrollHeight-e.offsetHeight,t=e.offsetHeight+(a>0?a:0),s=Math.round(t/24),s>n?(e.scrollTop=t,t=24*n+(t-24*s),r(e).addClass("mbsc-textarea-scroll")):r(e).removeClass("mbsc-textarea-scroll"),t&&(e.style.height=t+"px"))}function h(){clearTimeout(b),b=setTimeout(function(){r("textarea.mbsc-control",y).each(function(){m(this)})},100)}function f(e){return!(!e.id||!i.instances[e.id])}var p,b,v,g="",y=r(t),x=[],w=this;i.classes.Base.call(this,t,s,!0),w.refresh=function(t){r("input,select,textarea,progress,button",y).each(function(){function s(){r("input",S).val(M.selectedIndex!=-1?M.options[M.selectedIndex].text:"")}var n,h,g,C,_,T,M=this,D=r(M),S=D.parent(),k=D.attr("data-role"),V=D.attr("type")||M.nodeName.toLowerCase();if("false"!=D.attr("data-enhance")){if(/(switch|range|segmented|stepper)/.test(k)&&(V=k),D.hasClass("mbsc-control"))/(switch|range|progress)/.test(V)&&f(M)&&!t&&i.instances[M.id].option({theme:p.theme,lang:p.lang,rtl:p.rtl,onText:p.onText,offText:p.offText,stopProp:p.stopProp});else{switch(D.next().hasClass("mbsc-fr")&&(n=D.next()),"button"!=V&&"submit"!=V&&"segmented"!=V&&(S.find("label").addClass("mbsc-label"),S.contents().filter(function(){return 3==this.nodeType&&this.nodeValue&&/\S/.test(this.nodeValue)}).each(function(){r('<span class="mbsc-label"></span>').insertAfter(this).append(this)})),V){case"button":case"submit":g=D.attr("data-icon"),D.addClass("mbsc-btn"),g&&(D.prepend('<span class="mbsc-btn-ic mbsc-ic mbsc-ic-'+g+'"></span>'),""===D.text()&&D.addClass("mbsc-btn-icon-only"));break;case"switch":f(M)||x.push(new i.classes.Switch(M,{theme:p.theme,lang:p.lang,rtl:p.rtl,onText:p.onText,offText:p.offText,stopProp:p.stopProp}));break;case"checkbox":S.prepend(D).addClass("mbsc-checkbox mbsc-control-w"),D.after('<span class="mbsc-checkbox-box"></span>');break;case"range":S.hasClass("mbsc-slider")||f(M)||x.push(new i.classes.Slider(M,{theme:p.theme,lang:p.lang,rtl:p.rtl,stopProp:p.stopProp}));break;case"progress":f(M)||x.push(new i.classes.Progress(M,{theme:p.theme,lang:p.lang,rtl:p.rtl}));break;case"radio":S.addClass("mbsc-radio mbsc-control-w"),D.after('<span class="mbsc-radio-box"><span></span></span>');break;case"select":case"select-one":case"select-multiple":h=D.prev().is("input.mbsc-control")?D.prev():r('<input tabindex="-1" type="text" class="mbsc-control mbsc-control-ev" readonly>'),l(D),S.addClass("mbsc-input mbsc-select mbsc-control-w"+(n?" mbsc-select-inline":"")),D.after(h),h.after('<span class="mbsc-select-ic mbsc-ic mbsc-ic-arrow-down5"></span>');break;case"textarea":l(D),S.addClass("mbsc-input mbsc-textarea mbsc-control-w");break;case"segmented":var A,I;D.parent().hasClass("mbsc-segmented-item")||(I=r('<div class="mbsc-segmented"></div>'),S.after(I),r('input[name="'+D.attr("name")+'"]',y).each(function(e,t){A=r(t).parent().addClass("mbsc-segmented-item"),r('<span class="mbsc-segmented-content">'+(r(t).attr("data-icon")?' <span class="mbsc-ic mbsc-ic-'+r(t).attr("data-icon")+'"></span> ':"")+"</span>").append(A.contents()).appendTo(A),A.prepend(t),I.append(A)}));break;case"stepper":f(M)||x.push(new i.classes.Stepper(M,{form:w}));break;case"hidden":return;default:l(D),S.addClass("mbsc-input mbsc-control-w")}D.addClass("mbsc-control"),n&&n.insertAfter(S)}D.hasClass("mbsc-control-ev")||(/select/.test(V)&&!D.hasClass("mbsc-comp")&&(D.on("change.mbsc-form",s),s()),"textarea"==V&&D.on("keydown.mbsc-form input.mbsc-form",function(){clearTimeout(b),b=setTimeout(function(){m(M)},100)}).on("scroll.mbsc-form",d),D.addClass("mbsc-control-ev").on("touchstart.mbsc-form mousedown.mbsc-form",function(e){u(e,this)&&(_=c(e,"X"),T=c(e,"Y"),"touchstart"==e.type&&y.removeClass("mbsc-no-touch"),a&&a.removeClass("mbsc-active"),M.disabled||(C=!0,a=r(this),r(this).addClass("mbsc-active"),v("onControlActivate",{target:this,domEvent:e})))}).on("touchmove.mbsc-form mousemove.mbsc-form",function(e){(C&&Math.abs(c(e,"X")-_)>9||Math.abs(c(e,"Y")-T)>9)&&(D.removeClass("mbsc-active"),v("onControlDeactivate",{target:D[0],domEvent:e}),C=!1)}).on("touchend.mbsc-form touchcancel.mbsc-form mouseleave.mbsc-form mouseup.mbsc-form",function(t){if(C&&p.tap&&"touchend"==t.type&&!M.readOnly&&(M.focus(),/(button|submit|checkbox|switch|radio)/.test(V)&&t.preventDefault(),!/select/.test(V))){var s=(t.originalEvent||t).changedTouches[0],n=e.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),n.tap=!0,M.mbscChange=!0,M.dispatchEvent(n),o.preventClick()}C&&setTimeout(function(){D.removeClass("mbsc-active"),v("onControlDeactivate",{target:D[0],domEvent:t})},100),C=!1,a=null}))}}),t||h()},w._init=function(){i.themes.form[p.theme]||(p.theme="mobiscroll"),y.hasClass("mbsc-form")||(y.on("touchstart",n).show(),r(window).on("resize orientationchange",h)),g&&y.removeClass(g),g="mbsc-form mbsc-no-touch mbsc-"+p.theme+(p.baseTheme?" mbsc-"+p.baseTheme:"")+(p.rtl?" mbsc-rtl":" mbsc-ltr"),y.addClass(g),w.refresh()},w._destroy=function(){var e;for(y.removeClass(g).off("touchstart",n),r(window).off("resize orientationchange",h),r(".mbsc-control",y).off(".mbsc-form").removeClass("mbsc-control-ev"),e=0;e<x.length;e++)x[e].destroy()},p=w.settings,v=w.trigger,w.init(s)},i.classes.Form.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_class:"form",_defaults:{tap:!0,stopProp:!0,lang:"en"}},i.themes.form.mobiscroll={},i.presetShort("form","Form"),i.classes.Stepper=function(t,a){function n(e){32==e.keyCode&&(e.preventDefault(),C||t.disabled||(g=r(this).addClass("mbsc-active"),p(e)))}function l(e){C&&(e.preventDefault(),b(!0))}function o(s){u(s,this)&&!t.disabled&&(g=r(this).addClass("mbsc-active").trigger("focus"),R&&R.trigger("onControlActivate",{target:g[0],domEvent:s}),p(s),"mousedown"===s.type&&r(e).on("mousemove",m).on("mouseup",d))}function d(t){C&&(t.preventDefault(),b(!0,t),"mouseup"===t.type&&r(e).off("mousemove",m).off("mouseup",d))}function m(e){C&&(S=c(e,"X"),k=c(e,"Y"),T=S-L,M=k-N,(Math.abs(T)>7||Math.abs(M)>7)&&b())}function h(){var e;t.disabled||(e=parseFloat(r(this).val()),f(isNaN(e)?F:e))}function f(e,t,a){W=F,t===s&&(t=!0),a===s&&(a=t),F=e!==s?Math.min(A,Math.max(Math.round(e/$)*$,I)):Math.min(A,Math.max(F+(g.hasClass("mbsc-stepper-minus")?-$:$),I)),_=!0,w.removeClass("mbsc-step-disabled"),t&&P.val(F),F==I?x.addClass("mbsc-step-disabled"):F==A&&y.addClass("mbsc-step-disabled"),F!==W&&a&&P.trigger("change")}function p(e){C||(C=!0,_=!1,L=c(e,"X"),N=c(e,"Y"),clearInterval(V),clearTimeout(V),V=setTimeout(function(){f(),V=setInterval(function(){f()},150)},300))}function b(e,t){clearInterval(V),clearTimeout(V),!_&&e&&f(),C=!1,_=!1,g.removeClass("mbsc-active"),R&&setTimeout(function(){R.trigger("onControlDeactivate",{target:g[0],domEvent:t})},100)}function v(e,t){var a=P.attr(e);return a===s||""===a?t:+a}var g,y,x,w,C,_,T,M,D,S,k,V,A,I,$,O,L,N,F,E,H,Y=this,P=r(t),W=F,R=a.form;i.classes.Base.call(this,t,a,!0),Y.getVal=function(){var e=parseFloat(P.val());return e=isNaN(e)?F:e,Math.min(A,Math.max(Math.round(e/$)*$,I))},Y.setVal=function(e,t,s){e=parseFloat(e),f(isNaN(e)?F:e,t,s)},Y._init=function(e){E=P.parent().hasClass("mbsc-stepper"),H=E?P.closest(".mbsc-stepper-cont"):P.parent(),O=Y.settings,I=e.min===s?v("min",O.min):e.min,A=e.max===s?v("max",O.max):e.max,$=e.step===s?v("step",O.step):e.step,D=P.attr("data-val")||O.val,F=Math.min(A,Math.max(Math.round(+t.value/$)*$||0,I)),E||H.addClass("mbsc-stepper-cont mbsc-control-w").append('<span class="mbsc-segmented mbsc-stepper"></span>').find(".mbsc-stepper").append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-minus '+(F==I?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"><span class="mbsc-ic mbsc-ic-minus"></span></span></span>').append('<span class="mbsc-segmented-item mbsc-stepper-control mbsc-stepper-plus '+(F==A?"mbsc-step-disabled":"")+'"  tabindex="0"><span class="mbsc-segmented-content"> <span class="mbsc-ic mbsc-ic-plus"></span> </span></span>').prepend(P),x=r(".mbsc-stepper-minus",H),y=r(".mbsc-stepper-plus",H),E||("left"==D?(H.addClass("mbsc-stepper-val-left"),P.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):"right"==D?(H.addClass("mbsc-stepper-val-right"),y.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content"></span></span>')):x.after('<span class="mbsc-segmented-item"><span class="mbsc-segmented-content mbsc-stepper-val"></span></span>')),P.val(F).attr("data-role","stepper").attr("min",I).attr("max",A).attr("step",$).on("change",h),w=r(".mbsc-stepper-control",H).on("keydown",n).on("keyup",l).on("mousedown touchstart",o).on("touchmove",m).on("touchend touchcancel",d),P.addClass("mbsc-stepper-ready mbsc-control")},Y._destroy=function(){P.removeClass("mbsc-control").off("change",h),w.off("keydown",n).off("keyup",l).off("mousedown touchstart",o).off("touchmove",m).off("touchend touchcancel",d)},Y.init(a)},i.classes.Stepper.prototype={_class:"stepper",_defaults:{min:0,max:100,step:1}},i.presetShort("stepper","Stepper"),i.classes.Switch=function(e,t){var s,a,n,l=this;t=t||{},r.extend(t,{changeEvent:"click",min:0,max:1,step:1,live:!1,round:!1,handle:!1,highlight:!1}),i.classes.Slider.call(this,e,t,!0),l._readValue=function(){return e.checked?1:0},l._fillValue=function(e,t,a){s.prop("checked",!!e),a&&s.trigger("change")},l._onTap=function(e){l._setVal(e?0:1)},l.__onInit=function(){n=l.settings,s=r(e),a=s.parent(),a.find(".mbsc-switch-track").remove(),a.prepend(s),s.attr("data-role","switch").after('<span class="mbsc-progress-cont mbsc-switch-track"><span class="mbsc-progress-track mbsc-progress-anim"><span class="mbsc-slider-handle-cont"><span class="mbsc-slider-handle mbsc-switch-handle" data-index="0"><span class="mbsc-switch-txt-off">'+n.offText+'</span><span class="mbsc-switch-txt-on">'+n.onText+"</span></span></span></span></span>"),l._$track=a.find(".mbsc-progress-track")},l.getVal=function(){return e.checked},l.setVal=function(e,t,s){l._setVal(e?1:0,t,s)},l.init(t)},i.classes.Switch.prototype={_class:"switch",_css:"mbsc-switch",_hasTheme:!0,_hasLang:!0,_defaults:{stopProp:!0,offText:"Off",onText:"On"}},i.presetShort("switch","Switch"),r(function(){var t="[mbsc-enhance],[mbsc-form]";r(t).each(function(){new i.classes.Form(this)}),r(e).on("mbsc-enhance",function(e,s){r(e.target).is(t)?new i.classes.Form(e.target,s):r(t,e.target).each(function(){new i.classes.Form(this,s)})}),r(e).on("mbsc-refresh",function(e){var s;r(e.target).is(t)?(s=i.instances[e.target.id])&&s.refresh():r(t,e.target).each(function(){(s=i.instances[this.id])&&s.refresh()})})})}(document),function(){var s=+new Date;e.module("mobiscroll-form",[]).directive("mobiscrollForm",["$parse",function(e){return{restrict:"A",compile:function(){return{pre:function(e,a,n){var i=t.ng.getOpt(e,n,"mobiscrollForm",!0),r=n.id;r||(r="mbsc-form-"+s++,a.attr("id",r)),a.attr("mbsc-form-opt",""),t.ng.formOptions[r]={theme:i.theme,lang:i.lang}},post:function(s,a,n){var i=new t.classes.Form(a[0],t.ng.getOpt(s,n,"mobiscrollForm",!0));n.mobiscrollInstance&&e(n.mobiscrollInstance).assign(s,i),s.$on("mbscFormRefresh",function(){i.refresh()})}}}}}]).directive("mobiscrollSwitch",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollSwitch",{component:"Switch"},void 0,void 0,void 0,void 0,!0)}]).directive("mobiscrollStepper",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollStepper",{component:"Stepper"})}]),e.module("mobiscroll-progress",[]).directive("mobiscrollProgress",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollProgress",{component:"Progress"},void 0,void 0,void 0,void 0,!0)}]),e.module("mobiscroll-slider",[]).directive("mobiscrollSlider",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollSlider",{component:"Slider"},void 0,void 0,void 0,void 0,!0)}])}(),function(e,s,a){var n=t,i=n.$,r=i.extend,l=n.util,o=l.datetime,c=o.adjustedDate,u=n.presets.scroller,d={labelsShort:["Yrs","Mths","Days","Hrs","Mins","Secs"],eventText:"event",eventsText:"events"};n.presetShort("eventcalendar"),u.eventcalendar=function(t){function s(t){if(t){if(V[t])return V[t];var s=i('<div style="background-color:'+t+';"></div>').appendTo("body"),a=e.getComputedStyle?getComputedStyle(s[0]):s[0].style,n=a.backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),r=.299*n[0]+.587*n[1]+.114*n[2],l=r>130?"#000":"#fff";return s.remove(),V[t]=l,l}}function a(e){var t=I.labelsShort,s=Math.abs(e)/1e3,a=s/60,n=a/60,i=n/24,r=i/365;return s<45&&Math.round(s)+" "+t[5].toLowerCase()||a<45&&Math.round(a)+" "+t[4].toLowerCase()||n<24&&Math.round(n)+" "+t[3].toLowerCase()||i<30&&Math.round(i)+" "+t[2].toLowerCase()||i<365&&Math.round(i/30)+" "+t[1].toLowerCase()||Math.round(r)+" "+t[0].toLowerCase()}function l(e){return e.sort(function(e,t){var s=e.d||e.start,a=t.d||t.start;return(s.getTime?e.start&&e.end&&e.start.toDateString()!==e.end.toDateString()?1:s.getTime():0)-(a.getTime?t.start&&t.end&&t.start.toDateString()!==t.end.toDateString()?1:a.getTime():0)})}function m(e){var t,s=i(".mbsc-cal-c",g)[0].offsetHeight,a=e[0].offsetHeight,n=e[0].offsetWidth,r=e.offset().top-i(".mbsc-cal-c",g).offset().top,l=e.closest(".mbsc-cal-row").index()<2;t=y.addClass("mbsc-cal-events-t").css({top:l?r+a:"0",bottom:l?"0":s-r}).addClass("mbsc-cal-events-v").height(),y.css(l?"bottom":"top","auto").removeClass("mbsc-cal-events-t"),_.css("max-height",t),C.refresh(),C.scroll(0),l?y.addClass("mbsc-cal-events-b"):y.removeClass("mbsc-cal-events-b"),i(".mbsc-cal-events-arr",y).css("left",e.offset().left-y.offset().left+n/2)}function h(e,n){var r=w[e];if(r){var c,u,d,h,f,p,b='<ul class="mbsc-cal-event-list">';D=0,x=n,n.addClass($).find(".mbsc-cal-day-i").addClass(L),n.hasClass(O)&&n.attr("data-hl","true").removeClass(O),l(r),i.each(r,function(e,t){h=t.d||t.start,f=t.start&&t.end&&t.start.toDateString()!==t.end.toDateString(),d=t.color,p=s(d),c="",u="",h.getTime&&(c=o.formatDate((f?"MM d yy ":"")+I.timeFormat,h)),t.end&&(u=o.formatDate((f?"MM d yy ":"")+I.timeFormat,t.end)),b+='<li role="button" aria-label="'+t.text+(c?", "+I.fromText+" "+c:"")+(u?", "+I.toText+" "+u:"")+'" class="mbsc-cal-event"><div class="mbsc-cal-event-color" style="'+(d?"background:"+d+";":"")+'"></div><div class="mbsc-cal-event-text">'+(h.getTime&&!f?'<div class="mbsc-cal-event-time">'+o.formatDate(I.timeFormat,h)+"</div>":"")+t.text+"</div>"+(t.start&&t.end?'<div class="mbsc-cal-event-dur">'+a(t.end-t.start)+"</div>":"")+"</li>"}),b+="</ul>",T.html(b),t.trigger("onEventBubbleShow",{target:x[0],eventList:y[0]}),m(x),t.tap(i(".mbsc-cal-event",T),function(s){C.scrolled||t.trigger("onEventSelect",{domEvent:s,event:r[i(this).index()],date:e})}),M=!0}}function f(){y&&y.removeClass("mbsc-cal-events-v"),x&&(x.removeClass($).find(".mbsc-cal-day-i").removeClass(L),x.attr("data-hl")&&x.removeAttr("data-hl").addClass(O)),M=!1}function p(){f(),t.redraw()}function b(e){return c(e.getFullYear(),e.getMonth(),e.getDate())}var v,g,y,x,w,C,_,T,M,D,S,k,V={},A=r({},t.settings),I=r(t.settings,d,A),$="mbsc-cal-day-sel mbsc-cal-day-ev",O="mbsc-cal-day-hl",L=I.activeClass||"",N=I.showEventCount,F=0,E=r(!0,[],I.data);return S=u.calbase.call(this,t),v=r({},S),i.each(E,function(e,t){void 0===t._id&&(t._id=F++)}),t.onGenMonth=function(e,s){w=t.prepareObj(E,e,s)},t.getDayProps=function(e){var t,a=!!w[e]&&w[e],n=a?w[e].length+" "+(w[e].length>1?I.eventsText:I.eventText):0,r=a&&a[0]&&a[0].color,l=N&&n?s(r):"",o="",c="";if(a){for(t=0;t<a.length;t++)a[t].icon&&(o+='<span class="mbsc-ic mbsc-ic-'+a[t].icon+'"'+(a[t].text?"":a[t].color?' style="color:'+a[t].color+';"':"")+"></span>\n");for(c='<div class="mbsc-cal-day-m"><div class="mbsc-cal-day-m-t">',t=0;t<a.length;t++)c+='<div class="mbsc-cal-day-m-c"'+(a[t].color?' style="background:'+a[t].color+';"':"")+"></div>";c+="</div></div>"}return{marked:a,selected:!1,cssClass:a?"mbsc-cal-day-marked":"",ariaLabel:N?n:"",markup:N&&n?'<div class="mbsc-cal-day-txt-c"><div class="mbsc-cal-day-txt" title="'+i("<div>"+n+"</div>").text()+'"'+(r?' style="background:'+r+";color:"+l+';text-shadow:none;"':"")+">"+o+n+"</div></div>":N&&o?'<div class="mbsc-cal-day-ic-c">'+o+"</div>":a?c:""}},t.addEvent=function(e){var t=[];return e=r(!0,[],i.isArray(e)?e:[e]),i.each(e,function(e,s){void 0===s._id&&(s._id=F++),E.push(s),t.push(s._id)}),p(),t},t.removeEvent=function(e){e=i.isArray(e)?e:[e],i.each(e,function(e,t){i.each(E,function(e,s){if(s._id===t)return E.splice(e,1),!1})}),p()},t.getEvents=function(e){var s;return e?(e.setHours(0,0,0,0),s=t.prepareObj(E,e.getFullYear(),e.getMonth()),s[e]?l(s[e]):[]):r(!0,[],E)},t.setEvents=function(e){var t=[];return E=r(!0,[],e),i.each(E,function(e,s){void 0===s._id&&(s._id=F++),t.push(s._id)}),p(),t},r(S,{highlight:!1,outerMonthChange:!1,headerText:!1,buttons:"inline"!==I.display?["close"]:I.buttons,onMarkupReady:function(e){v.onMarkupReady.call(this,e),g=i(e.target),N&&i(".mbsc-cal",g).addClass("mbsc-cal-ev"),g.addClass("mbsc-cal-em"),y=i('<div class="mbsc-cal-events '+(I.eventBubbleClass||"")+'"><div class="mbsc-cal-events-arr"></div><div class="mbsc-cal-events-i"><div class="mbsc-cal-events-sc"></div></div></div>').appendTo(i(".mbsc-cal-c",g)),_=i(".mbsc-cal-events-i",y),T=i(".mbsc-cal-events-sc",y),C=new n.classes.ScrollView(_[0]),M=!1,t.tap(_,function(){C.scrolled||f()})},onMonthChange:function(){f()},onSelectShow:function(){f()},onMonthLoaded:function(){k&&(h(k.d,i('.mbsc-cal-day-v[data-full="'+k.full+'"]:not(.mbsc-cal-day-diff)',g)),k=!1)},onDayChange:function(e){var s=e.date,a=b(s),n=i(e.target);return f(),n.hasClass("mbsc-cal-day-ev")||setTimeout(function(){t.changing?k={d:a,full:n.attr("data-full")}:h(a,n)},10),!1},onCalResize:function(){M&&m(x)},onHide:function(){v.onHide.call(t),C&&C.destroy()}}),S}}(window,document),e.module("mobiscroll-eventcalendar",[]).directive("mobiscrollEventcalendar",["$parse",function(s){return{restrict:"A",link:function(a,n,i){var r=new t.classes.Scroller(n[0],e.extend({},a.$eval(i.mobiscrollEventcalendar||"{}"),{preset:"eventcalendar",data:[]}));i.mobiscrollInstance&&s(i.mobiscrollInstance).assign(a,r),a.$watch(function(){return s(i.mobiscrollData)(a)},function(t){void 0===t||e.equals(r.getEvents(),t)||r.setEvents(t)},!0)}}}]),function(){var e=t,s=e.$,a=e.presets.scroller,n={min:0,max:100,defaultUnit:"km",units:["m","km","in","ft","yd","mi"]},i={mm:.001,cm:.01,dm:.1,m:1,dam:10,hm:100,km:1e3,in:.0254,ft:.3048,yd:.9144,ch:20.1168,fur:201.168,mi:1609.344,lea:4828.032};e.presetShort("distance"),a.distance=function(e){var t=s.extend({},n,e.settings);return s.extend(e.settings,t,{sign:!1,convert:function(e,t,s){return e*i[t]/i[s]}}),a.measurement.call(this,e)}}(),function(){var e=t,s=e.$,a=e.presets.scroller,n={min:0,max:100,defaultUnit:"N",units:["N","kp","lbf","pdl"]},i={N:1,kp:9.80665,lbf:4.448222,pdl:.138255};e.presetShort("force"),a.force=function(e){var t=s.extend({},n,e.settings);return s.extend(e.settings,t,{sign:!1,convert:function(e,t,s){return e*i[t]/i[s]}}),a.measurement.call(this,e)}}(),function(){var e=t,s=e.$,a=e.presets.scroller,n={min:0,max:1e3,defaultUnit:"kg",units:["g","kg","oz","lb"],unitNames:{tlong:"t (long)",tshort:"t (short)"}},i={mg:.001,cg:.01,dg:.1,g:1,dag:10,hg:100,kg:1e3,t:1e6,drc:1.7718452,oz:28.3495,lb:453.59237,st:6350.29318,qtr:12700.58636,cwt:50802.34544,tlong:1016046.9088,tshort:907184.74};e.presetShort("mass"),a.mass=function(e){var t=s.extend({},n,e.settings);return s.extend(e.settings,t,{
sign:!1,convert:function(e,t,s){return e*i[t]/i[s]}}),a.measurement.call(this,e)}}(),function(){var e=t,s=e.$,a=e.presets.scroller,n={min:0,max:100,defaultUnit:"kph",units:["kph","mph","mps","fps","knot"],unitNames:{kph:"km/h",mph:"mi/h",mps:"m/s",fps:"ft/s",knot:"knot"}},i={kph:1,mph:1.60934,mps:3.6,fps:1.09728,knot:1.852};e.presetShort("speed"),a.speed=function(e){var t=s.extend({},n,e.settings);return s.extend(e.settings,t,{sign:!1,convert:function(e,t,s){return e*i[t]/i[s]}}),a.measurement.call(this,e)}}(),function(){var e=t,s=e.$,a=e.presets.scroller,n={min:-20,max:40,defaultUnit:"c",units:["c","k","f","r"],unitNames:{c:"C",k:"K",f:"F",r:"R"}},i={c2k:function(e){return e+273.15},c2f:function(e){return 9*e/5+32},c2r:function(e){return 9*(e+273.15)/5},k2c:function(e){return e-273.15},k2f:function(e){return 9*e/5-459.67},k2r:function(e){return 9*e/5},f2c:function(e){return 5*(e-32)/9},f2k:function(e){return 5*(e+459.67)/9},f2r:function(e){return e+459.67},r2c:function(e){return 5*(e-491.67)/9},r2k:function(e){return 5*e/9},r2f:function(e){return e-459.67}};e.presetShort("temperature"),a.temperature=function(e){var t=s.extend({},n,e.settings);return s.extend(e.settings,t,{sign:!0,convert:function(e,t,s){return i[t+"2"+s](e)}}),a.measurement.call(this,e)}}(),e.module("mobiscroll-measurement",[]).directive("mobiscrollMeasurement",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollMeasurement",{preset:"measurement"})}]).directive("mobiscrollTemperature",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollTemperature",{preset:"temperature"})}]).directive("mobiscrollSpeed",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollSpeed",{preset:"speed"})}]).directive("mobiscrollMass",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollMass",{preset:"mass"})}]).directive("mobiscrollForce",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollForce",{preset:"force"})}]).directive("mobiscrollDistance",["$parse",function(e){return t.ng.getDDO(e,"mobiscrollDistance",{preset:"distance"})}]),t.i18n.es={setText:"Aceptar",cancelText:"Cancelar",clearText:"Borrar",selectedText:"{count} seleccionado",selectedPluralText:"{count} seleccionados",dateFormat:"dd/mm/yy",dayNames:["Domingo","Lunes","Martes","Mi&#xE9;rcoles","Jueves","Viernes","S&#xE1;bado"],dayNamesShort:["Do","Lu","Ma","Mi","Ju","Vi","S&#xE1;"],dayNamesMin:["D","L","M","M","J","V","S"],dayText:"D&#237;a",hourText:"Horas",minuteText:"Minutos",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],monthText:"Mes",secText:"Segundos",timeFormat:"HH:ii",yearText:"A&ntilde;o",nowText:"Ahora",pmText:"pm",amText:"am",todayText:"Hoy",firstDay:1,dateText:"Fecha",timeText:"Tiempo",calendarText:"Calendario",closeText:"Cerrar",fromText:"Iniciar",toText:"Final",wholeText:"Entero",fractionText:"Fraccin",unitText:"Unidad",labels:["Aos","Meses","Das","Horas","Minutos","Segundos",""],labelsShort:["Ao","Mes","Da","Hora","Min","Seg",""],startText:"Iniciar",stopText:"Detngase",resetText:"Reinicializar",lapText:"Lap",hideText:"Esconder",backText:"Atrs",undoText:"Deshacer",offText:"No",onText:"S",decimalSeparator:",",thousandsSeparator:" "},t.customTheme("mobiscroll-dark","mobiscroll"),function(){var e,s=t,a=s.platform,n=s.themes,i=s.$;"android"==a.name?e=a.majorVersion>=5?"material":"android-holo":"ios"==a.name?e="ios":"wp"==a.name&&(e="wp"),t.setAutoTheme=function(){i.each(n.frame,function(t,a){if(a.baseTheme==e&&"android-holo-light"!=t&&"material-dark"!=t&&"wp-light"!=t&&"ios-dark"!=t)return s.autoTheme=t,!1;t==e&&(s.autoTheme=t)})},t.setAutoTheme()}(),t.customTheme("bitrubio","mobiscroll"),t.uid="943ec532",t});
